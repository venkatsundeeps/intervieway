"use strict";(()=>{var e={};e.id=353,e.ids=[353],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2013:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>p,originalPathname:()=>_,requestAsyncStorage:()=>u,routeModule:()=>i,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>d});var s={};r.r(s),r.d(s,{POST:()=>POST});var o=r(884),a=r(6132),n=r(5798);async function POST(e){try{let t=process.env.BOLNA_API_KEY,r=process.env.BOLNA_AGENT_ID;if(!t)return console.error("BOLNA_API_KEY is not configured in environment variables"),n.Z.json({error:"Voice assistant is not configured. Please contact support."},{status:500});if(!r)return console.error("BOLNA_AGENT_ID is not configured in environment variables"),n.Z.json({error:"Voice agent is not configured. Please contact support."},{status:500});let s=await e.json(),{userName:o,phoneNumber:a}=s,i={agent_id:r,recipient_phone_number:a||"+1000000000",user_data:{user_name:o||"Guest",timestamp:new Date().toISOString()}},u=await fetch("https://api.bolna.dev/call",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!u.ok){let e=await u.text();return console.error("Bolna API error:",e),n.Z.json({error:"Failed to start voice session. Please try again."},{status:u.status})}let c=await u.json();return n.Z.json({success:!0,sessionUrl:c.call_url||c.session_url,sessionId:c.call_id||c.session_id,message:"Voice session created successfully"})}catch(e){return console.error("Error starting Bolna voice session:",e),n.Z.json({error:"An unexpected error occurred. Please try again later."},{status:500})}}let i=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/bolna/start/route",pathname:"/api/bolna/start",filename:"route",bundlePath:"app/api/bolna/start/route"},resolvedPagePath:"C:\\Users\\sunto\\OneDrive\\Desktop\\projects\\intervieway\\app\\api\\bolna\\start\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:l,headerHooks:p,staticGenerationBailout:d}=i,_="/api/bolna/start/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[997],()=>__webpack_exec__(2013));module.exports=r})();