"use strict";(()=>{var e={};e.id=350,e.ids=[350],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},876:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>p,originalPathname:()=>m,requestAsyncStorage:()=>u,routeModule:()=>n,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>c});var a={};r.r(a),r.d(a,{POST:()=>POST});var o=r(884),i=r(6132),s=r(5798);async function POST(e){try{let t=await e.json(),{name:r,email:a,phone:o,businessType:i,contactMethod:n,mainChallenge:u,website:d,aiSummary:l,source:p}=t;if(!r||!a)return s.Z.json({ok:!1,error:"Name and email are required"},{status:400});let c=new Date().toISOString(),m={timestamp:c,name:r.trim(),email:a.trim(),phone:o?.trim()||"",businessType:i?.trim()||"",currentContactMethod:n?.trim()||"",mainBusinessChallenge:u?.trim()||"",website:d?.trim()||"",aiGeneratedSummary:l?.trim()||"",source:p||"Intervieway Website Chatbot"},h=process.env.LEAD_WEBHOOK_URL;if(h){let e=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!e.ok)throw console.error("Webhook failed:",await e.text()),Error("Failed to save lead")}else console.log("Lead captured (no LEAD_WEBHOOK_URL set):",m);return s.Z.json({ok:!0})}catch(e){return console.error("Error saving lead:",e),s.Z.json({ok:!1,error:"Failed to save lead"},{status:500})}}let n=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/leads/route",pathname:"/api/leads",filename:"route",bundlePath:"app/api/leads/route"},resolvedPagePath:"C:\\Users\\sunto\\OneDrive\\Desktop\\projects\\intervieway\\app\\api\\leads\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:p,staticGenerationBailout:c}=n,m="/api/leads/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[997],()=>__webpack_exec__(876));module.exports=r})();