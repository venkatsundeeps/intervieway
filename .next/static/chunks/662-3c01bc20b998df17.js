"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3364:function(e,t){var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.HttpClient=t.ContentType=void 0,(o=r||(t.ContentType=r={})).Json="application/json",o.JsonApi="application/vnd.api+json",o.FormData="multipart/form-data",o.UrlEncoded="application/x-www-form-urlencoded",o.Text="text/plain";let HttpClient=class HttpClient{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...e)=>fetch(...e);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(e={}){Object.assign(this,e)}setSecurityData=e=>{this.securityData=e};encodeQueryParam(e,t){let r=encodeURIComponent(e);return`${r}=${encodeURIComponent("number"==typeof t?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){let r=e[t];return r.map(e=>this.encodeQueryParam(t,e)).join("&")}toQueryString(e){let t=e||{},r=Object.keys(t).filter(e=>void 0!==t[e]);return r.map(e=>Array.isArray(t[e])?this.addArrayQueryParam(t,e):this.addQueryParam(t,e)).join("&")}addQueryParams(e){let t=this.toQueryString(e);return t?`?${t}`:""}contentFormatters={[r.Json]:e=>null!==e&&("object"==typeof e||"string"==typeof e)?JSON.stringify(e):e,[r.JsonApi]:e=>null!==e&&("object"==typeof e||"string"==typeof e)?JSON.stringify(e):e,[r.Text]:e=>null!==e&&"string"!=typeof e?JSON.stringify(e):e,[r.FormData]:e=>e instanceof FormData?e:Object.keys(e||{}).reduce((t,r)=>{let o=e[r];return t.append(r,o instanceof Blob?o:"object"==typeof o&&null!==o?JSON.stringify(o):`${o}`),t},new FormData),[r.UrlEncoded]:e=>this.toQueryString(e)};mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}createAbortSignal=e=>{if(this.abortControllers.has(e)){let t=this.abortControllers.get(e);return t?t.signal:void 0}let t=new AbortController;return this.abortControllers.set(e,t),t.signal};abortRequest=e=>{let t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))};request=async({body:e,secure:t,path:o,type:s,query:a,format:i,baseUrl:n,cancelToken:l,...c})=>{let u=("boolean"==typeof t?t:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},d=this.mergeRequestParams(c,u),h=a&&this.toQueryString(a),p=this.contentFormatters[s||r.Json],m=i||d.format;return this.customFetch(`${n||this.baseUrl||""}${o}${h?`?${h}`:""}`,{...d,headers:{...d.headers||{},...s&&s!==r.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):d.signal)||null,body:null==e?null:p(e)}).then(async e=>{e.data=null,e.error=null;let t=m?e.clone():e,r=m?await t[m]().then(t=>(e.ok?e.data=t:e.error=t,e)).catch(t=>(e.error=t,e)):e;if(l&&this.abortControllers.delete(l),!e.ok)throw r;return r})}};t.HttpClient=HttpClient;let Api=class Api extends HttpClient{assistant={assistantControllerCreate:(e,t={})=>this.request({path:"/assistant",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),assistantControllerFindAll:(e,t={})=>this.request({path:"/assistant",method:"GET",query:e,secure:!0,format:"json",...t}),assistantControllerFindOne:(e,t={})=>this.request({path:`/assistant/${e}`,method:"GET",secure:!0,format:"json",...t}),assistantControllerUpdate:(e,t,o={})=>this.request({path:`/assistant/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),assistantControllerReplace:(e,t,o={})=>this.request({path:`/assistant/${e}`,method:"PUT",body:t,secure:!0,type:r.Json,format:"json",...o}),assistantControllerRemove:(e,t={})=>this.request({path:`/assistant/${e}`,method:"DELETE",secure:!0,format:"json",...t}),assistantControllerFindVersions:(e,t,r={})=>this.request({path:`/assistant/${e}/version`,method:"GET",query:t,secure:!0,format:"json",...r})};v2={assistantControllerFindAllPaginated:(e,t={})=>this.request({path:"/v2/assistant",method:"GET",query:e,secure:!0,format:"json",...t}),callControllerCallsExport:(e,t={})=>this.request({path:"/v2/call/export",method:"GET",query:e,secure:!0,...t}),callControllerFindAllPaginated:(e,t={})=>this.request({path:"/v2/call",method:"GET",query:e,secure:!0,format:"json",...t}),callControllerFindAllMetadataPaginated:(e,t={})=>this.request({path:"/v2/call/metadata",method:"GET",query:e,secure:!0,format:"json",...t}),phoneNumberControllerFindAllPaginated:(e,t={})=>this.request({path:"/v2/phone-number",method:"GET",query:e,secure:!0,format:"json",...t})};squad={squadControllerCreate:(e,t={})=>this.request({path:"/squad",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),squadControllerFindAll:(e,t={})=>this.request({path:"/squad",method:"GET",query:e,secure:!0,format:"json",...t}),squadControllerFindOne:(e,t={})=>this.request({path:`/squad/${e}`,method:"GET",secure:!0,format:"json",...t}),squadControllerUpdate:(e,t,o={})=>this.request({path:`/squad/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),squadControllerRemove:(e,t={})=>this.request({path:`/squad/${e}`,method:"DELETE",secure:!0,format:"json",...t})};workflow={workflowControllerFindAll:(e={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...e}),workflowControllerCreate:(e,t={})=>this.request({path:"/workflow",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),workflowControllerFindOne:(e,t={})=>this.request({path:`/workflow/${e}`,method:"GET",secure:!0,format:"json",...t}),workflowControllerDelete:(e,t={})=>this.request({path:`/workflow/${e}`,method:"DELETE",secure:!0,format:"json",...t}),workflowControllerUpdate:(e,t,o={})=>this.request({path:`/workflow/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o})};call={callControllerCreate:(e,t={})=>this.request({path:"/call",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),callControllerFindAll:(e,t={})=>this.request({path:"/call",method:"GET",query:e,secure:!0,format:"json",...t}),callControllerFindOne:(e,t={})=>this.request({path:`/call/${e}`,method:"GET",secure:!0,format:"json",...t}),callControllerUpdate:(e,t,o={})=>this.request({path:`/call/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),callControllerDeleteCallData:(e,t,o={})=>this.request({path:`/call/${e}`,method:"DELETE",body:t,secure:!0,type:r.Json,format:"json",...o}),callControllerCreatePhoneCall:(e,t={})=>this.request({path:"/call/phone",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),callControllerCreateWebCall:(e,t={})=>this.request({path:"/call/web",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})};chat={chatControllerListChats:(e,t={})=>this.request({path:"/chat",method:"GET",query:e,secure:!0,format:"json",...t}),chatControllerCreateChat:(e,t={})=>this.request({path:"/chat",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),chatControllerGetChat:(e,t={})=>this.request({path:`/chat/${e}`,method:"GET",secure:!0,format:"json",...t}),chatControllerDeleteChat:(e,t={})=>this.request({path:`/chat/${e}`,method:"DELETE",secure:!0,format:"json",...t}),chatControllerCreateOpenAiChat:(e,t={})=>this.request({path:"/chat/responses",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),chatControllerCreateWebChat:(e,t={})=>this.request({path:"/chat/web",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),chatControllerCreateOpenAiWebChat:(e,t={})=>this.request({path:"/chat/web/responses",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})};campaign={campaignControllerCreate:(e,t={})=>this.request({path:"/campaign",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),campaignControllerFindAll:(e,t={})=>this.request({path:"/campaign",method:"GET",query:e,secure:!0,format:"json",...t}),campaignControllerFindOne:(e,t={})=>this.request({path:`/campaign/${e}`,method:"GET",secure:!0,format:"json",...t}),campaignControllerUpdate:(e,t,o={})=>this.request({path:`/campaign/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),campaignControllerRemove:(e,t={})=>this.request({path:`/campaign/${e}`,method:"DELETE",secure:!0,format:"json",...t})};session={sessionControllerCreate:(e,t={})=>this.request({path:"/session",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),sessionControllerFindAllPaginated:(e,t={})=>this.request({path:"/session",method:"GET",query:e,secure:!0,format:"json",...t}),sessionControllerFindOne:(e,t={})=>this.request({path:`/session/${e}`,method:"GET",secure:!0,format:"json",...t}),sessionControllerUpdate:(e,t,o={})=>this.request({path:`/session/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),sessionControllerRemove:(e,t={})=>this.request({path:`/session/${e}`,method:"DELETE",secure:!0,format:"json",...t})};phoneNumber={phoneNumberControllerImportTwilio:(e,t={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),phoneNumberControllerImportVonage:(e,t={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),phoneNumberControllerCreate:(e,t={})=>this.request({path:"/phone-number",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),phoneNumberControllerFindAll:(e,t={})=>this.request({path:"/phone-number",method:"GET",query:e,secure:!0,format:"json",...t}),phoneNumberControllerFindOne:(e,t={})=>this.request({path:`/phone-number/${e}`,method:"GET",secure:!0,format:"json",...t}),phoneNumberControllerUpdate:(e,t,o={})=>this.request({path:`/phone-number/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),phoneNumberControllerRemove:(e,t={})=>this.request({path:`/phone-number/${e}`,method:"DELETE",secure:!0,format:"json",...t})};tool={toolControllerCreate:(e,t={})=>this.request({path:"/tool",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),toolControllerFindAll:(e,t={})=>this.request({path:"/tool",method:"GET",query:e,secure:!0,format:"json",...t}),toolControllerFindOne:(e,t={})=>this.request({path:`/tool/${e}`,method:"GET",secure:!0,format:"json",...t}),toolControllerUpdate:(e,t,o={})=>this.request({path:`/tool/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),toolControllerRemove:(e,t={})=>this.request({path:`/tool/${e}`,method:"DELETE",secure:!0,format:"json",...t})};file={fileControllerCreateDeprecated:(e,t={})=>this.request({path:"/file/upload",method:"POST",body:e,secure:!0,type:r.FormData,format:"json",...t}),fileControllerCreate:(e,t={})=>this.request({path:"/file",method:"POST",body:e,secure:!0,type:r.FormData,format:"json",...t}),fileControllerFindAll:(e={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...e}),fileControllerFindOne:(e,t={})=>this.request({path:`/file/${e}`,method:"GET",secure:!0,format:"json",...t}),fileControllerUpdate:(e,t,o={})=>this.request({path:`/file/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),fileControllerRemove:(e,t={})=>this.request({path:`/file/${e}`,method:"DELETE",secure:!0,format:"json",...t})};knowledgeBase={knowledgeBaseControllerCreate:(e,t={})=>this.request({path:"/knowledge-base",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),knowledgeBaseControllerFindAll:(e,t={})=>this.request({path:"/knowledge-base",method:"GET",query:e,secure:!0,format:"json",...t}),knowledgeBaseControllerFindOne:(e,t={})=>this.request({path:`/knowledge-base/${e}`,method:"GET",secure:!0,format:"json",...t}),knowledgeBaseControllerUpdate:(e,t,o={})=>this.request({path:`/knowledge-base/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),knowledgeBaseControllerRemove:(e,t={})=>this.request({path:`/knowledge-base/${e}`,method:"DELETE",secure:!0,format:"json",...t})};structuredOutput={structuredOutputControllerFindAll:(e,t={})=>this.request({path:"/structured-output",method:"GET",query:e,secure:!0,format:"json",...t}),structuredOutputControllerCreate:(e,t={})=>this.request({path:"/structured-output",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),structuredOutputControllerFindOne:(e,t={})=>this.request({path:`/structured-output/${e}`,method:"GET",secure:!0,format:"json",...t}),structuredOutputControllerUpdate:(e,t,o,s={})=>this.request({path:`/structured-output/${e}`,method:"PATCH",query:t,body:o,secure:!0,type:r.Json,format:"json",...s}),structuredOutputControllerRemove:(e,t={})=>this.request({path:`/structured-output/${e}`,method:"DELETE",secure:!0,format:"json",...t}),structuredOutputControllerRun:(e,t={})=>this.request({path:"/structured-output/run",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})};testSuite={testSuiteControllerFindAllPaginated:(e,t={})=>this.request({path:"/test-suite",method:"GET",query:e,secure:!0,format:"json",...t}),testSuiteControllerCreate:(e,t={})=>this.request({path:"/test-suite",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),testSuiteControllerFindOne:(e,t={})=>this.request({path:`/test-suite/${e}`,method:"GET",secure:!0,format:"json",...t}),testSuiteControllerUpdate:(e,t,o={})=>this.request({path:`/test-suite/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),testSuiteControllerRemove:(e,t={})=>this.request({path:`/test-suite/${e}`,method:"DELETE",secure:!0,format:"json",...t}),testSuiteTestControllerFindAllPaginated:(e,t,r={})=>this.request({path:`/test-suite/${e}/test`,method:"GET",query:t,secure:!0,format:"json",...r}),testSuiteTestControllerCreate:(e,t,o={})=>this.request({path:`/test-suite/${e}/test`,method:"POST",body:t,secure:!0,type:r.Json,format:"json",...o}),testSuiteTestControllerFindOne:(e,t,r={})=>this.request({path:`/test-suite/${e}/test/${t}`,method:"GET",secure:!0,format:"json",...r}),testSuiteTestControllerUpdate:(e,t,o,s={})=>this.request({path:`/test-suite/${e}/test/${t}`,method:"PATCH",body:o,secure:!0,type:r.Json,format:"json",...s}),testSuiteTestControllerRemove:(e,t,r={})=>this.request({path:`/test-suite/${e}/test/${t}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteRunControllerFindAllPaginated:(e,t,r={})=>this.request({path:`/test-suite/${e}/run`,method:"GET",query:t,secure:!0,format:"json",...r}),testSuiteRunControllerCreate:(e,t,o={})=>this.request({path:`/test-suite/${e}/run`,method:"POST",body:t,secure:!0,type:r.Json,format:"json",...o}),testSuiteRunControllerFindOne:(e,t,r={})=>this.request({path:`/test-suite/${e}/run/${t}`,method:"GET",secure:!0,format:"json",...r}),testSuiteRunControllerUpdate:(e,t,o,s={})=>this.request({path:`/test-suite/${e}/run/${t}`,method:"PATCH",body:o,secure:!0,type:r.Json,format:"json",...s}),testSuiteRunControllerRemove:(e,t,r={})=>this.request({path:`/test-suite/${e}/run/${t}`,method:"DELETE",secure:!0,format:"json",...r})};reporting={insightControllerCreate:(e,t={})=>this.request({path:"/reporting/insight",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),insightControllerFindAll:(e,t={})=>this.request({path:"/reporting/insight",method:"GET",query:e,secure:!0,format:"json",...t}),insightControllerUpdate:(e,t,o={})=>this.request({path:`/reporting/insight/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),insightControllerFindOne:(e,t={})=>this.request({path:`/reporting/insight/${e}`,method:"GET",secure:!0,format:"json",...t}),insightControllerRemove:(e,t={})=>this.request({path:`/reporting/insight/${e}`,method:"DELETE",secure:!0,format:"json",...t}),insightControllerRun:(e,t,o={})=>this.request({path:`/reporting/insight/${e}/run`,method:"POST",body:t,secure:!0,type:r.Json,format:"json",...o}),insightControllerPreview:(e,t={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})};eval={evalControllerCreate:(e,t={})=>this.request({path:"/eval",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),evalControllerGetPaginated:(e,t={})=>this.request({path:"/eval",method:"GET",query:e,secure:!0,format:"json",...t}),evalControllerUpdate:(e,t,o={})=>this.request({path:`/eval/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),evalControllerRemove:(e,t={})=>this.request({path:`/eval/${e}`,method:"DELETE",secure:!0,format:"json",...t}),evalControllerGet:(e,t={})=>this.request({path:`/eval/${e}`,method:"GET",secure:!0,format:"json",...t}),evalControllerRemoveRun:(e,t={})=>this.request({path:`/eval/run/${e}`,method:"DELETE",secure:!0,format:"json",...t}),evalControllerGetRun:(e,t={})=>this.request({path:`/eval/run/${e}`,method:"GET",secure:!0,format:"json",...t}),evalControllerRun:(e,t={})=>this.request({path:"/eval/run",method:"POST",body:e,secure:!0,type:r.Json,...t}),evalControllerGetRunsPaginated:(e,t={})=>this.request({path:"/eval/run",method:"GET",query:e,secure:!0,format:"json",...t})};observability={scorecardControllerGet:(e,t={})=>this.request({path:`/observability/scorecard/${e}`,method:"GET",secure:!0,format:"json",...t}),scorecardControllerUpdate:(e,t,o={})=>this.request({path:`/observability/scorecard/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),scorecardControllerRemove:(e,t={})=>this.request({path:`/observability/scorecard/${e}`,method:"DELETE",secure:!0,format:"json",...t}),scorecardControllerGetPaginated:(e,t={})=>this.request({path:"/observability/scorecard",method:"GET",query:e,secure:!0,format:"json",...t}),scorecardControllerCreate:(e,t={})=>this.request({path:"/observability/scorecard",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})};org={orgControllerCreate:(e,t={})=>this.request({path:"/org",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),orgControllerFindAll:(e={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...e}),orgControllerFeatureFlagEnabled:(e,t={})=>this.request({path:"/org/feature-flag",method:"GET",query:e,secure:!0,format:"json",...t}),orgControllerFindOne:(e,t={})=>this.request({path:`/org/${e}`,method:"GET",secure:!0,format:"json",...t}),orgControllerUpdate:(e,t,o={})=>this.request({path:`/org/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),orgControllerDeleteOrg:(e,t={})=>this.request({path:`/org/${e}`,method:"DELETE",secure:!0,...t}),orgControllerFindAllUsers:(e,t={})=>this.request({path:`/org/${e}/user`,method:"GET",secure:!0,format:"json",...t}),orgControllerOrgLeave:(e,t={})=>this.request({path:`/org/${e}/leave`,method:"DELETE",secure:!0,...t}),orgControllerOrgRemoveUser:(e,t,r={})=>this.request({path:`/org/${e}/member/${t}/leave`,method:"DELETE",secure:!0,...r}),orgControllerUsersInvite:(e,t,o={})=>this.request({path:`/org/${e}/invite`,method:"POST",body:t,secure:!0,type:r.Json,...o}),orgControllerUserUpdate:(e,t,o={})=>this.request({path:`/org/${e}/role`,method:"PATCH",body:t,secure:!0,type:r.Json,...o}),orgControllerOrgToken:(e,t={})=>this.request({path:`/org/${e}/auth`,method:"GET",secure:!0,format:"json",...t})};token={tokenControllerCreate:(e,t={})=>this.request({path:"/token",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),tokenControllerFindAll:(e,t={})=>this.request({path:"/token",method:"GET",query:e,secure:!0,format:"json",...t}),tokenControllerFindOne:(e,t={})=>this.request({path:`/token/${e}`,method:"GET",secure:!0,format:"json",...t}),tokenControllerUpdate:(e,t,o={})=>this.request({path:`/token/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),tokenControllerRemove:(e,t={})=>this.request({path:`/token/${e}`,method:"DELETE",secure:!0,format:"json",...t})};credential={credentialControllerCreate:(e,t={})=>this.request({path:"/credential",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),credentialControllerFindAll:(e,t={})=>this.request({path:"/credential",method:"GET",query:e,secure:!0,format:"json",...t}),credentialControllerFindOne:(e,t={})=>this.request({path:`/credential/${e}`,method:"GET",secure:!0,format:"json",...t}),credentialControllerUpdate:(e,t,o={})=>this.request({path:`/credential/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),credentialControllerRemove:(e,t={})=>this.request({path:`/credential/${e}`,method:"DELETE",secure:!0,format:"json",...t})};template={templateControllerCreate:(e,t={})=>this.request({path:"/template",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),templateControllerFindAll:(e,t={})=>this.request({path:"/template",method:"GET",query:e,secure:!0,format:"json",...t}),templateControllerFindAllPinned:(e={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...e}),templateControllerFindOne:(e,t={})=>this.request({path:`/template/${e}`,method:"GET",secure:!0,format:"json",...t}),templateControllerUpdate:(e,t,o={})=>this.request({path:`/template/${e}`,method:"PATCH",body:t,secure:!0,type:r.Json,format:"json",...o}),templateControllerRemove:(e,t={})=>this.request({path:`/template/${e}`,method:"DELETE",secure:!0,format:"json",...t})};voiceLibrary={voiceLibraryControllerVoiceGetByProvider:(e,t,r={})=>this.request({path:`/voice-library/${e}`,method:"GET",query:t,secure:!0,format:"json",...r}),voiceLibraryControllerVoiceGetAccentsByProvider:(e,t={})=>this.request({path:`/voice-library/${e}/accents`,method:"GET",secure:!0,format:"json",...t}),voiceLibraryControllerVoiceLibrarySyncByProvider:(e,t={})=>this.request({path:`/voice-library/sync/${e}`,method:"POST",secure:!0,format:"json",...t}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(e,t={})=>this.request({path:"/voice-library/sync",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(e,t={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:e,secure:!0,type:r.Json,...t})};provider={providerResourceControllerCreateProviderResource:(e,t,r={})=>this.request({path:`/provider/${e}/${t}`,method:"POST",secure:!0,format:"json",...r}),providerResourceControllerGetProviderResourcesPaginated:(e,t,r,o={})=>this.request({path:`/provider/${e}/${t}`,method:"GET",query:r,secure:!0,format:"json",...o}),providerResourceControllerGetProviderResource:(e,t,r,o={})=>this.request({path:`/provider/${e}/${t}/${r}`,method:"GET",secure:!0,format:"json",...o}),providerResourceControllerDeleteProviderResource:(e,t,r,o={})=>this.request({path:`/provider/${e}/${t}/${r}`,method:"DELETE",secure:!0,format:"json",...o}),providerResourceControllerUpdateProviderResource:(e,t,r,o={})=>this.request({path:`/provider/${e}/${t}/${r}`,method:"PATCH",secure:!0,format:"json",...o}),providerControllerGetWorkflows:(e,t,r={})=>this.request({path:`/${e}/workflows`,method:"GET",query:t,secure:!0,format:"json",...r}),providerControllerGetWorkflowTriggerHook:(e,t,r={})=>this.request({path:`/${e}/workflows/${t}/hooks`,method:"GET",secure:!0,format:"json",...r}),providerControllerGetLocations:(e,t={})=>this.request({path:`/${e}/locations`,method:"GET",secure:!0,format:"json",...t}),voiceProviderControllerSearchVoices:(e,t,r={})=>this.request({path:`/${e}/voices/search`,method:"GET",query:t,secure:!0,format:"json",...r}),voiceProviderControllerSearchVoice:(e,t,r={})=>this.request({path:`/${e}/voice/search`,method:"GET",query:t,secure:!0,format:"json",...r}),voiceProviderControllerAddVoices:(e,t,o={})=>this.request({path:`/${e}/voices/add`,method:"POST",body:t,secure:!0,type:r.Json,format:"json",...o}),voiceProviderControllerAddVoice:(e,t,o={})=>this.request({path:`/${e}/voice/add`,method:"POST",body:t,secure:!0,type:r.Json,format:"json",...o})};v11Labs={voiceProviderControllerCloneVoices:(e,t={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:e,secure:!0,type:r.FormData,...t})};analytics={analyticsControllerQuery:(e,t={})=>this.request({path:"/analytics",method:"POST",body:e,secure:!0,type:r.Json,format:"json",...t})}};t.Api=Api},2623:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;let o=r(3364),s=new o.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});t.client=s},8727:function(e,t){function createSafeDailyConfig(e){if(!e)return{};let{alwaysIncludeMicInPermissionPrompt:t,...r}=e;return!1===t?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),r):e}function safeSetLocalAudio(e,t){if(!e)throw Error("Call object is not available.");e.setLocalAudio(t)}async function safeSetInputDevicesAsync(e,t){if(!e)throw Error("Call object is not available.");if("audioSource"in t&&!1===t.audioSource){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");let{audioSource:r,...o}=t;await e.setInputDevicesAsync(o);return}await e.setInputDevicesAsync(t)}function createSafeDailyFactoryOptions(e){return e?!1===e.audioSource?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSafeDailyConfig=createSafeDailyConfig,t.safeSetLocalAudio=safeSetLocalAudio,t.safeSetInputDevicesAsync=safeSetInputDevicesAsync,t.createSafeDailyFactoryOptions=createSafeDailyFactoryOptions},9553:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=o(r(9204)),a=o(r(512)),i=r(2623),n=r(8727);function serializeError(e){if(null==e)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){let t={message:e.message,name:e.name,stack:e.stack};return void 0!==e.code&&(t.code=e.code),void 0!==e.cause&&(t.cause=String(e.cause)),void 0!==e.reason&&(t.reason=e.reason),void 0!==e.details&&(t.details=e.details),void 0!==e.errorMsg&&(t.errorMsg=e.errorMsg),void 0!==e.error&&"string"==typeof e.error&&(t.errorDetail=e.error),t}return"string"==typeof e?{message:e}:"object"==typeof e?{message:e.message||e.error||JSON.stringify(e),...e}:{message:String(e)}}async function startAudioPlayer(e,t){e.muted=!1,e.autoplay=!0,null!=t&&(e.srcObject=new MediaStream([t]),await e.play())}async function buildAudioPlayer(e,t){let r=document.createElement("audio");return r.dataset.participantId=t,document.body.appendChild(r),await startAudioPlayer(r,e),r}function destroyAudioPlayer(e){let t=document.querySelector(`audio[data-participant-id="${e}"]`);t?.remove()}function subscribeToTracks(e,t,r,o){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:r||o}})}let VapiEventEmitter=class VapiEventEmitter extends a.default{on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}emit(e,...t){return super.emit(e,...t)}removeListener(e,t){return super.removeListener(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}};let Vapi=class Vapi extends VapiEventEmitter{started=!1;call=null;speakingTimeout=null;dailyCallConfig={};dailyCallObject={};hasEmittedCallEndedStatus=!1;constructor(e,t,r,o){super(),i.client.baseUrl=t??"https://api.vapi.ai",i.client.setSecurityData(e),this.dailyCallConfig=(0,n.createSafeDailyConfig)(r),this.dailyCallObject=(0,n.createSafeDailyFactoryOptions)(o)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if("undefined"==typeof navigator)return!1;let e=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(e.toLowerCase())}async sleep(e){return new Promise(t=>setTimeout(t,e))}async start(e,t,r,o,a,l){let c=Date.now();if(!e&&!r&&!o){let e=Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:serializeError(e),timestamp:new Date().toISOString()}),e}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!e,hasSquad:!!r,hasWorkflow:!!o}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});let u=Date.now(),d=(await i.client.call.callControllerCreateWebCall({assistant:"string"==typeof e?void 0:e,assistantId:"string"==typeof e?e:void 0,assistantOverrides:t,squad:"string"==typeof r?void 0:r,squadId:"string"==typeof r?r:void 0,workflow:"string"==typeof o?void 0:o,workflowId:"string"==typeof o?o:void 0,workflowOverrides:a,roomDeleteOnUserLeaveEnabled:l?.roomDeleteOnUserLeaveEnabled})).data,h=Date.now()-u;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:h,timestamp:new Date().toISOString(),metadata:{callId:d?.id||"unknown",videoRecordingEnabled:d?.artifactPlan?.videoRecordingEnabled??!1,voiceProvider:d?.assistant?.voice?.provider||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());let p=d?.artifactPlan?.videoRecordingEnabled??!1,m=d?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??p,isVideoRecordingEnabled:p,isVideoEnabled:m}});let y=Date.now();try{this.call=s.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??p,dailyConfig:this.dailyCallConfig});let e=Date.now()-y;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-y,t=serializeError(r);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:t,timestamp:new Date().toISOString()}),r}this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),p&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",e=>{this.emit("error",{type:"daily-error",error:serializeError(e),timestamp:new Date().toISOString()}),p&&this.call?.stopRecording()}),this.call.on("camera-error",e=>{this.emit("camera-error",{type:"camera-error",error:serializeError(e),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",e=>{this.emit("network-quality-change",e)}),this.call.on("network-connection",e=>{this.emit("network-connection",e)}),this.call.on("track-started",async e=>{!e||!e.participant||e.participant?.local||e.participant?.user_name!=="Vapi Speaker"||("video"===e.track.kind&&this.emit("video",e.track),"audio"===e.track.kind&&await buildAudioPlayer(e.track,e.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",e=>{e&&this.call&&subscribeToTracks(e,this.call,p,m)}),this.call.on("participant-updated",e=>{e&&this.emit("daily-participant-updated",e.participant)}),this.call.on("participant-left",e=>{e&&destroyAudioPlayer(e.participant.session_id)});let f=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:f}}),f){let e=Date.now();await this.sleep(1e3);let t=Date.now()-e;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:t,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let g=Date.now();try{await this.call.join({url:d.webCallUrl,subscribeToTracksAutomatically:!1});let e=Date.now()-g;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-g,t=serializeError(r);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:t,duration:e,timestamp:new Date().toISOString()}),r}if(p){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let e=new Date().getTime(),t=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let r=Date.now()-t;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:r,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let t=(new Date().getTime()-e)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:t}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:t})})}catch(o){let e=Date.now()-t,r=serializeError(o);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:r.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:r,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let v=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let e=Date.now()-v;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-v,t=serializeError(r);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:t,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",e=>{e&&this.handleRemoteParticipantsAudioLevel(e)}),this.call.on("app-message",e=>this.onAppMessage(e)),this.call.on("nonfatal-error",e=>{e?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{n.safeSetLocalAudio(this.call,!0)})}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let C=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let e=Date.now()-C;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-C,t=serializeError(r);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:t,timestamp:new Date().toISOString()})}let b=Date.now()-c;return this.emit("call-start-success",{totalDuration:b,callId:d?.id||"unknown",timestamp:new Date().toISOString()}),d}catch(a){let t=Date.now()-c,s=serializeError(a);return this.emit("call-start-failed",{stage:"unknown",totalDuration:t,error:s.message,errorStack:s.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!e,hasSquad:!!r,hasWorkflow:!!o,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:s,totalDuration:t,timestamp:new Date().toISOString(),context:{hasAssistant:!!e,hasSquad:!!r,hasWorkflow:!!o,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(e){if(e)try{if("listening"===e.data)return this.emit("call-start");try{let t=JSON.parse(e.data);this.emit("message",t),t&&"type"in t&&"status"in t&&"status-update"===t.type&&"ended"===t.status&&(this.hasEmittedCallEndedStatus=!0)}catch(e){console.log("Error parsing message data: ",e)}}catch(e){console.error(e)}}handleRemoteParticipantsAudioLevel(e){let t=Object.values(e.participantsAudioLevel).reduce((e,t)=>e+t,0);this.emit("volume-level",Math.min(1,t/.15)),t>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(e){this.call?.sendAppMessage(JSON.stringify(e))}setMuted(e){(0,n.safeSetLocalAudio)(this.call,!e)}isMuted(){return!!this.call&&!1===this.call.localAudio()}say(e,t,r,o){this.send({type:"say",message:e,endCallAfterSpoken:t,interruptionsEnabled:r??!1,interruptAssistantEnabled:o??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(e){return(0,n.safeSetInputDevicesAsync)(this.call,e)}async increaseMicLevel(e){if(!this.call)throw Error("Call object is not available.");try{let t=await navigator.mediaDevices.getUserMedia({audio:!0}),r=new AudioContext,o=r.createMediaStreamSource(t),s=r.createGain();s.gain.value=e,o.connect(s);let a=r.createMediaStreamDestination();s.connect(a);let[i]=a.stream.getAudioTracks();await (0,n.safeSetInputDevicesAsync)(this.call,{audioSource:i})}catch(e){console.error("Error adjusting microphone level:",e)}}setOutputDeviceAsync(e){this.call?.setOutputDeviceAsync(e)}getDailyCallObject(){return this.call}startScreenSharing(e,t){this.call?.startScreenShare({displayMediaOptions:e,screenVideoSendSettings:t})}stopScreenSharing(){this.call?.stopScreenShare()}async reconnect(e){let t=Date.now();if(this.started)throw Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!e.webCallUrl)throw Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:e.id||"unknown",hasVideoRecording:!!e?.artifactPlan?.videoRecordingEnabled,voiceProvider:e?.assistant?.voice?.provider||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));let r=e?.artifactPlan?.videoRecordingEnabled??!1,o=e?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??r,isVideoRecordingEnabled:r,isVideoEnabled:o}});let a=Date.now();this.call=s.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??r,dailyConfig:this.dailyCallConfig});let i=Date.now()-a;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:i,timestamp:new Date().toISOString()}),this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),r&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",e=>{this.emit("error",{type:"daily-error",error:serializeError(e),timestamp:new Date().toISOString()}),r&&this.call?.stopRecording()}),this.call.on("camera-error",e=>{this.emit("camera-error",{type:"camera-error",error:serializeError(e),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",e=>{this.emit("network-quality-change",e)}),this.call.on("network-connection",e=>{this.emit("network-connection",e)}),this.call.on("track-started",async e=>{!e||!e.participant||e.participant?.local||e.participant?.user_name!=="Vapi Speaker"||("video"===e.track.kind&&this.emit("video",e.track),"audio"===e.track.kind&&await buildAudioPlayer(e.track,e.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",e=>{e&&this.call&&subscribeToTracks(e,this.call,r,o)}),this.call.on("participant-updated",e=>{e&&this.emit("daily-participant-updated",e.participant)}),this.call.on("participant-left",e=>{e&&destroyAudioPlayer(e.participant.session_id)}),this.call.on("remote-participants-audio-level",e=>{e&&this.handleRemoteParticipantsAudioLevel(e)}),this.call.on("app-message",e=>this.onAppMessage(e)),this.call.on("nonfatal-error",e=>{e?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{n.safeSetLocalAudio(this.call,!0)})});let l=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:l}}),l){let e=Date.now();await this.sleep(1e3);let t=Date.now()-e;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:t,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let c=Date.now();await this.call.join({url:e.webCallUrl,subscribeToTracksAutomatically:!1});let u=Date.now()-c;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:u,timestamp:new Date().toISOString()}),r){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let e=Date.now(),t=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let r=Date.now()-e;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:r,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let e=(new Date().getTime()-t)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:e}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:e})})}catch(o){let t=Date.now()-e,r=serializeError(o);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:t,timestamp:new Date().toISOString(),metadata:{error:r.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let d=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let e=Date.now()-d;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-d,t=serializeError(r);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let h=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let e=Date.now()-h;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:e,timestamp:new Date().toISOString()})}catch(r){let e=Date.now()-h,t=serializeError(r);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:e,timestamp:new Date().toISOString(),metadata:{error:t.message}})}let p=Date.now()-t;this.emit("call-start-success",{totalDuration:p,callId:e?.id||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(s){let r=Date.now()-t,o=serializeError(s);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:r,error:o.message,errorStack:o.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:e?.id||"unknown",hasVideoRecording:!!e?.artifactPlan?.videoRecordingEnabled,voiceProvider:e?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:o,totalDuration:r,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:e?.id||"unknown",hasVideoRecording:!!e?.artifactPlan?.videoRecordingEnabled,voiceProvider:e?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),s}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");let e={},t=null;try{console.log("Creating temporary call object for testing..."),t=s.default.createCallObject({audioSource:!0,videoSource:!0}),console.log("\n1. Testing network connectivity (TURN server)...");let r=null;try{let o=await navigator.mediaDevices.getUserMedia({video:!0});r=o.getVideoTracks()[0];let s=await t.testNetworkConnectivity(r);e.networkConnectivity=s,console.log("Network connectivity test result:",s)}catch(t){e.networkConnectivity={result:"error",error:t?.toString()},console.error("Network connectivity test error:",t)}finally{r&&r.stop()}console.log("\n2. Testing websocket connectivity...");try{let r=await t.testWebsocketConnectivity();e.websocketConnectivity=r,console.log("Websocket connectivity test result:",r)}catch(t){e.websocketConnectivity={result:"error",error:t?.toString()},console.error("Websocket connectivity test error:",t)}console.log("\n3. Testing call quality...");try{if("function"==typeof t.testCallQuality)try{console.log("Initializing call state with startCamera..."),await t.startCamera();let r=await t.testCallQuality();e.callQuality=r,console.log("Call quality test result:",r)}catch(t){console.error("Failed to start camera for call quality test:",t),e.callQuality={result:"error",error:t?.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else e.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(t){e.callQuality={result:"error",error:t?.toString()},console.error("Call quality test error:",t)}}catch(t){console.error("Failed to create temporary call object:",t),e.error=t?.toString()}finally{if(t)try{console.log("Cleaning up temporary call object..."),await t.destroy()}catch(e){console.error("Error destroying temporary call object:",e)}}return console.log("\n=== Network Test Summary ==="),console.log("Results:",JSON.stringify(e,null,2)),e}};t.default=Vapi},512:function(e){var t,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var a=10;function checkListener(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,o){if(checkListener(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),i=a[t]),void 0===i)i=a[t]=r,++e._eventsCount;else if("function"==typeof i?i=a[t]=o?[r,i]:[i,r]:o?i.unshift(r):i.push(r),(s=_getMaxListeners(e))>0&&i.length>s&&!i.warned){i.warned=!0;var s,a,i,n=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=i.length,ProcessEmitWarning(n)}return e}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=onceWrapper.bind(o);return s.listener=r,o.wrapFn=s,s}function _listeners(e,t,r){var o=e._events;if(void 0===o)return[];var s=o[t];return void 0===s?[]:"function"==typeof s?r?[s.listener||s]:[s]:r?unwrapListeners(s):arrayClone(s,s.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=Array(t),o=0;o<t;++o)r[o]=e[o];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once(e,t){return new Promise(function(r,o){function errorListener(r){e.removeListener(t,resolver),o(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&addErrorHandlerIfEventEmitter(e,errorListener,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,o){if("function"==typeof e.on)o.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function wrapListener(s){o.once&&e.removeEventListener(t,wrapListener),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var s="error"===e,a=this._events;if(void 0!==a)s=s&&void 0===a.error;else if(!s)return!1;if(s){if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var i,n=Error("Unhandled error."+(i?" ("+i.message+")":""));throw n.context=i,n}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else for(var c=l.length,u=arrayClone(l,c),r=0;r<c;++r)o(u[r],this,t);return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var r,o,s,a,i;if(checkListener(t),void 0===(o=this._events)||void 0===(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){i=r[a].listener,s=a;break}if(s<0)return this;0===s?r.shift():spliceOne(r,s),1===r.length&&(o[e]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",e,i||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var s,a=Object.keys(r);for(o=0;o<a.length;++o)"removeListener"!==(s=a[o])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},5531:function(e,t,r){r.d(t,{Z:function(){return createLucideIcon}});var o=r(2265);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),toPascalCase=e=>{let t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),hasA11yProp=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:n,iconNode:l,...c},u)=>(0,o.createElement)("svg",{ref:u,...s,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:mergeClasses("lucide",i),...!n&&!hasA11yProp(c)&&{"aria-hidden":"true"},...c},[...l.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(n)?n:[n]])),createLucideIcon=(e,t)=>{let r=(0,o.forwardRef)(({className:r,...s},i)=>(0,o.createElement)(a,{ref:i,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,r),...s}));return r.displayName=toPascalCase(e),r}},2176:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);let s=(0,o.Z)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},4043:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);let s=(0,o.Z)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},5671:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);let s=(0,o.Z)("phone-off",[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]])},4280:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);let s=(0,o.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2549:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);let s=(0,o.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},622:function(e,t,r){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var o,a={},c=null,u=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,o)&&!l.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:n.current}}t.Fragment=a,t.jsx=q,t.jsxs=q},7437:function(e,t,r){e.exports=r(622)}}]);