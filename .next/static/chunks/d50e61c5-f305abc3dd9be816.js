"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{9204:function(g,m,y){let _,b,k,E,T,A,C,M;function e(g,m){if(null==g)return{};var y,_,b=function(g,m){if(null==g)return{};var y={};for(var _ in g)if(({}).hasOwnProperty.call(g,_)){if(-1!==m.indexOf(_))continue;y[_]=g[_]}return y}(g,m);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(g);for(_=0;_<k.length;_++)y=k[_],-1===m.indexOf(y)&&({}).propertyIsEnumerable.call(g,y)&&(b[y]=g[y])}return b}function t(g,m){if(!(g instanceof m))throw TypeError("Cannot call a class as a function")}function n(g){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(g)}function r(g){var m=function(g,m){if("object"!=n(g)||!g)return g;var y=g[Symbol.toPrimitive];if(void 0!==y){var _=y.call(g,m||"default");if("object"!=n(_))return _;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(g)}(g,"string");return"symbol"==n(m)?m:m+""}function i(g,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,r(_.key),_)}}function o(g,m,y){return m&&i(g.prototype,m),y&&i(g,y),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g,m){if(m&&("object"==n(m)||"function"==typeof m))return m;if(void 0!==m)throw TypeError("Derived constructors may only return object or undefined");return function(g){if(void 0===g)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function a(g){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(g)}function c(g,m){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,m){return g.__proto__=m,g})(g,m)}function l(g,m){if("function"!=typeof m&&null!==m)throw TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&c(g,m)}function u(g,m,y){return(m=r(m))in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}function d(g,m,y,_,b,k,E){try{var T=g[k](E),A=T.value}catch(g){return void y(g)}T.done?m(A):Promise.resolve(A).then(_,b)}function p(g){return function(){var m=this,y=arguments;return new Promise(function(_,b){var k=g.apply(m,y);function s(g){d(k,_,b,s,a,"next",g)}function a(g){d(k,_,b,s,a,"throw",g)}s(void 0)})}}function h(g,m){(null==m||m>g.length)&&(m=g.length);for(var y=0,_=Array(m);y<m;y++)_[y]=g[y];return _}function f(g,m){return function(g){if(Array.isArray(g))return g}(g)||function(g,m){var y=null==g?null:"undefined"!=typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(null!=y){var _,b,k,E,T=[],A=!0,C=!1;try{if(k=(y=y.call(g)).next,0===m){if(Object(y)!==y)return;A=!1}else for(;!(A=(_=k.call(y)).done)&&(T.push(_.value),T.length!==m);A=!0);}catch(g){C=!0,b=g}finally{try{if(!A&&null!=y.return&&(E=y.return(),Object(E)!==E))return}finally{if(C)throw b}}return T}}(g,m)||function(g,m){if(g){if("string"==typeof g)return h(g,m);var y=({}).toString.call(g).slice(8,-1);return"Object"===y&&g.constructor&&(y=g.constructor.name),"Map"===y||"Set"===y?Array.from(g):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?h(g,m):void 0}}(g,m)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}y.r(m),y.d(m,{DAILY_ACCESS_LEVEL_FULL:function(){return ts},DAILY_ACCESS_LEVEL_LOBBY:function(){return tl},DAILY_ACCESS_LEVEL_NONE:function(){return tu},DAILY_ACCESS_UNKNOWN:function(){return to},DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:function(){return tT},DAILY_CAMERA_ERROR_CAM_IN_USE:function(){return tw},DAILY_CAMERA_ERROR_CONSTRAINTS:function(){return tM},DAILY_CAMERA_ERROR_MIC_IN_USE:function(){return tE},DAILY_CAMERA_ERROR_NOT_FOUND:function(){return tC},DAILY_CAMERA_ERROR_PERMISSIONS:function(){return tA},DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:function(){return tO},DAILY_CAMERA_ERROR_UNKNOWN:function(){return tI},DAILY_EVENT_ACCESS_STATE_UPDATED:function(){return tz},DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:function(){return np},DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:function(){return nh},DAILY_EVENT_APP_MSG:function(){return nn},DAILY_EVENT_CAMERA_ERROR:function(){return tF},DAILY_EVENT_CPU_LOAD_CHANGE:function(){return ng},DAILY_EVENT_ERROR:function(){return nC},DAILY_EVENT_EXIT_FULLSCREEN:function(){return n_},DAILY_EVENT_FACE_COUNTS_UPDATED:function(){return nm},DAILY_EVENT_FULLSCREEN:function(){return ny},DAILY_EVENT_IFRAME_LAUNCH_CONFIG:function(){return tL},DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:function(){return tP},DAILY_EVENT_INPUT_SETTINGS_UPDATED:function(){return nA},DAILY_EVENT_JOINED_MEETING:function(){return tU},DAILY_EVENT_JOINING_MEETING:function(){return tV},DAILY_EVENT_LANG_UPDATED:function(){return nE},DAILY_EVENT_LEFT_MEETING:function(){return tB},DAILY_EVENT_LIVE_STREAMING_ERROR:function(){return nw},DAILY_EVENT_LIVE_STREAMING_STARTED:function(){return nb},DAILY_EVENT_LIVE_STREAMING_STOPPED:function(){return nk},DAILY_EVENT_LIVE_STREAMING_UPDATED:function(){return nS},DAILY_EVENT_LOADED:function(){return tR},DAILY_EVENT_LOADING:function(){return tN},DAILY_EVENT_LOAD_ATTEMPT_FAILED:function(){return tj},DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:function(){return nd},DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:function(){return nl},DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:function(){return nu},DAILY_EVENT_MEETING_SESSION_DATA_ERROR:function(){return tK},DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:function(){return tG},DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:function(){return tW},DAILY_EVENT_NETWORK_CONNECTION:function(){return nv},DAILY_EVENT_NETWORK_QUALITY_CHANGE:function(){return nf},DAILY_EVENT_NONFATAL_ERROR:function(){return nO},DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:function(){return tq},DAILY_EVENT_PARTICIPANT_JOINED:function(){return tJ},DAILY_EVENT_PARTICIPANT_LEFT:function(){return t$},DAILY_EVENT_PARTICIPANT_UPDATED:function(){return tY},DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:function(){return nT},DAILY_EVENT_RECORDING_DATA:function(){return t7},DAILY_EVENT_RECORDING_ERROR:function(){return t6},DAILY_EVENT_RECORDING_STARTED:function(){return t4},DAILY_EVENT_RECORDING_STATS:function(){return t9},DAILY_EVENT_RECORDING_STOPPED:function(){return t5},DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:function(){return t8},DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:function(){return ni},DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:function(){return ns},DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:function(){return no},DAILY_EVENT_STARTED_CAMERA:function(){return tx},DAILY_EVENT_THEME_UPDATED:function(){return tD},DAILY_EVENT_TRACK_STARTED:function(){return tZ},DAILY_EVENT_TRACK_STOPPED:function(){return t0},DAILY_EVENT_TRANSCRIPTION_ERROR:function(){return t3},DAILY_EVENT_TRANSCRIPTION_MSG:function(){return nr},DAILY_EVENT_TRANSCRIPTION_STARTED:function(){return t1},DAILY_EVENT_TRANSCRIPTION_STOPPED:function(){return t2},DAILY_EVENT_WAITING_PARTICIPANT_ADDED:function(){return tH},DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:function(){return tX},DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:function(){return tQ},DAILY_FATAL_ERROR_CONNECTION:function(){return tk},DAILY_FATAL_ERROR_EJECTED:function(){return th},DAILY_FATAL_ERROR_EOL:function(){return tb},DAILY_FATAL_ERROR_EXP_ROOM:function(){return tg},DAILY_FATAL_ERROR_EXP_TOKEN:function(){return tm},DAILY_FATAL_ERROR_MEETING_FULL:function(){return t_},DAILY_FATAL_ERROR_NBF_ROOM:function(){return tf},DAILY_FATAL_ERROR_NBF_TOKEN:function(){return tv},DAILY_FATAL_ERROR_NOT_ALLOWED:function(){return tS},DAILY_FATAL_ERROR_NO_ROOM:function(){return ty},DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:function(){return tp},DAILY_RECEIVE_SETTINGS_BASE_KEY:function(){return td},DAILY_STATE_ERROR:function(){return e9},DAILY_STATE_JOINED:function(){return e4},DAILY_STATE_JOINING:function(){return e3},DAILY_STATE_LEFT:function(){return e5},DAILY_STATE_NEW:function(){return e0},DAILY_TRACK_STATE_BLOCKED:function(){return e6},DAILY_TRACK_STATE_INTERRUPTED:function(){return tr},DAILY_TRACK_STATE_LOADING:function(){return tn},DAILY_TRACK_STATE_OFF:function(){return e8},DAILY_TRACK_STATE_PLAYABLE:function(){return ti},DAILY_TRACK_STATE_SENDABLE:function(){return e7},default:function(){return rk}});var I,P,j,x,V,J,Y,$,z,W={exports:{}},K=function(){if(z)return W.exports;z=1;var g,m="object"==typeof Reflect?Reflect:null,y=m&&"function"==typeof m.apply?m.apply:function(g,m,y){return Function.prototype.apply.call(g,m,y)};g=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var _=Number.isNaN||function(g){return g!=g};function i(){i.init.call(this)}W.exports=i,W.exports.once=function(g,m){return new Promise(function(y,_){var b;function i(y){g.removeListener(m,o),_(y)}function o(){"function"==typeof g.removeListener&&g.removeListener("error",i),y([].slice.call(arguments))}f(g,m,o,{once:!0}),"error"!==m&&(b=i,"function"==typeof g.on&&f(g,"error",b,{once:!0}))})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var b=10;function s(g){if("function"!=typeof g)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function a(g){return void 0===g._maxListeners?i.defaultMaxListeners:g._maxListeners}function c(g,m,y,_){var b,k,E;if(s(y),void 0===(k=g._events)?(k=g._events=Object.create(null),g._eventsCount=0):(void 0!==k.newListener&&(g.emit("newListener",m,y.listener?y.listener:y),k=g._events),E=k[m]),void 0===E)E=k[m]=y,++g._eventsCount;else if("function"==typeof E?E=k[m]=_?[y,E]:[E,y]:_?E.unshift(y):E.push(y),(b=a(g))>0&&E.length>b&&!E.warned){E.warned=!0;var T=Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=g,T.type=m,T.count=E.length,console&&console.warn&&console.warn(T)}return g}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(g,m,y){var _={fired:!1,wrapFn:void 0,target:g,type:m,listener:y},b=l.bind(_);return b.listener=y,_.wrapFn=b,b}function d(g,m,y){var _=g._events;if(void 0===_)return[];var b=_[m];return void 0===b?[]:"function"==typeof b?y?[b.listener||b]:[b]:y?function(g){for(var m=Array(g.length),y=0;y<m.length;++y)m[y]=g[y].listener||g[y];return m}(b):h(b,b.length)}function p(g){var m=this._events;if(void 0!==m){var y=m[g];if("function"==typeof y)return 1;if(void 0!==y)return y.length}return 0}function h(g,m){for(var y=Array(m),_=0;_<m;++_)y[_]=g[_];return y}function f(g,m,y,_){if("function"==typeof g.on)_.once?g.once(m,y):g.on(m,y);else{if("function"!=typeof g.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(m,function i(b){_.once&&g.removeEventListener(m,i),y(b)})}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(g){if("number"!=typeof g||g<0||_(g))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");b=g}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(g){if("number"!=typeof g||g<0||_(g))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(g){for(var m=[],_=1;_<arguments.length;_++)m.push(arguments[_]);var b="error"===g,k=this._events;if(void 0!==k)b=b&&void 0===k.error;else if(!b)return!1;if(b){if(m.length>0&&(E=m[0]),E instanceof Error)throw E;var E,T=Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var A=k[g];if(void 0===A)return!1;if("function"==typeof A)y(A,this,m);else{var C=A.length,M=h(A,C);for(_=0;_<C;++_)y(M[_],this,m)}return!0},i.prototype.addListener=function(g,m){return c(this,g,m,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(g,m){return c(this,g,m,!0)},i.prototype.once=function(g,m){return s(m),this.on(g,u(this,g,m)),this},i.prototype.prependOnceListener=function(g,m){return s(m),this.prependListener(g,u(this,g,m)),this},i.prototype.removeListener=function(g,m){var y,_,b,k,E;if(s(m),void 0===(_=this._events)||void 0===(y=_[g]))return this;if(y===m||y.listener===m)0==--this._eventsCount?this._events=Object.create(null):(delete _[g],_.removeListener&&this.emit("removeListener",g,y.listener||m));else if("function"!=typeof y){for(b=-1,k=y.length-1;k>=0;k--)if(y[k]===m||y[k].listener===m){E=y[k].listener,b=k;break}if(b<0)return this;0===b?y.shift():function(g,m){for(;m+1<g.length;m++)g[m]=g[m+1];g.pop()}(y,b),1===y.length&&(_[g]=y[0]),void 0!==_.removeListener&&this.emit("removeListener",g,E||m)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(g){var m,y,_;if(void 0===(y=this._events))return this;if(void 0===y.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==y[g]&&(0==--this._eventsCount?this._events=Object.create(null):delete y[g]),this;if(0==arguments.length){var b,k=Object.keys(y);for(_=0;_<k.length;++_)"removeListener"!==(b=k[_])&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(m=y[g]))this.removeListener(g,m);else if(void 0!==m)for(_=m.length-1;_>=0;_--)this.removeListener(g,m[_]);return this},i.prototype.listeners=function(g){return d(this,g,!0)},i.prototype.rawListeners=function(g){return d(this,g,!1)},i.listenerCount=function(g,m){return"function"==typeof g.listenerCount?g.listenerCount(m):p.call(g,m)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},W.exports}(),H=v(K),Q=Object.prototype.hasOwnProperty;function w(g,m,y){for(y of g.keys())if(S(y,m))return y}function S(g,m){var y,_,b;if(g===m)return!0;if(g&&m&&(y=g.constructor)===m.constructor){if(y===Date)return g.getTime()===m.getTime();if(y===RegExp)return g.toString()===m.toString();if(y===Array){if((_=g.length)===m.length)for(;_--&&S(g[_],m[_]););return -1===_}if(y===Set){if(g.size!==m.size)return!1;for(_ of g)if((b=_)&&"object"==typeof b&&!(b=w(m,b))||!m.has(b))return!1;return!0}if(y===Map){if(g.size!==m.size)return!1;for(_ of g)if((b=_[0])&&"object"==typeof b&&!(b=w(m,b))||!S(_[1],m.get(b)))return!1;return!0}if(y===ArrayBuffer)g=new Uint8Array(g),m=new Uint8Array(m);else if(y===DataView){if((_=g.byteLength)===m.byteLength)for(;_--&&g.getInt8(_)===m.getInt8(_););return -1===_}if(ArrayBuffer.isView(g)){if((_=g.byteLength)===m.byteLength)for(;_--&&g[_]===m[_];);return -1===_}if(!y||"object"==typeof g){for(y in _=0,g)if(Q.call(g,y)&&++_&&!Q.call(m,y)||!(y in m)||!S(g[y],m[y]))return!1;return Object.keys(m).length===_}}return g!=g&&m!=m}let X={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ee={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},en={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},er={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},eo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let O=class O{static getFirstMatch(g,m){let y=m.match(g);return y&&y.length>0&&y[1]||""}static getSecondMatch(g,m){let y=m.match(g);return y&&y.length>1&&y[2]||""}static matchAndReturnConst(g,m,y){if(g.test(m))return y}static getWindowsVersionName(g){switch(g){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(g){let m=g.split(".").splice(0,2).map(g=>parseInt(g,10)||0);if(m.push(0),10===m[0])switch(m[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(g){let m=g.split(".").splice(0,2).map(g=>parseInt(g,10)||0);if(m.push(0),!(1===m[0]&&m[1]<5))return 1===m[0]&&m[1]<6?"Cupcake":1===m[0]&&m[1]>=6?"Donut":2===m[0]&&m[1]<2?"Eclair":2===m[0]&&2===m[1]?"Froyo":2===m[0]&&m[1]>2?"Gingerbread":3===m[0]?"Honeycomb":4===m[0]&&m[1]<1?"Ice Cream Sandwich":4===m[0]&&m[1]<4?"Jelly Bean":4===m[0]&&m[1]>=4?"KitKat":5===m[0]?"Lollipop":6===m[0]?"Marshmallow":7===m[0]?"Nougat":8===m[0]?"Oreo":9===m[0]?"Pie":void 0}static getVersionPrecision(g){return g.split(".").length}static compareVersions(g,m,y=!1){let _=O.getVersionPrecision(g),b=O.getVersionPrecision(m),k=Math.max(_,b),E=0,T=O.map([g,m],g=>{let m=k-O.getVersionPrecision(g),y=g+Array(m+1).join(".0");return O.map(y.split("."),g=>Array(20-g.length).join("0")+g).reverse()});for(y&&(E=k-Math.min(_,b)),k-=1;k>=E;){if(T[0][k]>T[1][k])return 1;if(T[0][k]===T[1][k]){if(k===E)return 0;k-=1}else if(T[0][k]<T[1][k])return -1}}static map(g,m){let y;let _=[];if(Array.prototype.map)return Array.prototype.map.call(g,m);for(y=0;y<g.length;y+=1)_.push(m(g[y]));return _}static find(g,m){let y,_;if(Array.prototype.find)return Array.prototype.find.call(g,m);for(y=0,_=g.length;y<_;y+=1){let _=g[y];if(m(_,y))return _}}static assign(g,...m){let y,_;if(Object.assign)return Object.assign(g,...m);for(y=0,_=m.length;y<_;y+=1){let _=m[y];"object"==typeof _&&null!==_&&Object.keys(_).forEach(m=>{g[m]=_[m]})}return g}static getBrowserAlias(g){return X[g]}static getBrowserTypeByAlias(g){return ee[g]||""}};let es=/version\/(\d+(\.?_?\d+)+)/i,el=[{test:[/googlebot/i],describe(g){let m={name:"Googlebot"},y=O.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/opera/i],describe(g){let m={name:"Opera"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/opr\/|opios/i],describe(g){let m={name:"Opera"},y=O.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/SamsungBrowser/i],describe(g){let m={name:"Samsung Internet for Android"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/Whale/i],describe(g){let m={name:"NAVER Whale Browser"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/MZBrowser/i],describe(g){let m={name:"MZ Browser"},y=O.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/focus/i],describe(g){let m={name:"Focus"},y=O.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/swing/i],describe(g){let m={name:"Swing"},y=O.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/coast/i],describe(g){let m={name:"Opera Coast"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(g){let m={name:"Opera Touch"},y=O.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/yabrowser/i],describe(g){let m={name:"Yandex Browser"},y=O.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/ucbrowser/i],describe(g){let m={name:"UC Browser"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/Maxthon|mxios/i],describe(g){let m={name:"Maxthon"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/epiphany/i],describe(g){let m={name:"Epiphany"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/puffin/i],describe(g){let m={name:"Puffin"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/sleipnir/i],describe(g){let m={name:"Sleipnir"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/k-meleon/i],describe(g){let m={name:"K-Meleon"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/micromessenger/i],describe(g){let m={name:"WeChat"},y=O.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/qqbrowser/i],describe(g){let m={name:/qqbrowserlite/i.test(g)?"QQ Browser Lite":"QQ Browser"},y=O.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/msie|trident/i],describe(g){let m={name:"Internet Explorer"},y=O.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/\sedg\//i],describe(g){let m={name:"Microsoft Edge"},y=O.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/edg([ea]|ios)/i],describe(g){let m={name:"Microsoft Edge"},y=O.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/vivaldi/i],describe(g){let m={name:"Vivaldi"},y=O.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/seamonkey/i],describe(g){let m={name:"SeaMonkey"},y=O.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/sailfish/i],describe(g){let m={name:"Sailfish"},y=O.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,g);return y&&(m.version=y),m}},{test:[/silk/i],describe(g){let m={name:"Amazon Silk"},y=O.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/phantom/i],describe(g){let m={name:"PhantomJS"},y=O.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/slimerjs/i],describe(g){let m={name:"SlimerJS"},y=O.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(g){let m={name:"BlackBerry"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/(web|hpw)[o0]s/i],describe(g){let m={name:"WebOS Browser"},y=O.getFirstMatch(es,g)||O.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/bada/i],describe(g){let m={name:"Bada"},y=O.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/tizen/i],describe(g){let m={name:"Tizen"},y=O.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/qupzilla/i],describe(g){let m={name:"QupZilla"},y=O.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/firefox|iceweasel|fxios/i],describe(g){let m={name:"Firefox"},y=O.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/electron/i],describe(g){let m={name:"Electron"},y=O.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/MiuiBrowser/i],describe(g){let m={name:"Miui"},y=O.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/chromium/i],describe(g){let m={name:"Chromium"},y=O.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,g)||O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/chrome|crios|crmo/i],describe(g){let m={name:"Chrome"},y=O.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/GSA/i],describe(g){let m={name:"Google Search"},y=O.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test(g){let m=!g.test(/like android/i),y=g.test(/android/i);return m&&y},describe(g){let m={name:"Android Browser"},y=O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/playstation 4/i],describe(g){let m={name:"PlayStation 4"},y=O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/safari|applewebkit/i],describe(g){let m={name:"Safari"},y=O.getFirstMatch(es,g);return y&&(m.version=y),m}},{test:[/.*/i],describe(g){let m=-1!==g.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:O.getFirstMatch(m,g),version:O.getSecondMatch(m,g)}}}];var eu=[{test:[/Roku\/DVP/],describe(g){let m=O.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,g);return{name:er.Roku,version:m}}},{test:[/windows phone/i],describe(g){let m=O.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,g);return{name:er.WindowsPhone,version:m}}},{test:[/windows /i],describe(g){let m=O.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,g),y=O.getWindowsVersionName(m);return{name:er.Windows,version:m,versionName:y}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(g){let m={name:er.iOS},y=O.getSecondMatch(/(Version\/)(\d[\d.]+)/,g);return y&&(m.version=y),m}},{test:[/macintosh/i],describe(g){let m=O.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,g).replace(/[_\s]/g,"."),y=O.getMacOSVersionName(m),_={name:er.MacOS,version:m};return y&&(_.versionName=y),_}},{test:[/(ipod|iphone|ipad)/i],describe(g){let m=O.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,g).replace(/[_\s]/g,".");return{name:er.iOS,version:m}}},{test(g){let m=!g.test(/like android/i),y=g.test(/android/i);return m&&y},describe(g){let m=O.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,g),y=O.getAndroidVersionName(m),_={name:er.Android,version:m};return y&&(_.versionName=y),_}},{test:[/(web|hpw)[o0]s/i],describe(g){let m=O.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,g),y={name:er.WebOS};return m&&m.length&&(y.version=m),y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(g){let m=O.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,g)||O.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,g)||O.getFirstMatch(/\bbb(\d+)/i,g);return{name:er.BlackBerry,version:m}}},{test:[/bada/i],describe(g){let m=O.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,g);return{name:er.Bada,version:m}}},{test:[/tizen/i],describe(g){let m=O.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,g);return{name:er.Tizen,version:m}}},{test:[/linux/i],describe:()=>({name:er.Linux})},{test:[/CrOS/],describe:()=>({name:er.ChromeOS})},{test:[/PlayStation 4/],describe(g){let m=O.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,g);return{name:er.PlayStation4,version:m}}}],ed=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(g){let m=O.getFirstMatch(/(can-l01)/i,g)&&"Nova",y={type:en.mobile,vendor:"Huawei"};return m&&(y.model=m),y}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:en.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:en.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:en.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:en.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:en.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:en.tablet})},{test(g){let m=g.test(/ipod|iphone/i),y=g.test(/like (ipod|iphone)/i);return m&&!y},describe(g){let m=O.getFirstMatch(/(ipod|iphone)/i,g);return{type:en.mobile,vendor:"Apple",model:m}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:en.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:en.mobile})},{test:g=>"blackberry"===g.getBrowserName(!0),describe:()=>({type:en.mobile,vendor:"BlackBerry"})},{test:g=>"bada"===g.getBrowserName(!0),describe:()=>({type:en.mobile})},{test:g=>"windows phone"===g.getBrowserName(),describe:()=>({type:en.mobile,vendor:"Microsoft"})},{test(g){let m=Number(String(g.getOSVersion()).split(".")[0]);return"android"===g.getOSName(!0)&&m>=3},describe:()=>({type:en.tablet})},{test:g=>"android"===g.getOSName(!0),describe:()=>({type:en.mobile})},{test:g=>"macos"===g.getOSName(!0),describe:()=>({type:en.desktop,vendor:"Apple"})},{test:g=>"windows"===g.getOSName(!0),describe:()=>({type:en.desktop})},{test:g=>"linux"===g.getOSName(!0),describe:()=>({type:en.desktop})},{test:g=>"playstation 4"===g.getOSName(!0),describe:()=>({type:en.tv})},{test:g=>"roku"===g.getOSName(!0),describe:()=>({type:en.tv})}],ep=[{test:g=>"microsoft edge"===g.getBrowserName(!0),describe(g){if(/\sedg\//i.test(g))return{name:eo.Blink};let m=O.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,g);return{name:eo.EdgeHTML,version:m}}},{test:[/trident/i],describe(g){let m={name:eo.Trident},y=O.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:g=>g.test(/presto/i),describe(g){let m={name:eo.Presto},y=O.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test(g){let m=g.test(/gecko/i),y=g.test(/like gecko/i);return m&&!y},describe(g){let m={name:eo.Gecko},y=O.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:eo.Blink})},{test:[/(apple)?webkit/i],describe(g){let m={name:eo.WebKit},y=O.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,g);return y&&(m.version=y),m}}];let L=class L{constructor(g,m=!1){if(null==g||""===g)throw Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},!0!==m&&this.parse()}getUA(){return this._ua}test(g){return g.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let g=O.find(el,g=>{if("function"==typeof g.test)return g.test(this);if(g.test instanceof Array)return g.test.some(g=>this.test(g));throw Error("Browser's test function is not valid")});return g&&(this.parsedResult.browser=g.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let g=O.find(eu,g=>{if("function"==typeof g.test)return g.test(this);if(g.test instanceof Array)return g.test.some(g=>this.test(g));throw Error("Browser's test function is not valid")});return g&&(this.parsedResult.os=g.describe(this.getUA())),this.parsedResult.os}getOSName(g){let{name:m}=this.getOS();return g?String(m).toLowerCase()||"":m||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(g=!1){let{type:m}=this.getPlatform();return g?String(m).toLowerCase()||"":m||""}parsePlatform(){this.parsedResult.platform={};let g=O.find(ed,g=>{if("function"==typeof g.test)return g.test(this);if(g.test instanceof Array)return g.test.some(g=>this.test(g));throw Error("Browser's test function is not valid")});return g&&(this.parsedResult.platform=g.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let g=O.find(ep,g=>{if("function"==typeof g.test)return g.test(this);if(g.test instanceof Array)return g.test.some(g=>this.test(g));throw Error("Browser's test function is not valid")});return g&&(this.parsedResult.engine=g.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return O.assign({},this.parsedResult)}satisfies(g){let m={},y=0,_={},b=0;if(Object.keys(g).forEach(k=>{let E=g[k];"string"==typeof E?(_[k]=E,b+=1):"object"==typeof E&&(m[k]=E,y+=1)}),y>0){let g=Object.keys(m),y=O.find(g,g=>this.isOS(g));if(y){let g=this.satisfies(m[y]);if(void 0!==g)return g}let _=O.find(g,g=>this.isPlatform(g));if(_){let g=this.satisfies(m[_]);if(void 0!==g)return g}}if(b>0){let g=Object.keys(_),m=O.find(g,g=>this.isBrowser(g,!0));if(void 0!==m)return this.compareVersion(_[m])}}isBrowser(g,m=!1){let y=this.getBrowserName().toLowerCase(),_=g.toLowerCase(),b=O.getBrowserTypeByAlias(_);return m&&b&&(_=b.toLowerCase()),_===y}compareVersion(g){let m=[0],y=g,_=!1,b=this.getBrowserVersion();if("string"==typeof b)return">"===g[0]||"<"===g[0]?(y=g.substr(1),"="===g[1]?(_=!0,y=g.substr(2)):m=[],">"===g[0]?m.push(1):m.push(-1)):"="===g[0]?y=g.substr(1):"~"===g[0]&&(_=!0,y=g.substr(1)),m.indexOf(O.compareVersions(b,y,_))>-1}isOS(g){return this.getOSName(!0)===String(g).toLowerCase()}isPlatform(g){return this.getPlatformType(!0)===String(g).toLowerCase()}isEngine(g){return this.getEngineName(!0)===String(g).toLowerCase()}is(g,m=!1){return this.isBrowser(g,m)||this.isOS(g)||this.isPlatform(g)}some(g=[]){return g.some(g=>this.is(g))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let D=class D{static getParser(g,m=!1){if("string"!=typeof g)throw Error("UserAgent should be a string");return new L(g,m)}static parse(g){return new L(g).getResult()}static get BROWSER_MAP(){return ee}static get ENGINE_MAP(){return eo}static get OS_MAP(){return er}static get PLATFORMS_MAP(){return en}};function N(){return Date.now()+Math.random().toString()}function R(){throw Error("Method must be implemented in subclass")}function F(g,m){return null!=m&&m.proxyUrl?m.proxyUrl+("/"===m.proxyUrl.slice(-1)?"":"/")+g.substring(8):g}function B(g){return null!=g&&g.callObjectBundleUrlOverride?g.callObjectBundleUrlOverride:F("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),g)}function U(g){try{new URL(g)}catch(g){return!1}return!0}let eh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ef="8.55.0",ev=globalThis;function q(g,m,y){let _=y||ev,b=_.__SENTRY__=_.__SENTRY__||{},k=b[ef]=b[ef]||{};return k[g]||(k[g]=m())}let eg="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,em=["debug","info","warn","error","log","assert","trace"],ey={};function G(g){if(!("console"in ev))return g();let m=ev.console,y={},_=Object.keys(ey);_.forEach(g=>{let _=ey[g];y[g]=m[g],m[g]=_});try{return g()}finally{_.forEach(g=>{m[g]=y[g]})}}let e_=q("logger",function(){let g=!1,m={enable:()=>{g=!0},disable:()=>{g=!1},isEnabled:()=>g};return eg?em.forEach(y=>{m[y]=(...m)=>{g&&G(()=>{ev.console[y](`Sentry Logger [${y}]:`,...m)})}}):em.forEach(g=>{m[g]=()=>{}}),m}),eb=/\(error: (.*)\)/,eS=/captureMessage|captureException/;function Z(g){return g[g.length-1]||{}}let ek="<anonymous>";function te(g){try{return g&&"function"==typeof g&&g.name||ek}catch(g){return ek}}function ne(g){let m=g.exception;if(m){let g=[];try{return m.values.forEach(m=>{m.stacktrace.frames&&g.push(...m.stacktrace.frames)}),g}catch(g){return}}}let ew={},eE={};function oe(g,m){ew[g]=ew[g]||[],ew[g].push(m)}function se(g,m){if(!eE[g]){eE[g]=!0;try{m()}catch(m){eg&&e_.error(`Error while instrumenting ${g}`,m)}}}function ae(g,m){let y=g&&ew[g];if(y)for(let _ of y)try{_(m)}catch(m){eg&&e_.error(`Error while triggering instrumentation handler.
Type: ${g}
Name: ${te(_)}
Error:`,m)}}let eT=null;function le(){eT=ev.onerror,ev.onerror=function(g,m,y,_,b){return ae("error",{column:_,error:b,line:y,msg:g,url:m}),!!eT&&eT.apply(this,arguments)},ev.onerror.__SENTRY_INSTRUMENTED__=!0}let eA=null;function de(){eA=ev.onunhandledrejection,ev.onunhandledrejection=function(g){return ae("unhandledrejection",g),!eA||eA.apply(this,arguments)},ev.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function pe(){return he(ev),ev}function he(g){let m=g.__SENTRY__=g.__SENTRY__||{};return m.version=m.version||ef,m[ef]=m[ef]||{}}let eO=Object.prototype.toString;function ve(g){switch(eO.call(g)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ce(g,Error)}}function ge(g,m){return eO.call(g)===`[object ${m}]`}function me(g){return ge(g,"ErrorEvent")}function ye(g){return ge(g,"DOMError")}function be(g){return ge(g,"String")}function _e(g){return"object"==typeof g&&null!==g&&"__sentry_template_string__"in g&&"__sentry_template_values__"in g}function we(g){return null===g||_e(g)||"object"!=typeof g&&"function"!=typeof g}function Se(g){return ge(g,"Object")}function ke(g){return"undefined"!=typeof Event&&Ce(g,Event)}function Me(g){return!!(g&&g.then&&"function"==typeof g.then)}function Ce(g,m){try{return g instanceof m}catch(g){return!1}}function Ee(g){return!("object"!=typeof g||null===g||!g.__isVue&&!g._isVue)}function Oe(g,m={}){if(!g)return"<unknown>";try{let y,_=g,b=[],k=0,E=0,T=Array.isArray(m)?m:m.keyAttrs,A=!Array.isArray(m)&&m.maxStringLength||80;for(;_&&k++<5&&(y=Pe(_,T),!("html"===y||k>1&&E+3*b.length+y.length>=A));)b.push(y),E+=y.length,_=_.parentNode;return b.reverse().join(" > ")}catch(g){return"<unknown>"}}function Pe(g,m){let y=[];if(!g||!g.tagName)return"";if(ev.HTMLElement&&g instanceof HTMLElement&&g.dataset){if(g.dataset.sentryComponent)return g.dataset.sentryComponent;if(g.dataset.sentryElement)return g.dataset.sentryElement}y.push(g.tagName.toLowerCase());let _=m&&m.length?m.filter(m=>g.getAttribute(m)).map(m=>[m,g.getAttribute(m)]):null;if(_&&_.length)_.forEach(g=>{y.push(`[${g[0]}="${g[1]}"]`)});else{g.id&&y.push(`#${g.id}`);let m=g.className;if(m&&be(m)){let g=m.split(/\s+/);for(let m of g)y.push(`.${m}`)}}for(let m of["aria-label","type","name","title","alt"]){let _=g.getAttribute(m);_&&y.push(`[${m}="${_}"]`)}return y.join("")}function Ae(g,m=0){return"string"!=typeof g||0===m||g.length<=m?g:`${g.slice(0,m)}...`}function je(g,m){if(!Array.isArray(g))return"";let y=[];for(let m=0;m<g.length;m++){let _=g[m];try{Ee(_)?y.push("[VueViewModel]"):y.push(String(_))}catch(g){y.push("[value cannot be serialized]")}}return y.join(m)}function Ie(g,m,y=!1){return!!be(g)&&(ge(m,"RegExp")?m.test(g):!!be(m)&&(y?g===m:g.includes(m)))}function xe(g,m=[],y=!1){return m.some(m=>Ie(g,m,y))}function Le(g,m,y){if(!(m in g))return;let _=g[m],b=y(_);"function"==typeof b&&Ne(b,_);try{g[m]=b}catch(y){eg&&e_.log(`Failed to replace method "${m}" in object`,g)}}function De(g,m,y){try{Object.defineProperty(g,m,{value:y,writable:!0,configurable:!0})}catch(y){eg&&e_.log(`Failed to add non-enumerable property "${m}" to object`,g)}}function Ne(g,m){try{let y=m.prototype||{};g.prototype=m.prototype=y,De(g,"__sentry_original__",m)}catch(g){}}function Re(g){return g.__sentry_original__}function Fe(g){if(ve(g))return{message:g.message,name:g.name,stack:g.stack,...Ue(g)};if(ke(g)){let m={type:g.type,target:Be(g.target),currentTarget:Be(g.currentTarget),...Ue(g)};return"undefined"!=typeof CustomEvent&&Ce(g,CustomEvent)&&(m.detail=g.detail),m}return g}function Be(g){try{return"undefined"!=typeof Element&&Ce(g,Element)?Oe(g):Object.prototype.toString.call(g)}catch(g){return"<unknown>"}}function Ue(g){if("object"==typeof g&&null!==g){let m={};for(let y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y]);return m}return{}}function Ve(g){return Je(g,new Map)}function Je(g,m){if(function(g){if(!Se(g))return!1;try{let m=Object.getPrototypeOf(g).constructor.name;return!m||"Object"===m}catch(g){return!0}}(g)){let y=m.get(g);if(void 0!==y)return y;let _={};for(let y of(m.set(g,_),Object.getOwnPropertyNames(g)))void 0!==g[y]&&(_[y]=Je(g[y],m));return _}if(Array.isArray(g)){let y=m.get(g);if(void 0!==y)return y;let _=[];return m.set(g,_),g.forEach(g=>{_.push(Je(g,m))}),_}return g}function $e(){return Date.now()/1e3}let eC=function(){let{performance:g}=ev;if(!g||!g.now)return $e;let m=Date.now()-g.now(),y=null==g.timeOrigin?m:g.timeOrigin;return()=>(y+g.now())/1e3}();function ze(){let g=ev.crypto||ev.msCrypto,n=()=>16*Math.random();try{if(g&&g.randomUUID)return g.randomUUID().replace(/-/g,"");g&&g.getRandomValues&&(n=()=>{let m=new Uint8Array(1);return g.getRandomValues(m),m[0]})}catch(g){}return"10000000100040008000100000000000".replace(/[018]/g,g=>(g^(15&n())>>g/4).toString(16))}function We(g){return g.exception&&g.exception.values?g.exception.values[0]:void 0}function He(g){let{message:m,event_id:y}=g;if(m)return m;let _=We(g);return _?_.type&&_.value?`${_.type}: ${_.value}`:_.type||_.value||y||"<unknown>":y||"<unknown>"}function Ge(g,m,y){let _=g.exception=g.exception||{},b=_.values=_.values||[],k=b[0]=b[0]||{};k.value||(k.value=m||""),k.type||(k.type=y||"Error")}function Qe(g,m){let y=We(g);if(!y)return;let _=y.mechanism;if(y.mechanism={type:"generic",handled:!0,..._,...m},m&&"data"in m){let g={..._&&_.data,...m.data};y.mechanism.data=g}}function Ke(g){if(function(g){try{return g.__sentry_captured__}catch(g){}}(g))return!0;try{De(g,"__sentry_captured__",!0)}catch(g){}return!1}function Xe(g){return new et(m=>{m(g)})}function Ze(g){return new et((m,y)=>{y(g)})}(()=>{let{performance:g}=ev;if(!g||!g.now)return;let m=g.now(),y=Date.now(),_=g.timeOrigin?Math.abs(g.timeOrigin+m-y):36e5,b=g.timing&&g.timing.navigationStart,k="number"==typeof b?Math.abs(b+m-y):36e5;(_<36e5||k<36e5)&&_<=k&&g.timeOrigin})(),(I=$||($={}))[I.PENDING=0]="PENDING",I[I.RESOLVED=1]="RESOLVED",I[I.REJECTED=2]="REJECTED";let et=class et{constructor(g){et.prototype.__init.call(this),et.prototype.__init2.call(this),et.prototype.__init3.call(this),et.prototype.__init4.call(this),this._state=$.PENDING,this._handlers=[];try{g(this._resolve,this._reject)}catch(g){this._reject(g)}}then(g,m){return new et((y,_)=>{this._handlers.push([!1,m=>{if(g)try{y(g(m))}catch(g){_(g)}else y(m)},g=>{if(m)try{y(m(g))}catch(g){_(g)}else _(g)}]),this._executeHandlers()})}catch(g){return this.then(g=>g,g)}finally(g){return new et((m,y)=>{let _,b;return this.then(m=>{b=!1,_=m,g&&g()},m=>{b=!0,_=m,g&&g()}).then(()=>{b?y(_):m(_)})})}__init(){this._resolve=g=>{this._setResult($.RESOLVED,g)}}__init2(){this._reject=g=>{this._setResult($.REJECTED,g)}}__init3(){this._setResult=(g,m)=>{this._state===$.PENDING&&(Me(m)?m.then(this._resolve,this._reject):(this._state=g,this._value=m,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===$.PENDING)return;let g=this._handlers.slice();this._handlers=[],g.forEach(g=>{g[0]||(this._state===$.RESOLVED&&g[1](this._value),this._state===$.REJECTED&&g[2](this._value),g[0]=!0)})}}};function tt(g){let m=eC(),y={sid:ze(),init:!0,timestamp:m,started:m,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ve({sid:`${y.sid}`,init:y.init,started:new Date(1e3*y.started).toISOString(),timestamp:new Date(1e3*y.timestamp).toISOString(),status:y.status,errors:y.errors,did:"number"==typeof y.did||"string"==typeof y.did?`${y.did}`:void 0,duration:y.duration,abnormal_mechanism:y.abnormal_mechanism,attrs:{release:y.release,environment:y.environment,ip_address:y.ipAddress,user_agent:y.userAgent}})};return g&&nt(y,g),y}function nt(g,m={}){if(m.user&&(!g.ipAddress&&m.user.ip_address&&(g.ipAddress=m.user.ip_address),g.did||m.did||(g.did=m.user.id||m.user.email||m.user.username)),g.timestamp=m.timestamp||eC(),m.abnormal_mechanism&&(g.abnormal_mechanism=m.abnormal_mechanism),m.ignoreDuration&&(g.ignoreDuration=m.ignoreDuration),m.sid&&(g.sid=32===m.sid.length?m.sid:ze()),void 0!==m.init&&(g.init=m.init),!g.did&&m.did&&(g.did=`${m.did}`),"number"==typeof m.started&&(g.started=m.started),g.ignoreDuration)g.duration=void 0;else if("number"==typeof m.duration)g.duration=m.duration;else{let m=g.timestamp-g.started;g.duration=m>=0?m:0}m.release&&(g.release=m.release),m.environment&&(g.environment=m.environment),!g.ipAddress&&m.ipAddress&&(g.ipAddress=m.ipAddress),!g.userAgent&&m.userAgent&&(g.userAgent=m.userAgent),"number"==typeof m.errors&&(g.errors=m.errors),m.status&&(g.status=m.status)}function it(){return ze().substring(16)}function ot(g,m,y=2){if(!m||"object"!=typeof m||y<=0)return m;if(g&&m&&0===Object.keys(m).length)return g;let _={...g};for(let g in m)Object.prototype.hasOwnProperty.call(m,g)&&(_[g]=ot(_[g],m[g],y-1));return _}let eM="_sentrySpan";function at(g,m){m?De(g,eM,m):delete g[eM]}let lt=class lt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ze(),spanId:it()}}clone(){let g=new lt;return g._breadcrumbs=[...this._breadcrumbs],g._tags={...this._tags},g._extra={...this._extra},g._contexts={...this._contexts},this._contexts.flags&&(g._contexts.flags={values:[...this._contexts.flags.values]}),g._user=this._user,g._level=this._level,g._session=this._session,g._transactionName=this._transactionName,g._fingerprint=this._fingerprint,g._eventProcessors=[...this._eventProcessors],g._requestSession=this._requestSession,g._attachments=[...this._attachments],g._sdkProcessingMetadata={...this._sdkProcessingMetadata},g._propagationContext={...this._propagationContext},g._client=this._client,g._lastEventId=this._lastEventId,at(g,this[eM]),g}setClient(g){this._client=g}setLastEventId(g){this._lastEventId=g}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(g){this._scopeListeners.push(g)}addEventProcessor(g){return this._eventProcessors.push(g),this}setUser(g){return this._user=g||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&nt(this._session,{user:g}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(g){return this._requestSession=g,this}setTags(g){return this._tags={...this._tags,...g},this._notifyScopeListeners(),this}setTag(g,m){return this._tags={...this._tags,[g]:m},this._notifyScopeListeners(),this}setExtras(g){return this._extra={...this._extra,...g},this._notifyScopeListeners(),this}setExtra(g,m){return this._extra={...this._extra,[g]:m},this._notifyScopeListeners(),this}setFingerprint(g){return this._fingerprint=g,this._notifyScopeListeners(),this}setLevel(g){return this._level=g,this._notifyScopeListeners(),this}setTransactionName(g){return this._transactionName=g,this._notifyScopeListeners(),this}setContext(g,m){return null===m?delete this._contexts[g]:this._contexts[g]=m,this._notifyScopeListeners(),this}setSession(g){return g?this._session=g:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(g){if(!g)return this;let m="function"==typeof g?g(this):g,[y,_]=m instanceof eI?[m.getScopeData(),m.getRequestSession()]:Se(m)?[g,g.requestSession]:[],{tags:b,extra:k,user:E,contexts:T,level:A,fingerprint:C=[],propagationContext:M}=y||{};return this._tags={...this._tags,...b},this._extra={...this._extra,...k},this._contexts={...this._contexts,...T},E&&Object.keys(E).length&&(this._user=E),A&&(this._level=A),C.length&&(this._fingerprint=C),M&&(this._propagationContext=M),_&&(this._requestSession=_),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,at(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ze()}),this._notifyScopeListeners(),this}addBreadcrumb(g,m){let y="number"==typeof m?m:100;if(y<=0)return this;let _={timestamp:$e(),...g};return this._breadcrumbs.push(_),this._breadcrumbs.length>y&&(this._breadcrumbs=this._breadcrumbs.slice(-y),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(g){return this._attachments.push(g),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[eM]}}setSDKProcessingMetadata(g){return this._sdkProcessingMetadata=ot(this._sdkProcessingMetadata,g,2),this}setPropagationContext(g){return this._propagationContext={spanId:it(),...g},this}getPropagationContext(){return this._propagationContext}captureException(g,m){let y=m&&m.event_id?m.event_id:ze();if(!this._client)return e_.warn("No client configured on scope - will not capture exception!"),y;let _=Error("Sentry syntheticException");return this._client.captureException(g,{originalException:g,syntheticException:_,...m,event_id:y},this),y}captureMessage(g,m,y){let _=y&&y.event_id?y.event_id:ze();if(!this._client)return e_.warn("No client configured on scope - will not capture message!"),_;let b=Error(g);return this._client.captureMessage(g,m,{originalException:g,syntheticException:b,...y,event_id:_},this),_}captureEvent(g,m){let y=m&&m.event_id?m.event_id:ze();return this._client?this._client.captureEvent(g,{...m,event_id:y},this):e_.warn("No client configured on scope - will not capture event!"),y}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(g=>{g(this)}),this._notifyingListeners=!1)}};let eI=lt;let dt=class dt{constructor(g,m){let y,_;y=g||new eI,_=m||new eI,this._stack=[{scope:y}],this._isolationScope=_}withScope(g){let m;let y=this._pushScope();try{m=g(y)}catch(g){throw this._popScope(),g}return Me(m)?m.then(g=>(this._popScope(),g),g=>{throw this._popScope(),g}):(this._popScope(),m)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let g=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:g}),g}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function pt(){let g=he(pe());return g.stack=g.stack||new dt(q("defaultCurrentScope",()=>new eI),q("defaultIsolationScope",()=>new eI))}function ht(g){return pt().withScope(g)}function ft(g,m){let y=pt();return y.withScope(()=>(y.getStackTop().scope=g,m(g)))}function vt(g){return pt().withScope(()=>g(pt().getIsolationScope()))}function gt(g){let m=he(g);return m.acs?m.acs:{withIsolationScope:vt,withScope:ht,withSetScope:ft,withSetIsolationScope:(g,m)=>vt(m),getCurrentScope:()=>pt().getScope(),getIsolationScope:()=>pt().getIsolationScope()}}function mt(){return gt(pe()).getCurrentScope()}function yt(){return gt(pe()).getIsolationScope()}function bt(){return mt().getClient()}function _t(g){let m=g.getPropagationContext(),{traceId:y,spanId:_,parentSpanId:b}=m;return Ve({trace_id:y,span_id:_,parent_span_id:b})}function wt(g){let m=g._sentryMetrics;if(!m)return;let y={};for(let[,[g,_]]of m)(y[g]||(y[g]=[])).push(Ve(_));return y}let eP=/^sentry-/;function kt(g){let m=function(g){if(g&&(be(g)||Array.isArray(g)))return Array.isArray(g)?g.reduce((g,m)=>{let y=Mt(m);return Object.entries(y).forEach(([m,y])=>{g[m]=y}),g},{}):Mt(g)}(g);if(!m)return;let y=Object.entries(m).reduce((g,[m,y])=>(m.match(eP)&&(g[m.slice(7)]=y),g),{});return Object.keys(y).length>0?y:void 0}function Mt(g){return g.split(",").map(g=>g.split("=").map(g=>decodeURIComponent(g.trim()))).reduce((g,[m,y])=>(m&&y&&(g[m]=y),g),{})}let eL=!1;function Et(g){let{spanId:m,traceId:y,isRemote:_}=g.spanContext();return Ve({parent_span_id:_?m:Pt(g).parent_span_id,span_id:_?it():m,trace_id:y})}function Tt(g){return"number"==typeof g?Ot(g):Array.isArray(g)?g[0]+g[1]/1e9:g instanceof Date?Ot(g.getTime()):eC()}function Ot(g){return g>9999999999?g/1e3:g}function Pt(g){if("function"==typeof g.getSpanJSON)return g.getSpanJSON();try{let{spanId:m,traceId:y}=g.spanContext();if(g.attributes&&g.startTime&&g.name&&g.endTime&&g.status){let{attributes:_,startTime:b,name:k,endTime:E,parentSpanId:T,status:A}=g;return Ve({span_id:m,trace_id:y,data:_,description:k,parent_span_id:T,start_timestamp:Tt(b),timestamp:Tt(E)||void 0,status:At(A),op:_["sentry.op"],origin:_["sentry.origin"],_metrics_summary:wt(g)})}return{span_id:m,trace_id:y}}catch(g){return{}}}function At(g){if(g&&0!==g.code)return 1===g.code?"ok":g.message||"unknown_error"}function jt(g){return g._sentryRootSpan||g}function It(){eL||(G(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),eL=!0)}let eD="production";function Lt(g,m){let y=m.getOptions(),{publicKey:_}=m.getDsn()||{},b=Ve({environment:y.environment||eD,release:y.release,public_key:_,trace_id:g});return m.emit("createDsc",b),b}function Dt(g){let m=bt();if(!m)return{};let y=jt(g),_=y._frozenDsc;if(_)return _;let b=y.spanContext().traceState,k=b&&b.get("sentry.dsc"),E=k&&kt(k);if(E)return E;let T=Lt(g.spanContext().traceId,m),A=Pt(y),C=A.data||{},M=C["sentry.sample_rate"];null!=M&&(T.sample_rate=`${M}`);let I=C["sentry.source"],P=A.description;return"url"!==I&&P&&(T.transaction=P),function(g){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let m=bt(),y=m&&m.getOptions();return!!y&&(y.enableTracing||"tracesSampleRate"in y||"tracesSampler"in y)}()&&(T.sampled=String(function(g){let{traceFlags:m}=g.spanContext();return 1===m}(y))),m.emit("createDsc",T,y),T}let eN=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Rt(g,m=!1){let{host:y,path:_,pass:b,port:k,projectId:E,protocol:T,publicKey:A}=g;return`${T}://${A}${m&&b?`:${b}`:""}@${y}${k?`:${k}`:""}/${_?`${_}/`:_}${E}`}function Ft(g){return{protocol:g.protocol,publicKey:g.publicKey||"",pass:g.pass||"",host:g.host,port:g.port||"",path:g.path||"",projectId:g.projectId}}function Bt(g){let m="string"==typeof g?function(g){let m=eN.exec(g);if(!m)return void G(()=>{console.error(`Invalid Sentry Dsn: ${g}`)});let[y,_,b="",k="",E="",T=""]=m.slice(1),A="",C=T,M=C.split("/");if(M.length>1&&(A=M.slice(0,-1).join("/"),C=M.pop()),C){let g=C.match(/^\d+/);g&&(C=g[0])}return Ft({host:k,pass:b,path:A,projectId:C,port:E,protocol:y,publicKey:_})}(g):Ft(g);if(m&&function(g){if(!eg)return!0;let{port:m,projectId:y,protocol:_}=g;return!(["protocol","publicKey","host","projectId"].find(m=>!g[m]&&(e_.error(`Invalid Sentry Dsn: ${m} missing`),!0))||(y.match(/^\d+$/)?"http"===_||"https"===_?m&&isNaN(parseInt(m,10))&&(e_.error(`Invalid Sentry Dsn: Invalid port ${m}`),1):(e_.error(`Invalid Sentry Dsn: Invalid protocol ${_}`),1):(e_.error(`Invalid Sentry Dsn: Invalid projectId ${y}`),1)))}(m))return m}function Ut(g,m=100,y=1/0){try{return Jt("",g,m,y)}catch(g){return{ERROR:`**non-serializable** (${g})`}}}function Vt(g,m=3,y=102400){let _=Ut(g,m);return~-encodeURI(JSON.stringify(_)).split(/%..|./).length>y?Vt(g,m-1,y):_}function Jt(g,m,_=1/0,b=1/0,k=function(){let g="function"==typeof WeakSet,m=g?new WeakSet:[];return[function(y){if(g)return!!m.has(y)||(m.add(y),!1);for(let g=0;g<m.length;g++)if(m[g]===y)return!0;return m.push(y),!1},function(y){if(g)m.delete(y);else for(let g=0;g<m.length;g++)if(m[g]===y){m.splice(g,1);break}}]}()){let[E,T]=k;if(null==m||["boolean","string"].includes(typeof m)||"number"==typeof m&&Number.isFinite(m))return m;let A=function(g,m){try{if("domain"===g&&m&&"object"==typeof m&&m._events)return"[Domain]";if("domainEmitter"===g)return"[DomainEmitter]";if(void 0!==y.g&&m===y.g)return"[Global]";if("undefined"!=typeof window&&m===window)return"[Window]";if("undefined"!=typeof document&&m===document)return"[Document]";if(Ee(m))return"[VueViewModel]";if(Se(m)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if("number"==typeof m&&!Number.isFinite(m))return`[${m}]`;if("function"==typeof m)return`[Function: ${te(m)}]`;if("symbol"==typeof m)return`[${String(m)}]`;if("bigint"==typeof m)return`[BigInt: ${String(m)}]`;let _=function(g){let m=Object.getPrototypeOf(g);return m?m.constructor.name:"null prototype"}(m);return/^HTML(\w*)Element$/.test(_)?`[HTMLElement: ${_}]`:`[object ${_}]`}catch(g){return`**non-serializable** (${g})`}}(g,m);if(!A.startsWith("[object "))return A;if(m.__sentry_skip_normalization__)return m;let C="number"==typeof m.__sentry_override_normalization_depth__?m.__sentry_override_normalization_depth__:_;if(0===C)return A.replace("object ","");if(E(m))return"[Circular ~]";if(m&&"function"==typeof m.toJSON)try{return Jt("",m.toJSON(),C-1,b,k)}catch(g){}let M=Array.isArray(m)?[]:{},I=0,P=Fe(m);for(let g in P){if(!Object.prototype.hasOwnProperty.call(P,g))continue;if(I>=b){M[g]="[MaxProperties ~]";break}let m=P[g];M[g]=Jt(g,m,C-1,b,k),I++}return T(m),M}function $t(g,m=[]){return[g,m]}function qt(g,m){let[y,_]=g;return[y,[..._,m]]}function zt(g,m){let y=g[1];for(let g of y)if(m(g,g[0].type))return!0;return!1}function Wt(g){return ev.__SENTRY__&&ev.__SENTRY__.encodePolyfill?ev.__SENTRY__.encodePolyfill(g):(new TextEncoder).encode(g)}function Ht(g){let[m,y]=g,_=JSON.stringify(m);function i(g){"string"==typeof _?_="string"==typeof g?_+g:[Wt(_),g]:_.push("string"==typeof g?Wt(g):g)}for(let g of y){let[m,y]=g;if(i(`
${JSON.stringify(m)}
`),"string"==typeof y||y instanceof Uint8Array)i(y);else{let g;try{g=JSON.stringify(y)}catch(m){g=JSON.stringify(Ut(y))}i(g)}}return"string"==typeof _?_:function(g){let m=g.reduce((g,m)=>g+m.length,0),y=new Uint8Array(m),_=0;for(let m of g)y.set(m,_),_+=m.length;return y}(_)}function Gt(g){let m="string"==typeof g.data?Wt(g.data):g.data;return[Ve({type:"attachment",length:m.length,filename:g.filename,content_type:g.contentType,attachment_type:g.attachmentType}),m]}let ej={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Yt(g){if(!g||!g.sdk)return;let{name:m,version:y}=g.sdk;return{name:m,version:y}}function Xt(g,m,y,_){var b;let k=Yt(y),E=g.type&&"replay_event"!==g.type?g.type:"event";(b=y&&y.sdk)&&(g.sdk=g.sdk||{},g.sdk.name=g.sdk.name||b.name,g.sdk.version=g.sdk.version||b.version,g.sdk.integrations=[...g.sdk.integrations||[],...b.integrations||[]],g.sdk.packages=[...g.sdk.packages||[],...b.packages||[]]);let T=function(g,m,y,_){let b=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:g.event_id,sent_at:(new Date).toISOString(),...m&&{sdk:m},...!!y&&_&&{dsn:Rt(_)},...b&&{trace:Ve({...b})}}}(g,k,_,m);return delete g.sdkProcessingMetadata,$t(T,[[{type:E},g]])}function Zt(g,m,y,_=0){return new et((b,k)=>{let E=g[_];if(null===m||"function"!=typeof E)b(m);else{let T=E({...m},y);eh&&E.id&&null===T&&e_.log(`Event processor "${E.id}" dropped event`),Me(T)?T.then(m=>Zt(g,m,y,_+1).then(b)).then(null,k):Zt(g,T,y,_+1).then(b).then(null,k)}})}function rn(g,m){let{fingerprint:y,span:_,breadcrumbs:b,sdkProcessingMetadata:k}=m;!function(g,m){let{extra:y,tags:_,user:b,contexts:k,level:E,transactionName:T}=m,A=Ve(y);A&&Object.keys(A).length&&(g.extra={...A,...g.extra});let C=Ve(_);C&&Object.keys(C).length&&(g.tags={...C,...g.tags});let M=Ve(b);M&&Object.keys(M).length&&(g.user={...M,...g.user});let I=Ve(k);I&&Object.keys(I).length&&(g.contexts={...I,...g.contexts}),E&&(g.level=E),T&&"transaction"!==g.type&&(g.transaction=T)}(g,m),_&&function(g,m){g.contexts={trace:Et(m),...g.contexts},g.sdkProcessingMetadata={dynamicSamplingContext:Dt(m),...g.sdkProcessingMetadata};let y=jt(m),_=Pt(y).description;_&&!g.transaction&&"transaction"===g.type&&(g.transaction=_)}(g,_),g.fingerprint=g.fingerprint?Array.isArray(g.fingerprint)?g.fingerprint:[g.fingerprint]:[],y&&(g.fingerprint=g.fingerprint.concat(y)),g.fingerprint&&!g.fingerprint.length&&delete g.fingerprint,function(g,m){let y=[...g.breadcrumbs||[],...m];g.breadcrumbs=y.length?y:void 0}(g,b),g.sdkProcessingMetadata={...g.sdkProcessingMetadata,...k}}function on(g,m){let{extra:y,tags:_,user:b,contexts:k,level:E,sdkProcessingMetadata:T,breadcrumbs:A,fingerprint:C,eventProcessors:M,attachments:I,propagationContext:P,transactionName:j,span:x}=m;sn(g,"extra",y),sn(g,"tags",_),sn(g,"user",b),sn(g,"contexts",k),g.sdkProcessingMetadata=ot(g.sdkProcessingMetadata,T,2),E&&(g.level=E),j&&(g.transactionName=j),x&&(g.span=x),A.length&&(g.breadcrumbs=[...g.breadcrumbs,...A]),C.length&&(g.fingerprint=[...g.fingerprint,...C]),M.length&&(g.eventProcessors=[...g.eventProcessors,...M]),I.length&&(g.attachments=[...g.attachments,...I]),g.propagationContext={...g.propagationContext,...P}}function sn(g,m,y){g[m]=ot(g[m],y,1)}function an(g,m,y,E,T,A){let{normalizeDepth:C=3,normalizeMaxBreadth:M=1e3}=g,I={...m,event_id:m.event_id||y.event_id||ze(),timestamp:m.timestamp||$e()},P=y.integrations||g.integrations.map(g=>g.name);!function(g,m){let{environment:y,release:_,dist:b,maxValueLength:k=250}=m;g.environment=g.environment||y||eD,!g.release&&_&&(g.release=_),!g.dist&&b&&(g.dist=b),g.message&&(g.message=Ae(g.message,k));let E=g.exception&&g.exception.values&&g.exception.values[0];E&&E.value&&(E.value=Ae(E.value,k));let T=g.request;T&&T.url&&(T.url=Ae(T.url,k))}(I,g),P.length>0&&(I.sdk=I.sdk||{},I.sdk.integrations=[...I.sdk.integrations||[],...P]),T&&T.emit("applyFrameMetadata",m),void 0===m.type&&function(g,m){let y=function(g){let m=ev._sentryDebugIds;if(!m)return{};let y=Object.keys(m);return k&&y.length===b||(b=y.length,k=y.reduce((y,b)=>{_||(_={});let k=_[b];if(k)y[k[0]]=k[1];else{let k=g(b);for(let g=k.length-1;g>=0;g--){let E=k[g],T=E&&E.filename,A=m[b];if(T&&A){y[T]=A,_[b]=[T,A];break}}}return y},{})),k}(m);try{g.exception.values.forEach(g=>{g.stacktrace.frames.forEach(g=>{y&&g.filename&&(g.debug_id=y[g.filename])})})}catch(g){}}(I,g.stackParser);let j=function(g,m){if(!m)return g;let y=g?g.clone():new eI;return y.update(m),y}(E,y.captureContext);y.mechanism&&Qe(I,y.mechanism);let x=T?T.getEventProcessors():[],V=q("globalScope",()=>new eI).getScopeData();A&&on(V,A.getScopeData()),j&&on(V,j.getScopeData());let J=[...y.attachments||[],...V.attachments];return J.length&&(y.attachments=J),rn(I,V),Zt([...x,...V.eventProcessors],I,y).then(g=>(g&&function(g){let m={};try{g.exception.values.forEach(g=>{g.stacktrace.frames.forEach(g=>{g.debug_id&&(g.abs_path?m[g.abs_path]=g.debug_id:g.filename&&(m[g.filename]=g.debug_id),delete g.debug_id)})})}catch(g){}if(0===Object.keys(m).length)return;g.debug_meta=g.debug_meta||{},g.debug_meta.images=g.debug_meta.images||[];let y=g.debug_meta.images;Object.entries(m).forEach(([g,m])=>{y.push({type:"sourcemap",code_file:g,debug_id:m})})}(g),"number"==typeof C&&C>0?function(g,m,y){if(!g)return null;let _={...g,...g.breadcrumbs&&{breadcrumbs:g.breadcrumbs.map(g=>({...g,...g.data&&{data:Ut(g.data,m,y)}}))},...g.user&&{user:Ut(g.user,m,y)},...g.contexts&&{contexts:Ut(g.contexts,m,y)},...g.extra&&{extra:Ut(g.extra,m,y)}};return g.contexts&&g.contexts.trace&&_.contexts&&(_.contexts.trace=g.contexts.trace,g.contexts.trace.data&&(_.contexts.trace.data=Ut(g.contexts.trace.data,m,y))),g.spans&&(_.spans=g.spans.map(g=>({...g,...g.data&&{data:Ut(g.data,m,y)}}))),g.contexts&&g.contexts.flags&&_.contexts&&(_.contexts.flags=Ut(g.contexts.flags,3,y)),_}(g,C,M):g))}function cn(g){if(g)return g instanceof eI||"function"==typeof g||Object.keys(g).some(g=>eR.includes(g))?{captureContext:g}:g}let eR=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function un(g,m){return mt().captureEvent(g,m)}function dn(g){let m=bt(),y=yt(),_=mt(),{release:b,environment:k=eD}=m&&m.getOptions()||{},{userAgent:E}=ev.navigator||{},T=tt({release:b,environment:k,user:_.getUser()||y.getUser(),...E&&{userAgent:E},...g}),A=y.getSession();return A&&"ok"===A.status&&nt(A,{status:"exited"}),pn(),y.setSession(T),_.setSession(T),T}function pn(){var g;let m;let y=yt(),_=mt(),b=_.getSession()||y.getSession();b&&(m={},g?m={status:g}:"ok"===b.status&&(m={status:"exited"}),nt(b,m)),hn(),y.setSession(),_.setSession()}function hn(){let g=yt(),m=mt(),y=bt(),_=m.getSession()||g.getSession();_&&y&&y.captureSession(_)}function fn(g=!1){g?pn():hn()}function vn(g,m,y){return m||`${function(g){let m=g.protocol?`${g.protocol}:`:"",y=g.port?`:${g.port}`:"";return`${m}//${g.host}${y}${g.path?`/${g.path}`:""}/api/`}(g)}${g.projectId}/envelope/?${function(g,m){let y={sentry_version:"7"};return g.publicKey&&(y.sentry_key=g.publicKey),m&&(y.sentry_client=`${m.name}/${m.version}`),new URLSearchParams(y).toString()}(g,y)}`}let ex=[];function mn(g,m){for(let y of m)y&&y.afterAllSetup&&y.afterAllSetup(g)}function yn(g,m,y){if(y[m.name])eh&&e_.log(`Integration skipped because it was already installed: ${m.name}`);else{if(y[m.name]=m,-1===ex.indexOf(m.name)&&"function"==typeof m.setupOnce&&(m.setupOnce(),ex.push(m.name)),m.setup&&"function"==typeof m.setup&&m.setup(g),"function"==typeof m.preprocessEvent){let y=m.preprocessEvent.bind(m);g.on("preprocessEvent",(m,_)=>y(m,_,g))}if("function"==typeof m.processEvent){let y=m.processEvent.bind(m),_=Object.assign((m,_)=>y(m,_,g),{id:m.name});g.addEventProcessor(_)}eh&&e_.log(`Integration installed: ${m.name}`)}}let bn=class bn extends Error{constructor(g,m="warn"){super(g),this.message=g,this.logLevel=m}};let eF="Not capturing exception because it's already been captured.";let wn=class wn{constructor(g){if(this._options=g,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],g.dsn?this._dsn=Bt(g.dsn):eh&&e_.warn("No DSN provided, client will not send events."),this._dsn){let m=vn(this._dsn,g.tunnel,g._metadata?g._metadata.sdk:void 0);this._transport=g.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...g.transportOptions,url:m})}let m=["enableTracing","tracesSampleRate","tracesSampler"].find(m=>m in g&&null==g[m]);m&&G(()=>{console.warn(`[Sentry] Deprecation warning: \`${m}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(g,m,y){let _=ze();if(Ke(g))return eh&&e_.log(eF),_;let b={event_id:_,...m};return this._process(this.eventFromException(g,b).then(g=>this._captureEvent(g,b,y))),b.event_id}captureMessage(g,m,y,_){let b={event_id:ze(),...y},k=_e(g)?g:String(g),E=we(g)?this.eventFromMessage(k,m,b):this.eventFromException(g,b);return this._process(E.then(g=>this._captureEvent(g,b,_))),b.event_id}captureEvent(g,m,y){let _=ze();if(m&&m.originalException&&Ke(m.originalException))return eh&&e_.log(eF),_;let b={event_id:_,...m},k=(g.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(g,b,k||y)),b.event_id}captureSession(g){"string"!=typeof g.release?eh&&e_.warn("Discarded session because of missing or non-string release"):(this.sendSession(g),nt(g,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(g){let m=this._transport;return m?(this.emit("flush"),this._isClientDoneProcessing(g).then(y=>m.flush(g).then(g=>y&&g))):Xe(!0)}close(g){return this.flush(g).then(g=>(this.getOptions().enabled=!1,this.emit("close"),g))}getEventProcessors(){return this._eventProcessors}addEventProcessor(g){this._eventProcessors.push(g)}init(){(this._isEnabled()||this._options.integrations.some(({name:g})=>g.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(g){return this._integrations[g]}addIntegration(g){let m=this._integrations[g.name];yn(this,g,this._integrations),m||mn(this,[g])}sendEvent(g,m={}){this.emit("beforeSendEvent",g,m);let y=Xt(g,this._dsn,this._options._metadata,this._options.tunnel);for(let g of m.attachments||[])y=qt(y,Gt(g));let _=this.sendEnvelope(y);_&&_.then(m=>this.emit("afterSendEvent",g,m),null)}sendSession(g){let m=function(g,m,y,_){let b=Yt(y);return $t({sent_at:(new Date).toISOString(),...b&&{sdk:b},...!!_&&m&&{dsn:Rt(m)}},["aggregates"in g?[{type:"sessions"},g]:[{type:"session"},g.toJSON()]])}(g,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(m)}recordDroppedEvent(g,m,y){if(this._options.sendClientReports){let _="number"==typeof y?y:1,b=`${g}:${m}`;eh&&e_.log(`Recording outcome: "${b}"${_>1?` (${_} times)`:""}`),this._outcomes[b]=(this._outcomes[b]||0)+_}}on(g,m){let y=this._hooks[g]=this._hooks[g]||[];return y.push(m),()=>{let g=y.indexOf(m);g>-1&&y.splice(g,1)}}emit(g,...m){let y=this._hooks[g];y&&y.forEach(g=>g(...m))}sendEnvelope(g){return this.emit("beforeEnvelope",g),this._isEnabled()&&this._transport?this._transport.send(g).then(null,g=>(eh&&e_.error("Error while sending envelope:",g),g)):(eh&&e_.error("Transport disabled"),Xe({}))}_setupIntegrations(){let{integrations:g}=this._options;this._integrations=function(g,m){let y={};return m.forEach(m=>{m&&yn(g,m,y)}),y}(this,g),mn(this,g)}_updateSessionFromEvent(g,m){let y="fatal"===m.level,_=!1,b=m.exception&&m.exception.values;if(b)for(let g of(_=!0,b)){let m=g.mechanism;if(m&&!1===m.handled){y=!0;break}}let k="ok"===g.status;(k&&0===g.errors||k&&y)&&(nt(g,{...y&&{status:"crashed"},errors:g.errors||Number(_||y)}),this.captureSession(g))}_isClientDoneProcessing(g){return new et(m=>{let y=0,_=setInterval(()=>{0==this._numProcessing?(clearInterval(_),m(!0)):(y+=1,g&&y>=g&&(clearInterval(_),m(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(g,m,y=mt(),_=yt()){let b=this.getOptions(),k=Object.keys(this._integrations);return!m.integrations&&k.length>0&&(m.integrations=k),this.emit("preprocessEvent",g,m),g.type||_.setLastEventId(g.event_id||m.event_id),an(b,g,m,y,this,_).then(g=>{if(null===g)return g;g.contexts={trace:_t(y),...g.contexts};let m=function(g,m){let y=m.getPropagationContext();return y.dsc||Lt(y.traceId,g)}(this,y);return g.sdkProcessingMetadata={dynamicSamplingContext:m,...g.sdkProcessingMetadata},g})}_captureEvent(g,m={},y){return this._processEvent(g,m,y).then(g=>g.event_id,g=>{eh&&(g instanceof bn&&"log"===g.logLevel?e_.log(g.message):e_.warn(g))})}_processEvent(g,m,y){let _=this.getOptions(),{sampleRate:b}=_,k=kn(g),E=Sn(g),T=g.type||"error",A=`before send for type \`${T}\``,C=void 0===b?void 0:function(g){if("boolean"==typeof g)return Number(g);let m="string"==typeof g?parseFloat(g):g;if(!("number"!=typeof m||isNaN(m)||m<0||m>1))return m;eh&&e_.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(g)} of type ${JSON.stringify(typeof g)}.`)}(b);if(E&&"number"==typeof C&&Math.random()>C)return this.recordDroppedEvent("sample_rate","error",g),Ze(new bn(`Discarding event because it's not included in the random sample (sampling rate = ${b})`,"log"));let M="replay_event"===T?"replay":T,I=(g.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(g,m,y,I).then(y=>{if(null===y)throw this.recordDroppedEvent("event_processor",M,g),new bn("An event processor returned `null`, will not send event.","log");if(m.data&&!0===m.data.__sentry__)return y;let b=function(g,m,y,_){let{beforeSend:b,beforeSendTransaction:k,beforeSendSpan:E}=m;if(Sn(y)&&b)return b(y,_);if(kn(y)){if(y.spans&&E){let m=[];for(let _ of y.spans){let y=E(_);y?m.push(y):(It(),g.recordDroppedEvent("before_send","span"))}y.spans=m}if(k){if(y.spans){let g=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:g}}return k(y,_)}}return y}(this,_,y,m);return function(g,m){let y=`${m} must return \`null\` or a valid event.`;if(Me(g))return g.then(g=>{if(!Se(g)&&null!==g)throw new bn(y);return g},g=>{throw new bn(`${m} rejected with ${g}`)});if(!Se(g)&&null!==g)throw new bn(y);return g}(b,A)}).then(_=>{if(null===_){if(this.recordDroppedEvent("before_send",M,g),k){let m=1+(g.spans||[]).length;this.recordDroppedEvent("before_send","span",m)}throw new bn(`${A} returned \`null\`, will not send event.`,"log")}let b=y&&y.getSession();if(!k&&b&&this._updateSessionFromEvent(b,_),k){let g=(_.sdkProcessingMetadata&&_.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(_.spans?_.spans.length:0);g>0&&this.recordDroppedEvent("before_send","span",g)}let E=_.transaction_info;return k&&E&&_.transaction!==g.transaction&&(_.transaction_info={...E,source:"custom"}),this.sendEvent(_,m),_}).then(null,g=>{if(g instanceof bn)throw g;throw this.captureException(g,{data:{__sentry__:!0},originalException:g}),new bn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`)})}_process(g){this._numProcessing++,g.then(g=>(this._numProcessing--,g),g=>(this._numProcessing--,g))}_clearOutcomes(){let g=this._outcomes;return this._outcomes={},Object.entries(g).map(([g,m])=>{let[y,_]=g.split(":");return{reason:y,category:_,quantity:m}})}_flushOutcomes(){var g,m;eh&&e_.log("Flushing outcomes...");let y=this._clearOutcomes();if(0===y.length)return void(eh&&e_.log("No outcomes to send"));if(!this._dsn)return void(eh&&e_.log("No dsn provided, will not send outcomes"));eh&&e_.log("Sending outcomes:",y);let _=$t((g=this._options.tunnel&&Rt(this._dsn))?{dsn:g}:{},[[{type:"client_report"},{timestamp:m||$e(),discarded_events:y}]]);this.sendEnvelope(_)}};function Sn(g){return void 0===g.type}function kn(g){return"transaction"===g.type}function Mn(g){let m=[];function n(g){return m.splice(m.indexOf(g),1)[0]||Promise.resolve(void 0)}return{$:m,add:function(y){if(!(void 0===g||m.length<g))return Ze(new bn("Not adding Promise because buffer limit was reached."));let _=y();return -1===m.indexOf(_)&&m.push(_),_.then(()=>n(_)).then(null,()=>n(_).then(null,()=>{})),_},drain:function(g){return new et((y,_)=>{let b=m.length;if(!b)return y(!0);let k=setTimeout(()=>{g&&g>0&&y(!1)},g);m.forEach(g=>{Xe(g).then(()=>{--b||(clearTimeout(k),y(!0))},_)})})}}}function Cn(g,{statusCode:m,headers:y},_=Date.now()){let b={...g},k=y&&y["x-sentry-rate-limits"],E=y&&y["retry-after"];if(k)for(let g of k.trim().split(",")){let[m,y,,,k]=g.split(":",5),E=parseInt(m,10),T=1e3*(isNaN(E)?60:E);if(y)for(let g of y.split(";"))"metric_bucket"===g&&k&&!k.split(";").includes("custom")||(b[g]=_+T);else b.all=_+T}else E?b.all=_+function(g,m=Date.now()){let y=parseInt(`${g}`,10);if(!isNaN(y))return 1e3*y;let _=Date.parse(`${g}`);return isNaN(_)?6e4:_-m}(E,_):429===m&&(b.all=_+6e4);return b}function En(g,m,y=Mn(g.bufferSize||64)){let _={};return{send:function(b){let k=[];if(zt(b,(m,y)=>{let b=ej[y];if(function(g,m,y=Date.now()){return(g[m]||g.all||0)>y}(_,b)){let _=Tn(m,y);g.recordDroppedEvent("ratelimit_backoff",b,_)}else k.push(m)}),0===k.length)return Xe({});let E=$t(b[0],k),a=m=>{zt(E,(y,_)=>{let b=Tn(y,_);g.recordDroppedEvent(m,ej[_],b)})};return y.add(()=>m({body:Ht(E)}).then(g=>(void 0!==g.statusCode&&(g.statusCode<200||g.statusCode>=300)&&eh&&e_.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),_=Cn(_,g),g),g=>{throw a("network_error"),g})).then(g=>g,g=>{if(g instanceof bn)return eh&&e_.error("Skipped sending event because buffer is full."),a("queue_overflow"),Xe({});throw g})},flush:g=>y.drain(g)}}function Tn(g,m){if("event"===m||"transaction"===m)return Array.isArray(g)?g[1]:void 0}function Pn(g,m){let y=bt(),_=yt();if(!y)return;let{beforeBreadcrumb:b=null,maxBreadcrumbs:k=100}=y.getOptions();if(k<=0)return;let E={timestamp:$e(),...g},T=b?G(()=>b(E,m)):E;null!==T&&(y.emit&&y.emit("beforeAddBreadcrumb",T,m),_.addBreadcrumb(T,k))}let eV=new WeakMap,In=()=>({name:"FunctionToString",setupOnce(){E=Function.prototype.toString;try{Function.prototype.toString=function(...g){let m=Re(this),y=eV.has(bt())&&void 0!==m?m:this;return E.apply(y,g)}}catch(g){}},setup(g){eV.set(g,!0)}}),eU=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Ln=(g={})=>({name:"InboundFilters",processEvent(m,y,_){var b,k,E;let T=_.getOptions(),A=function(g={},m={}){return{allowUrls:[...g.allowUrls||[],...m.allowUrls||[]],denyUrls:[...g.denyUrls||[],...m.denyUrls||[]],ignoreErrors:[...g.ignoreErrors||[],...m.ignoreErrors||[],...g.disableErrorDefaults?[]:eU],ignoreTransactions:[...g.ignoreTransactions||[],...m.ignoreTransactions||[]],ignoreInternal:void 0===g.ignoreInternal||g.ignoreInternal}}(g,T);return(b=m,(k=A).ignoreInternal&&function(g){try{return"SentryError"===g.exception.values[0].type}catch(g){}return!1}(b)?(eh&&e_.warn(`Event dropped due to being internal Sentry Error.
Event: ${He(b)}`),0):(E=k.ignoreErrors,!b.type&&E&&E.length&&(function(g){let m;let y=[];g.message&&y.push(g.message);try{m=g.exception.values[g.exception.values.length-1]}catch(g){}return m&&m.value&&(y.push(m.value),m.type&&y.push(`${m.type}: ${m.value}`)),y})(b).some(g=>xe(g,E)))?(eh&&e_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${He(b)}`),0):b.type||!b.exception||!b.exception.values||0===b.exception.values.length||b.message||b.exception.values.some(g=>g.stacktrace||g.type&&"Error"!==g.type||g.value)?!function(g,m){if("transaction"!==g.type||!m||!m.length)return!1;let y=g.transaction;return!!y&&xe(y,m)}(b,k.ignoreTransactions)?!function(g,m){if(!m||!m.length)return!1;let y=Dn(g);return!!y&&xe(y,m)}(b,k.denyUrls)?function(g,m){if(!m||!m.length)return!0;let y=Dn(g);return!y||xe(y,m)}(b,k.allowUrls)||(eh&&e_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${He(b)}.
Url: ${Dn(b)}`),0):(eh&&e_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${He(b)}.
Url: ${Dn(b)}`),0):(eh&&e_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${He(b)}`),0):(eh&&e_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${He(b)}`),0))?m:null}});function Dn(g){try{let m;try{m=g.exception.values[0].stacktrace.frames}catch(g){}return m?function(g=[]){for(let m=g.length-1;m>=0;m--){let y=g[m];if(y&&"<anonymous>"!==y.filename&&"[native code]"!==y.filename)return y.filename||null}return null}(m):null}catch(m){return eh&&e_.error(`Cannot extract url for event ${He(g)}`),null}}function Nn(g,m,y=250,_,b,k,E){if(!(k.exception&&k.exception.values&&E&&Ce(E.originalException,Error)))return;let T=k.exception.values.length>0?k.exception.values[k.exception.values.length-1]:void 0;T&&(k.exception.values=Rn(g,m,b,E.originalException,_,k.exception.values,T,0).map(g=>(g.value&&(g.value=Ae(g.value,y)),g)))}function Rn(g,m,y,_,b,k,E,T){if(k.length>=y+1)return k;let A=[...k];if(Ce(_[b],Error)){Fn(E,T);let k=g(m,_[b]),C=A.length;Bn(k,b,C,T),A=Rn(g,m,y,_[b],b,[k,...A],k,C)}return Array.isArray(_.errors)&&_.errors.forEach((_,k)=>{if(Ce(_,Error)){Fn(E,T);let C=g(m,_),M=A.length;Bn(C,`errors[${k}]`,M,T),A=Rn(g,m,y,_,b,[C,...A],C,M)}}),A}function Fn(g,m){g.mechanism=g.mechanism||{type:"generic",handled:!0},g.mechanism={...g.mechanism,..."AggregateError"===g.type&&{is_exception_group:!0},exception_id:m}}function Bn(g,m,y,_){g.mechanism=g.mechanism||{type:"generic",handled:!0},g.mechanism={...g.mechanism,type:"chained",source:m,exception_id:y,parent_id:_}}function Un(g){if(!g)return{};let m=g.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!m)return{};let y=m[6]||"",_=m[8]||"";return{host:m[4],path:m[5],protocol:m[2],search:y,hash:_,relative:m[5]+y+_}}function Vn(){"console"in ev&&em.forEach(function(g){g in ev.console&&Le(ev.console,g,function(m){return ey[g]=m,function(...m){ae("console",{args:m,level:g});let y=ey[g];y&&y.apply(ev.console,m)}})})}function Jn(g){return"warn"===g?"warning":["fatal","error","warning","log","info","debug"].includes(g)?g:"log"}let $n=()=>{let g;return{name:"Dedupe",processEvent(m){if(m.type)return m;try{var y;if((y=g)&&(function(g,m){let y=g.message,_=m.message;return!!((y||_)&&(!y||_)&&(y||!_)&&y===_&&zn(g,m)&&qn(g,m))}(m,y)||function(g,m){let y=Wn(m),_=Wn(g);return!!(y&&_&&y.type===_.type&&y.value===_.value&&zn(g,m)&&qn(g,m))}(m,y)))return eh&&e_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(g){}return g=m}}};function qn(g,m){let y=ne(g),_=ne(m);if(!y&&!_)return!0;if(y&&!_||!y&&_||_.length!==y.length)return!1;for(let g=0;g<_.length;g++){let m=_[g],b=y[g];if(m.filename!==b.filename||m.lineno!==b.lineno||m.colno!==b.colno||m.function!==b.function)return!1}return!0}function zn(g,m){let y=g.fingerprint,_=m.fingerprint;if(!y&&!_)return!0;if(y&&!_||!y&&_)return!1;try{return!(y.join("")!==_.join(""))}catch(g){return!1}}function Wn(g){return g.exception&&g.exception.values&&g.exception.values[0]}function Hn(g){return void 0===g?void 0:g>=400&&g<500?"warning":g>=500?"error":void 0}function Qn(g){return g&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(g.toString())}function Kn(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in ev))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(g){return!1}}())return!1;if(Qn(ev.fetch))return!0;let g=!1,m=ev.document;if(m&&"function"==typeof m.createElement)try{let y=m.createElement("iframe");y.hidden=!0,m.head.appendChild(y),y.contentWindow&&y.contentWindow.fetch&&(g=Qn(y.contentWindow.fetch)),m.head.removeChild(y)}catch(g){eg&&e_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",g)}return g}function Yn(g,m){let y="fetch";oe(y,g),se(y,()=>(function(g,m=!1){(!m||Kn())&&Le(ev,"fetch",function(m){return function(...y){let _=Error(),{method:b,url:k}=function(g){if(0===g.length)return{method:"GET",url:""};if(2===g.length){let[m,y]=g;return{url:Zn(m),method:Xn(y,"method")?String(y.method).toUpperCase():"GET"}}let m=g[0];return{url:Zn(m),method:Xn(m,"method")?String(m.method).toUpperCase():"GET"}}(y),E={args:y,fetchData:{method:b,url:k},startTimestamp:1e3*eC(),virtualError:_};return g||ae("fetch",{...E}),m.apply(ev,y).then(async m=>(g?g(m):ae("fetch",{...E,endTimestamp:1e3*eC(),response:m}),m),g=>{throw ae("fetch",{...E,endTimestamp:1e3*eC(),error:g}),ve(g)&&void 0===g.stack&&(g.stack=_.stack,De(g,"framesToPop",1)),g})}})})(void 0,m))}function Xn(g,m){return!!g&&"object"==typeof g&&!!g[m]}function Zn(g){return"string"==typeof g?g:g?Xn(g,"url")?g.url:g.toString?g.toString():"":""}let eB=0;function ir(g,m={}){if("function"!=typeof g)return g;try{let m=g.__sentry_wrapped__;if(m)return"function"==typeof m?m:g;if(Re(g))return g}catch(m){return g}let n=function(...y){try{let _=y.map(g=>ir(g,m));return g.apply(this,_)}catch(g){throw eB++,setTimeout(()=>{eB--}),function(...g){let m=gt(pe());if(2===g.length){let[y,_]=g;return y?m.withSetScope(y,_):m.withScope(_)}m.withScope(g[0])}(_=>{var b;_.addEventProcessor(g=>(m.mechanism&&(Ge(g,void 0,void 0),Qe(g,m.mechanism)),g.extra={...g.extra,arguments:y},g)),mt().captureException(g,cn(b))}),g}};try{for(let m in g)Object.prototype.hasOwnProperty.call(g,m)&&(n[m]=g[m])}catch(g){}Ne(n,g),De(g,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>g.name})}catch(g){}return n}let eJ="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function sr(g,m){let y=lr(g,m),_={type:pr(m),value:hr(m)};return y.length&&(_.stacktrace={frames:y}),void 0===_.type&&""===_.value&&(_.value="Unrecoverable error caught"),_}function ar(g,m,y,_){let b=bt(),k=b&&b.getOptions().normalizeDepth,E=function(g){for(let m in g)if(Object.prototype.hasOwnProperty.call(g,m)){let y=g[m];if(y instanceof Error)return y}}(m),T={__serialized__:Vt(m,k)};if(E)return{exception:{values:[sr(g,E)]},extra:T};let A={exception:{values:[{type:ke(m)?m.constructor.name:_?"UnhandledRejection":"Error",value:gr(m,{isUnhandledRejection:_})}]},extra:T};if(y){let m=lr(g,y);m.length&&(A.exception.values[0].stacktrace={frames:m})}return A}function cr(g,m){return{exception:{values:[sr(g,m)]}}}function lr(g,m){let y=m.stacktrace||m.stack||"",_=m&&eY.test(m.message)?1:0,b="number"==typeof m.framesToPop?m.framesToPop:0;try{return g(y,_,b)}catch(g){}return[]}let eY=/Minified React error #\d+;/i;function dr(g){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&g instanceof WebAssembly.Exception}function pr(g){let m=g&&g.name;return!m&&dr(g)?g.message&&Array.isArray(g.message)&&2==g.message.length?g.message[0]:"WebAssembly.Exception":m}function hr(g){let m=g&&g.message;return m?m.error&&"string"==typeof m.error.message?m.error.message:dr(g)&&Array.isArray(g.message)&&2==g.message.length?g.message[1]:m:"No error message"}function fr(g,m,y,_,b){let k;if(me(m)&&m.error)return cr(g,m.error);if(ye(m)||ge(m,"DOMException")){if("stack"in m)k=cr(g,m);else{let b=m.name||(ye(m)?"DOMError":"DOMException"),E=m.message?`${b}: ${m.message}`:b;Ge(k=vr(g,E,y,_),E)}return"code"in m&&(k.tags={...k.tags,"DOMException.code":`${m.code}`}),k}return ve(m)?cr(g,m):(Se(m)||ke(m)?Qe(k=ar(g,m,y,b),{synthetic:!0}):(Ge(k=vr(g,m,y,_),`${m}`,void 0),Qe(k,{synthetic:!0})),k)}function vr(g,m,y,_){let b={};if(_&&y){let _=lr(g,y);_.length&&(b.exception={values:[{value:m,stacktrace:{frames:_}}]}),Qe(b,{synthetic:!0})}if(_e(m)){let{__sentry_template_string__:g,__sentry_template_values__:y}=m;return b.logentry={message:g,params:y},b}return b.message=m,b}function gr(g,{isUnhandledRejection:m}){let y=function(g,m=40){let y=Object.keys(Fe(g));y.sort();let _=y[0];if(!_)return"[object has no keys]";if(_.length>=m)return Ae(_,m);for(let g=y.length;g>0;g--){let _=y.slice(0,g).join(", ");if(!(_.length>m))return g===y.length?_:Ae(_,m)}return""}(g),_=m?"promise rejection":"exception";return me(g)?`Event \`ErrorEvent\` captured as ${_} with message \`${g.message}\``:ke(g)?`Event \`${function(g){try{let m=Object.getPrototypeOf(g);return m?m.constructor.name:void 0}catch(g){}}(g)}\` (type=${g.type}) captured as ${_}`:`Object captured as ${_} with keys: ${y}`}let mr=class mr extends wn{constructor(g){let m={parentSpanIsAlwaysRootSpan:!0,...g};!function(g,m,y=[m],_="npm"){let b=g._metadata||{};b.sdk||(b.sdk={name:`sentry.javascript.${m}`,packages:y.map(g=>({name:`${_}:@sentry/${g}`,version:ef})),version:ef}),g._metadata=b}(m,"browser",["browser"],ev.SENTRY_SDK_SOURCE||"npm"),super(m),m.sendClientReports&&ev.document&&ev.document.addEventListener("visibilitychange",()=>{"hidden"===ev.document.visibilityState&&this._flushOutcomes()})}eventFromException(g,m){return function(g,m,y,_){let b=fr(g,m,y&&y.syntheticException||void 0,_);return Qe(b),b.level="error",y&&y.event_id&&(b.event_id=y.event_id),Xe(b)}(this._options.stackParser,g,m,this._options.attachStacktrace)}eventFromMessage(g,m="info",y){return function(g,m,y="info",_,b){let k=vr(g,m,_&&_.syntheticException||void 0,b);return k.level=y,_&&_.event_id&&(k.event_id=_.event_id),Xe(k)}(this._options.stackParser,g,m,y,this._options.attachStacktrace)}captureUserFeedback(g){if(!this._isEnabled())return void(eJ&&e_.warn("SDK not enabled, will not capture user feedback."));let m=function(g,{metadata:m,tunnel:y,dsn:_}){let b={event_id:g.event_id,sent_at:(new Date).toISOString(),...m&&m.sdk&&{sdk:{name:m.sdk.name,version:m.sdk.version}},...!!y&&!!_&&{dsn:Rt(_)}},k=[{type:"user_report"},g];return $t(b,[k])}(g,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(m)}_prepareEvent(g,m,y){return g.platform=g.platform||"javascript",super._prepareEvent(g,m,y)}};let e$="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Mr(){if(!ev.document)return;let g=ae.bind(null,"dom"),m=Cr(g,!0);ev.document.addEventListener("click",m,!1),ev.document.addEventListener("keypress",m,!1),["EventTarget","Node"].forEach(m=>{let y=ev[m],_=y&&y.prototype;_&&_.hasOwnProperty&&_.hasOwnProperty("addEventListener")&&(Le(_,"addEventListener",function(m){return function(y,_,b){if("click"===y||"keypress"==y)try{let _=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},k=_[y]=_[y]||{refCount:0};if(!k.handler){let _=Cr(g);k.handler=_,m.call(this,y,_,b)}k.refCount++}catch(g){}return m.call(this,y,_,b)}}),Le(_,"removeEventListener",function(g){return function(m,y,_){if("click"===m||"keypress"==m)try{let y=this.__sentry_instrumentation_handlers__||{},b=y[m];b&&(b.refCount--,b.refCount<=0&&(g.call(this,m,b.handler,_),b.handler=void 0,delete y[m]),0===Object.keys(y).length&&delete this.__sentry_instrumentation_handlers__)}catch(g){}return g.call(this,m,y,_)}}))})}function Cr(g,m=!1){return y=>{if(!y||y._sentryCaptured)return;let _=function(g){try{return g.target}catch(g){return null}}(y);if("keypress"===y.type&&(!_||!_.tagName||"INPUT"!==_.tagName&&"TEXTAREA"!==_.tagName&&!_.isContentEditable))return;De(y,"_sentryCaptured",!0),_&&!_._sentryId&&De(_,"_sentryId",ze());let b="keypress"===y.type?"input":y.type;!function(g){if(g.type!==A)return!1;try{if(!g.target||g.target._sentryId!==C)return!1}catch(g){}return!0}(y)&&(g({event:y,name:b,global:m}),A=y.type,C=_?_._sentryId:void 0),clearTimeout(T),T=ev.setTimeout(()=>{C=void 0,A=void 0},1e3)}}function Er(g){let m="history";oe(m,g),se(m,Tr)}function Tr(){if(!function(){let g=ev.chrome,m=g&&g.app&&g.app.runtime,y="history"in ev&&!!ev.history.pushState&&!!ev.history.replaceState;return!m&&y}())return;let g=ev.onpopstate;function t(g){return function(...m){let y=m.length>2?m[2]:void 0;if(y){let g=M,m=String(y);M=m,ae("history",{from:g,to:m})}return g.apply(this,m)}}ev.onpopstate=function(...m){let y=ev.location.href,_=M;if(M=y,ae("history",{from:_,to:y}),g)try{return g.apply(this,m)}catch(g){}},Le(ev.history,"pushState",t),Le(ev.history,"replaceState",t)}let eq={},ez="__sentry_xhr_v3__";function jr(){if(!ev.XMLHttpRequest)return;let g=XMLHttpRequest.prototype;g.open=new Proxy(g.open,{apply(g,m,y){let _=Error(),b=1e3*eC(),k=be(y[0])?y[0].toUpperCase():void 0,E=function(g){if(be(g))return g;try{return g.toString()}catch(g){}}(y[1]);if(!k||!E)return g.apply(m,y);m[ez]={method:k,url:E,request_headers:{}},"POST"===k&&E.match(/sentry_key/)&&(m.__sentry_own_request__=!0);let a=()=>{let g=m[ez];if(g&&4===m.readyState){try{g.status_code=m.status}catch(g){}ae("xhr",{endTimestamp:1e3*eC(),startTimestamp:b,xhr:m,virtualError:_})}};return"onreadystatechange"in m&&"function"==typeof m.onreadystatechange?m.onreadystatechange=new Proxy(m.onreadystatechange,{apply:(g,m,y)=>(a(),g.apply(m,y))}):m.addEventListener("readystatechange",a),m.setRequestHeader=new Proxy(m.setRequestHeader,{apply(g,m,y){let[_,b]=y,k=m[ez];return k&&be(_)&&be(b)&&(k.request_headers[_.toLowerCase()]=b),g.apply(m,y)}}),g.apply(m,y)}}),g.send=new Proxy(g.send,{apply(g,m,y){let _=m[ez];return _&&(void 0!==y[0]&&(_.body=y[0]),ae("xhr",{startTimestamp:1e3*eC(),xhr:m})),g.apply(m,y)}})}function Ir(g,m=function(g){let m=eq[g];if(m)return m;let y=ev[g];if(Qn(y))return eq[g]=y.bind(ev);let _=ev.document;if(_&&"function"==typeof _.createElement)try{let m=_.createElement("iframe");m.hidden=!0,_.head.appendChild(m);let b=m.contentWindow;b&&b[g]&&(y=b[g]),_.head.removeChild(m)}catch(m){e$&&e_.warn(`Could not create sandbox iframe for ${g} check, bailing to window.${g}: `,m)}return y?eq[g]=y.bind(ev):y}("fetch")){let y=0,_=0;return En(g,function(b){let k=b.body.length;y+=k,_++;let E={body:b.body,method:"POST",referrerPolicy:"origin",headers:g.headers,keepalive:y<=6e4&&_<15,...g.fetchOptions};if(!m)return eq.fetch=void 0,Ze("No fetch implementation available");try{return m(g.url,E).then(g=>(y-=k,_--,{statusCode:g.status,headers:{"x-sentry-rate-limits":g.headers.get("X-Sentry-Rate-Limits"),"retry-after":g.headers.get("Retry-After")}}))}catch(g){return eq.fetch=void 0,y-=k,_--,Ze(g)}})}function xr(g,m,y,_){let b={filename:g,function:"<anonymous>"===m?"?":m,in_app:!0};return void 0!==y&&(b.lineno=y),void 0!==_&&(b.colno=_),b}let eW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,eG=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eK=/\((\S*)(?::(\d+))(?::(\d+))\)/,eH=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eQ=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eX=function(...g){let m=g.sort((g,m)=>g[0]-m[0]).map(g=>g[1]);return(g,y=0,_=0)=>{let b=[],k=g.split("\n");for(let g=y;g<k.length;g++){let y=k[g];if(y.length>1024)continue;let E=eb.test(y)?y.replace(eb,"$1"):y;if(!E.match(/\S*Error: /)){for(let g of m){let m=g(E);if(m){b.push(m);break}}if(b.length>=50+_)break}}return function(g){if(!g.length)return[];let m=Array.from(g);return/sentryWrapped/.test(Z(m).function||"")&&m.pop(),m.reverse(),eS.test(Z(m).function||"")&&(m.pop(),eS.test(Z(m).function||"")&&m.pop()),m.slice(0,50).map(g=>({...g,filename:g.filename||Z(m).filename,function:g.function||"?"}))}(b.slice(_))}}(...[[30,g=>{let m=eW.exec(g);if(m){let[,g,y,_]=m;return xr(g,"?",+y,+_)}let y=eG.exec(g);if(y){if(y[2]&&0===y[2].indexOf("eval")){let g=eK.exec(y[2]);g&&(y[2]=g[1],y[3]=g[2],y[4]=g[3])}let[g,m]=Ur(y[1]||"?",y[2]);return xr(m,g,y[3]?+y[3]:void 0,y[4]?+y[4]:void 0)}}],[50,g=>{let m=eH.exec(g);if(m){if(m[3]&&m[3].indexOf(" > eval")>-1){let g=eQ.exec(m[3]);g&&(m[1]=m[1]||"eval",m[3]=g[1],m[4]=g[2],m[5]="")}let g=m[3],y=m[1]||"?";return[y,g]=Ur(y,g),xr(g,y,m[4]?+m[4]:void 0,m[5]?+m[5]:void 0)}}]]),Ur=(g,m)=>{let y=-1!==g.indexOf("safari-extension"),_=-1!==g.indexOf("safari-web-extension");return y||_?[-1!==g.indexOf("@")?g.split("@")[0]:"?",y?`safari-extension:${m}`:`safari-web-extension:${m}`]:[g,m]},Jr=(g={})=>{let m={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...g};return{name:"Breadcrumbs",setup(g){var y;m.console&&function(g){let m="console";oe(m,g),se(m,Vn)}(function(m){if(bt()!==g)return;let y={category:"console",data:{arguments:m.args,logger:"console"},level:Jn(m.level),message:je(m.args," ")};if("assert"===m.level){if(!1!==m.args[0])return;y.message=`Assertion failed: ${je(m.args.slice(1)," ")||"console.assert"}`,y.data.arguments=m.args.slice(1)}Pn(y,{input:m.args,level:m.level})}),m.dom&&(y=m.dom,oe("dom",function(m){if(bt()!==g)return;let _,b,k="object"==typeof y?y.serializeAttribute:void 0,E="object"==typeof y&&"number"==typeof y.maxStringLength?y.maxStringLength:void 0;E&&E>1024&&(eJ&&e_.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${E} was configured. Sentry will use 1024 instead.`),E=1024),"string"==typeof k&&(k=[k]);try{let g=m.event,y=g&&g.target?g.target:g;_=Oe(y,{keyAttrs:k,maxStringLength:E}),b=function(g){if(!ev.HTMLElement)return null;let m=g;for(let g=0;g<5&&m;g++){if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(y)}catch(g){_="<unknown>"}if(0===_.length)return;let T={category:`ui.${m.name}`,message:_};b&&(T.data={"ui.component_name":b}),Pn(T,{event:m.event,name:m.name,global:m.global})}),se("dom",Mr)),m.xhr&&(oe("xhr",function(m){if(bt()!==g)return;let{startTimestamp:y,endTimestamp:_}=m,b=m.xhr[ez];if(!y||!_||!b)return;let{method:k,url:E,status_code:T,body:A}=b,C={xhr:m.xhr,input:A,startTimestamp:y,endTimestamp:_};Pn({category:"xhr",data:{method:k,url:E,status_code:T},type:"http",level:Hn(T)},C)}),se("xhr",jr)),m.fetch&&Yn(function(m){if(bt()!==g)return;let{startTimestamp:y,endTimestamp:_}=m;if(_&&(!m.fetchData.url.match(/sentry_key/)||"POST"!==m.fetchData.method)){if(m.error)Pn({category:"fetch",data:m.fetchData,level:"error",type:"http"},{data:m.error,input:m.args,startTimestamp:y,endTimestamp:_});else{let g=m.response,b={...m.fetchData,status_code:g&&g.status},k={input:m.args,response:g,startTimestamp:y,endTimestamp:_};Pn({category:"fetch",data:b,type:"http",level:Hn(b.status_code)},k)}}}),m.history&&Er(function(m){if(bt()!==g)return;let y=m.from,_=m.to,b=Un(ev.location.href),k=y?Un(y):void 0,E=Un(_);k&&k.path||(k=b),b.protocol===E.protocol&&b.host===E.host&&(_=E.relative),b.protocol===k.protocol&&b.host===k.host&&(y=k.relative),Pn({category:"navigation",data:{from:y,to:_}})}),m.sentry&&g.on("beforeSendEvent",function(m){bt()===g&&Pn({category:"sentry."+("transaction"===m.type?"transaction":"event"),event_id:m.event_id,level:m.level,message:He(m)},{event:m})})}}},eZ=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],qr=(g={})=>{let m={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...g};return{name:"BrowserApiErrors",setupOnce(){m.setTimeout&&Le(ev,"setTimeout",zr),m.setInterval&&Le(ev,"setInterval",zr),m.requestAnimationFrame&&Le(ev,"requestAnimationFrame",Wr),m.XMLHttpRequest&&"XMLHttpRequest"in ev&&Le(XMLHttpRequest.prototype,"send",Hr);let g=m.eventTarget;g&&(Array.isArray(g)?g:eZ).forEach(Gr)}}};function zr(g){return function(...m){let y=m[0];return m[0]=ir(y,{mechanism:{data:{function:te(g)},handled:!1,type:"instrument"}}),g.apply(this,m)}}function Wr(g){return function(m){return g.apply(this,[ir(m,{mechanism:{data:{function:"requestAnimationFrame",handler:te(g)},handled:!1,type:"instrument"}})])}}function Hr(g){return function(...m){let y=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(g=>{g in y&&"function"==typeof y[g]&&Le(y,g,function(m){let y={mechanism:{data:{function:g,handler:te(m)},handled:!1,type:"instrument"}},_=Re(m);return _&&(y.mechanism.data.handler=te(_)),ir(m,y)})}),g.apply(this,m)}}function Gr(g){let m=ev[g],y=m&&m.prototype;y&&y.hasOwnProperty&&y.hasOwnProperty("addEventListener")&&(Le(y,"addEventListener",function(m){return function(y,_,b){try{"function"==typeof _.handleEvent&&(_.handleEvent=ir(_.handleEvent,{mechanism:{data:{function:"handleEvent",handler:te(_),target:g},handled:!1,type:"instrument"}}))}catch(g){}return m.apply(this,[y,ir(_,{mechanism:{data:{function:"addEventListener",handler:te(_),target:g},handled:!1,type:"instrument"}}),b])}}),Le(y,"removeEventListener",function(g){return function(m,y,_){try{let b=y.__sentry_wrapped__;b&&g.call(this,m,b,_)}catch(g){}return g.call(this,m,y,_)}}))}let Qr=()=>({name:"BrowserSession",setupOnce(){void 0!==ev.document?(dn({ignoreDuration:!0}),fn(),Er(({from:g,to:m})=>{void 0!==g&&g!==m&&(dn({ignoreDuration:!0}),fn())})):eJ&&e_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Kr=(g={})=>{let m={onerror:!0,onunhandledrejection:!0,...g};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(g){m.onerror&&(function(g){let m="error";oe(m,g),se(m,le)}(m=>{let{stackParser:y,attachStacktrace:_}=Xr();if(bt()!==g||eB>0)return;let{msg:b,url:k,line:E,column:T,error:A}=m,C=function(g,m,y,_){let b=g.exception=g.exception||{},k=b.values=b.values||[],E=k[0]=k[0]||{},T=E.stacktrace=E.stacktrace||{},A=T.frames=T.frames||[],C=be(m)&&m.length>0?m:function(){try{return ev.document.location.href}catch(g){return""}}();return 0===A.length&&A.push({colno:_,filename:C,function:"?",in_app:!0,lineno:y}),g}(fr(y,A||b,void 0,_,!1),k,E,T);C.level="error",un(C,{originalException:A,mechanism:{handled:!1,type:"onerror"}})}),Yr("onerror")),m.onunhandledrejection&&(function(g){let m="unhandledrejection";oe(m,g),se(m,de)}(m=>{let{stackParser:y,attachStacktrace:_}=Xr();if(bt()!==g||eB>0)return;let b=function(g){if(we(g))return g;try{if("reason"in g)return g.reason;if("detail"in g&&"reason"in g.detail)return g.detail.reason}catch(g){}return g}(m),k=we(b)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(b)}`}]}}:fr(y,b,void 0,_,!0);k.level="error",un(k,{originalException:b,mechanism:{handled:!1,type:"onunhandledrejection"}})}),Yr("onunhandledrejection"))}}};function Yr(g){eJ&&e_.log(`Global Handler attached: ${g}`)}function Xr(){let g=bt();return g&&g.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let Zr=()=>({name:"HttpContext",preprocessEvent(g){if(!ev.navigator&&!ev.location&&!ev.document)return;let m=g.request&&g.request.url||ev.location&&ev.location.href,{referrer:y}=ev.document||{},{userAgent:_}=ev.navigator||{},b={...g.request&&g.request.headers,...y&&{Referer:y},..._&&{"User-Agent":_}},k={...g.request,...m&&{url:m},headers:b};g.request=k}}),ei=(g={})=>{let m=g.limit||5,y=g.key||"cause";return{name:"LinkedErrors",preprocessEvent(g,_,b){let k=b.getOptions();Nn(sr,k.stackParser,k.maxValueLength,y,m,g,_)}}};var e0="new",e1="loading",e2="loaded",e3="joining-meeting",e4="joined-meeting",e5="left-meeting",e9="error",e6="blocked",e8="off",e7="sendable",tn="loading",tr="interrupted",ti="playable",to="unknown",ts="full",tl="lobby",tu="none",td="base",tp="*",th="ejected",tf="nbf-room",tv="nbf-token",tg="exp-room",tm="exp-token",ty="no-room",t_="meeting-full",tb="end-of-life",tS="not-allowed",tk="connection-error",tw="cam-in-use",tE="mic-in-use",tT="cam-mic-in-use",tA="permissions",tO="undefined-mediadevices",tC="not-found",tM="constraints",tI="unknown",tP="iframe-ready-for-launch-config",tL="iframe-launch-config",tD="theme-updated",tN="loading",tj="load-attempt-failed",tR="loaded",tx="started-camera",tF="camera-error",tV="joining-meeting",tU="joined-meeting",tB="left-meeting",tJ="participant-joined",tY="participant-updated",t$="participant-left",tq="participant-counts-updated",tz="access-state-updated",tW="meeting-session-summary-updated",tG="meeting-session-state-updated",tK="meeting-session-data-error",tH="waiting-participant-added",tQ="waiting-participant-updated",tX="waiting-participant-removed",tZ="track-started",t0="track-stopped",t1="transcription-started",t2="transcription-stopped",t3="transcription-error",t4="recording-started",t5="recording-stopped",t9="recording-stats",t6="recording-error",t8="recording-upload-completed",t7="recording-data",nn="app-message",nr="transcription-message",ni="remote-media-player-started",no="remote-media-player-updated",ns="remote-media-player-stopped",nl="local-screen-share-started",nu="local-screen-share-stopped",nd="local-screen-share-canceled",np="active-speaker-change",nh="active-speaker-mode-change",nf="network-quality-change",nv="network-connection",ng="cpu-load-change",nm="face-counts-updated",ny="fullscreen",n_="exited-fullscreen",nb="live-streaming-started",nS="live-streaming-updated",nk="live-streaming-stopped",nw="live-streaming-error",nE="lang-updated",nT="receive-settings-updated",nA="input-settings-updated",nO="nonfatal-error",nC="error",nM="iframe-call-message",nI="local-screen-start",nP="daily-method-update-live-streaming-endpoints",nL="transmit-log",nD="daily-custom-track",nN={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},nj={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},nR={PLAY:"play",PAUSE:"pause"},nx=["jpg","png","jpeg"],nF="sip-call-transfer";function rs(){return!is()&&"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function is(){return"undefined"!=typeof navigator&&navigator.product&&"ReactNative"===navigator.product}function os(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function ss(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(g,m){if(!g||!m)return!0;switch(g){case"Chrome":return m.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(13===m.major&&0===m.minor&&0===m.point);case"Firefox":return m.major>=67}return!0}(ms(),ys())||is())}function as(){if(is()||!document)return!1;var g=document.createElement("iframe");return!!g.requestFullscreen||!!g.webkitRequestFullscreen}var nV="none",nU=function(){try{var g,m=document.createElement("canvas"),y=!1;(g=m.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(y=!0,g=m.getContext("webgl2"));var _=null!=g;return m.remove(),_?y?"software":"hardware":nV}catch(g){return nV}}();function ps(){var g=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!is()&&nU!==nV&&(g?!gs()&&["Chrome","Firefox"].includes(ms()):function(){if(gs())return!1;var g=ms();if("Safari"===g){var m=Ss();if(m.major<15||15===m.major&&m.minor<4)return!1}return"Chrome"===g?bs().major>=77:"Firefox"===g?ks().major>=97:["Chrome","Firefox","Safari"].includes(g)}())}function hs(){if(is()||vs()||"undefined"==typeof AudioWorkletNode)return!1;switch(ms()){case"Chrome":case"Firefox":return!0;case"Safari":var g=ys();return g.major>17||17===g.major&&g.minor>=4}return!1}function fs(){return os()&&"undefined"!=typeof MediaStreamTrack&&!function(){var g,m=ms();if(!rs())return!0;switch(m){case"Chrome":return(g=bs()).major&&g.major>0&&g.major<75;case"Firefox":return(g=ks()).major<91;case"Safari":return(g=Ss()).major<13||13===g.major&&g.minor<1;default:return!0}}()}function vs(){return rs().match(/Linux; Android/)}function gs(){var g,m=rs(),y=m.match(/Mac/)&&(!is()&&"undefined"!=typeof window&&null!==(g=window)&&void 0!==g&&null!==(g=g.navigator)&&void 0!==g&&g.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(m.match(/Mobi/)||m.match(/Android/)||y)||!!rs().match(/DailyAnd\//)||void 0}function ms(){if("undefined"!=typeof window){var g=rs();return _s()?"Safari":g.indexOf("Edge")>-1?"Edge":g.match(/Chrome\//)?"Chrome":g.indexOf("Safari")>-1||ws()?"Safari":g.indexOf("Firefox")>-1?"Firefox":g.indexOf("MSIE")>-1||g.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function ys(){switch(ms()){case"Chrome":return bs();case"Safari":return Ss();case"Firefox":return ks();case"Edge":return function(){var g=0,m=0;if("undefined"!=typeof window){var y=rs().match(/Edge\/(\d+).(\d+)/);if(y)try{g=parseInt(y[1]),m=parseInt(y[2])}catch(g){}}return{major:g,minor:m}}()}}function bs(){var g=0,m=0,y=0,_=0,b=!1;if("undefined"!=typeof window){var k=rs(),E=k.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(E)try{g=parseInt(E[1]),m=parseInt(E[2]),y=parseInt(E[3]),_=parseInt(E[4]),b=k.indexOf("OPR/")>-1}catch(g){}}return{major:g,minor:m,build:y,patch:_,opera:b}}function _s(){return!!rs().match(/iPad|iPhone|iPod/i)&&os()}function ws(){return rs().indexOf("AppleWebKit/605.1.15")>-1}function Ss(){var g=0,m=0,y=0;if("undefined"!=typeof window){var _=rs().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(_)try{g=parseInt(_[1]),m=parseInt(_[2]),y=parseInt(_[4])}catch(g){}else(_s()||ws())&&(g=14,m=0,y=3)}return{major:g,minor:m,point:y}}function ks(){var g=0,m=0;if("undefined"!=typeof window){var y=rs().match(/Firefox\/(\d+).(\d+)/);if(y)try{g=parseInt(y[1]),m=parseInt(y[2])}catch(g){}}return{major:g,minor:m}}var nB=o(function e(){t(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(g,m,y){R()}},{key:"addListenerForMessagesFromDailyJs",value:function(g,m,y){R()}},{key:"sendMessageToCallMachine",value:function(g,m,y,_){R()}},{key:"sendMessageToDailyJs",value:function(g,m){R()}},{key:"removeListener",value:function(g){R()}}]);function Cs(g,m){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);m&&(_=_.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),y.push.apply(y,_)}return y}function Es(g){for(var m=1;m<arguments.length;m++){var y=null!=arguments[m]?arguments[m]:{};m%2?Cs(Object(y),!0).forEach(function(m){u(g,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):Cs(Object(y)).forEach(function(m){Object.defineProperty(g,m,Object.getOwnPropertyDescriptor(y,m))})}return g}function Ts(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(g){}return(Ts=function(){return!!g})()}var nJ=function(){function e(){var g,m,y;return t(this,e),m=a(m=e),(g=s(this,Ts()?Reflect.construct(m,y||[],a(this).constructor):m.apply(this,y)))._wrappedListeners={},g._messageCallbacks={},g}return l(e,nB),o(e,[{key:"addListenerForMessagesFromCallMachine",value:function(g,m,y){var _=this,i=function(b){if(b.data&&"iframe-call-message"===b.data.what&&(!b.data.callClientId||b.data.callClientId===m)&&(!b.data.from||"module"!==b.data.from)){var k=Es({},b.data);if(delete k.from,k.callbackStamp&&_._messageCallbacks[k.callbackStamp]){var E=k.callbackStamp;_._messageCallbacks[E].call(y,k),delete _._messageCallbacks[E]}delete k.what,delete k.callbackStamp,g.call(y,k)}};this._wrappedListeners[g]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(g,m,y){var r=function(_){var b;if(!(!_.data||_.data.what!==nM||!_.data.action||_.data.from&&"module"!==_.data.from||_.data.callClientId&&m&&_.data.callClientId!==m||null!=_&&null!==(b=_.data)&&void 0!==b&&b.callFrameId)){var k=_.data;g.call(y,k)}};this._wrappedListeners[g]=r,window.addEventListener("message",r)}},{key:"sendMessageToCallMachine",value:function(g,m,y,_){if(!y)throw Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var b=Es({},g);if(b.what=nM,b.from="module",b.callClientId=y,m){var k=N();this._messageCallbacks[k]=m,b.callbackStamp=k}var E=_?_.contentWindow:window,T=this._callMachineTargetOrigin(_);T&&E.postMessage(b,T)}},{key:"sendMessageToDailyJs",value:function(g,m){g.what=nM,g.callClientId=m,g.from="embedded",window.postMessage(g,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(g){var m=this._wrappedListeners[g];m&&(window.removeEventListener("message",m),delete this._wrappedListeners[g])}},{key:"forwardPackagedMessageToCallMachine",value:function(g,m,y){var _=Es({},g);_.callClientId=y;var b=m?m.contentWindow:window,k=this._callMachineTargetOrigin(m);k&&b.postMessage(_,k)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g,m){var n=function(y){!y.data||"iframe-call-message"!==y.data.what||y.data.callClientId&&y.data.callClientId!==m||y.data.from&&"module"===y.data.from||g(y.data)};return this._wrappedListeners[g]=n,window.addEventListener("message",n),g}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){var m=this._wrappedListeners[g];m&&(window.removeEventListener("message",m),delete this._wrappedListeners[g])}},{key:"_callMachineTargetOrigin",value:function(g){return g?g.src?new URL(g.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return"file:"===window.location.protocol?"*":window.location.origin}}])}();function Ps(g,m){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);m&&(_=_.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),y.push.apply(y,_)}return y}function As(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(g){}return(As=function(){return!!g})()}var nY=function(){function e(){var g,m,_;return t(this,e),m=a(m=e),g=s(this,As()?Reflect.construct(m,_||[],a(this).constructor):m.apply(this,_)),y.g.callMachineToDailyJsEmitter=y.g.callMachineToDailyJsEmitter||new K.EventEmitter,y.g.dailyJsToCallMachineEmitter=y.g.dailyJsToCallMachineEmitter||new K.EventEmitter,g._wrappedListeners={},g._messageCallbacks={},g}return l(e,nB),o(e,[{key:"addListenerForMessagesFromCallMachine",value:function(g,m,_){this._addListener(g,y.g.callMachineToDailyJsEmitter,m,_,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(g,m,_){this._addListener(g,y.g.dailyJsToCallMachineEmitter,m,_,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(g,m,_){this._sendMessage(g,y.g.dailyJsToCallMachineEmitter,_,m,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(g,m){this._sendMessage(g,y.g.callMachineToDailyJsEmitter,m,null,"sending message to daily-js")}},{key:"removeListener",value:function(g){var m=this._wrappedListeners[g];m&&(y.g.callMachineToDailyJsEmitter.removeListener("message",m),y.g.dailyJsToCallMachineEmitter.removeListener("message",m),delete this._wrappedListeners[g])}},{key:"_addListener",value:function(g,m,y,_,b){var k=this,s=function(m){if(m.callClientId===y){if(m.callbackStamp&&k._messageCallbacks[m.callbackStamp]){var b=m.callbackStamp;k._messageCallbacks[b].call(_,m),delete k._messageCallbacks[b]}g.call(_,m)}};this._wrappedListeners[g]=s,m.addListener("message",s)}},{key:"_sendMessage",value:function(g,m,y,_,b){var k=function(g){for(var m=1;m<arguments.length;m++){var y=null!=arguments[m]?arguments[m]:{};m%2?Ps(Object(y),!0).forEach(function(m){u(g,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):Ps(Object(y)).forEach(function(m){Object.defineProperty(g,m,Object.getOwnPropertyDescriptor(y,m))})}return g}({},g);if(k.callClientId=y,_){var E=N();this._messageCallbacks[E]=_,k.callbackStamp=E}m.emit("message",k)}}])}(),n$="replace",nq="shallow-merge",nz=[n$,nq],nW=function(){function e(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=g.data,y=g.mergeStrategy,_=void 0===y?n$:y;t(this,e),e._validateMergeStrategy(_),e._validateData(m,_),this.mergeStrategy=_,this.data=m}return o(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(g,m){return 0===Object.keys(g).length&&m===nq}},{key:"_validateMergeStrategy",value:function(g){if(!nz.includes(g))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(nz,"]"))}},{key:"_validateData",value:function(g,m){if(!function(g){if(null==g||"object"!==n(g))return!1;var m=Object.getPrototypeOf(g);return null==m||m===Object.prototype}(g))throw Error("Meeting session data must be a plain (map-like) object");try{if(y=JSON.stringify(g),m===n$){var y,_=JSON.parse(y);S(_,g)||console.warn("The meeting session data provided will be modified when serialized.",_,g)}else if(m===nq){for(var b in g)if(Object.hasOwnProperty.call(g,b)&&void 0!==g[b]){var k=JSON.parse(JSON.stringify(g[b]));S(g[b],k)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",k,g[b])}}}catch(g){throw Error("Meeting session data must be serializable to JSON: ".concat(g))}if(y.length>102400)throw Error("Meeting session data is too large (".concat(y.length," characters). Maximum size suppported is ").concat(102400,"."))}}])}();function Ns(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(g){}return(Ns=function(){return!!g})()}function Rs(g){var m="function"==typeof Map?new Map:void 0;return(Rs=function(g){if(null===g||!function(g){try{return -1!==Function.toString.call(g).indexOf("[native code]")}catch(m){return"function"==typeof g}}(g))return g;if("function"!=typeof g)throw TypeError("Super expression must either be null or a function");if(void 0!==m){if(m.has(g))return m.get(g);m.set(g,n)}function n(){return function(g,m,y){if(Ns())return Reflect.construct.apply(null,arguments);var _=[null];_.push.apply(_,m);var b=new(g.bind.apply(g,_));return y&&c(b,y.prototype),b}(g,arguments,a(this).constructor)}return n.prototype=Object.create(g.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,g)})(g)}function Fs(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(g){}return(Fs=function(){return!!g})()}function Bs(g){var m,y=null===(m=window._daily)||void 0===m?void 0:m.pendings;if(y){var _=y.indexOf(g);-1!==_&&y.splice(_,1)}}var nG=o(function e(g){t(this,e),this._currentLoad=null,this._callClientId=g},[{key:"load",value:function(){var g,m=this,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1?arguments[1]:void 0,b=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void _(!0);g=this._callClientId,window._daily.pendings.push(g),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new nK(y,function(){_(!1)},function(g,y){y||Bs(m._callClientId),b(g,y)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Bs(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),nK=o(function e(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0;t(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=g,this._successCallback=m,this._failureCallback=y},[{key:"start",value:function(){var g=this;if(!this._currentAttempt){var t=function(m){g._currentAttempt.cancelled||(g._attemptsRemaining--,g._failureCallback(m,g._attemptsRemaining>0),g._attemptsRemaining<=0||setTimeout(function(){g._currentAttempt.cancelled||(g._currentAttempt=new nQ(g._dailyConfig,g._successCallback,t),g._currentAttempt.start())},3e3))};this._currentAttempt=new nQ(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),nH=function(){function e(){var g,m;return t(this,e),m=arguments,g=a(g=e),s(this,Fs()?Reflect.construct(g,m||[],a(this).constructor):g.apply(this,m))}return l(e,Rs(Error)),o(e)}(),nQ=o(function e(g,m,y){t(this,e),this._loadAttemptImpl=is()||!g.avoidEval?new nX(g,m,y):new nZ(g,m,y)},[{key:"start",value:(P=p(function*(){return this._loadAttemptImpl.start()}),function(){return P.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),nX=o(function e(g,m,y){t(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache="undefined"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=g,this._successCallback=m,this._failureCallback=y},[{key:"start",value:(J=p(function*(){var g=B(this._dailyConfig);(yield this._tryLoadFromIOSCache(g))||this._loadFromNetwork(g)}),function(){return J.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(V=p(function*(g){if(!this._iosCache)return!1;try{var m=yield this._iosCache.get(g);return!!this.cancelled||!!m&&(m.code?(Function('"use strict";'+m.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=m.refetchHeaders,!1))}catch(g){return!1}}),function(g){return V.apply(this,arguments)})},{key:"_loadFromNetwork",value:(x=p(function*(g){var m=this;this._networkTimeout=setTimeout(function(){m._networkTimedOut=!0,m._failureCallback({msg:"Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(g),type:"timeout"})},2e4);try{var y=this._refetchHeaders?{headers:this._refetchHeaders}:{},_=yield fetch(g,y);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new nH;var b=yield this._getBundleCodeFromResponse(g,_);if(this.cancelled)throw new nH;Function('"use strict";'+b)(),this._iosCache&&this._iosCache.set(g,b,_.headers),this.succeeded=!0,this._successCallback()}catch(m){if(clearTimeout(this._networkTimeout),m instanceof nH||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(g,": ").concat(m),type:m.message})}}),function(g){return x.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(j=p(function*(g,m){if(m.ok)return yield m.text();if(this._iosCache&&304===m.status)return(yield this._iosCache.renew(g,m.headers)).code;throw Error("Received ".concat(m.status," response"))}),function(g,m){return j.apply(this,arguments)})}]),nZ=o(function e(g,m,y){t(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=g,this._successCallback=m,this._failureCallback=y,this._attemptId=N(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var g=B(this._dailyConfig);"object"===("undefined"==typeof document?"undefined":n(document))?this._startLoading(g):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(g){var m=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){m._stopLoading(),m._failureCallback({msg:"Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(g),type:"timeout"})},2e4);var y=document.getElementsByTagName("head")[0],_=document.createElement("script");this._scriptElement=_,_.onload=function(){m._stopLoading(),m.succeeded=!0,m._successCallback()},_.onerror=function(g){m._stopLoading(),m._failureCallback({msg:"Failed to load call object bundle ".concat(g.target.src),type:g.message})},_.src=g,y.appendChild(_)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),Hs=function(g,m,y){return!0===Ks(g.local,m,y)},Qs=function(g,m,y,_){var b=Ys(g,m,y,_);return b&&b.pendingTrack},Ks=function(g,m,y){if(!g)return!1;var r=function(g){switch(g){case"avatar":return!0;case"staged":return g;default:return!!g}},_=g.public.subscribedTracks;return _&&_[m]?r(-1===["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(y)&&_[m].custom?[!0,"staged"].includes(_[m].custom)?_[m].custom:_[m].custom[y]:_[m][y]):!_||r(_.ALL)},Ys=function(g,m,y,_){var b=Object.values(g.streams||{}).filter(function(g){return g.participantId===m&&g.type===y&&g.pendingTrack&&g.pendingTrack.kind===_}).sort(function(g,m){return new Date(m.starttime)-new Date(g.starttime)});return b&&b[0]},Xs=function(g,m){var y=g.local.public.customTracks;if(y&&y[m])return y[m].track};function Zs(g,m){for(var y=m.getState(),_=0,b=["cam","screen"];_<b.length;_++)for(var k=b[_],E=0,T=["video","audio"];E<T.length;E++){var A=T[E],C="cam"===k?A:"screen".concat(A.charAt(0).toUpperCase()+A.slice(1)),M=g.tracks[C];if(M){var I=g.local?y.local.streams&&y.local.streams[k]&&y.local.streams[k].stream&&y.local.streams[k].stream["get".concat("video"===A?"Video":"Audio","Tracks")]()[0]:Qs(y,g.session_id,k,A);"playable"===M.state&&(M.track=I),M.persistentTrack=I}}}function ea(g,m){try{var y=m.getState();for(var _ in g.tracks)if(!ta(_)){var b=g.tracks[_].kind;if(b){var k=g.tracks[_];if(k){var E=g.local?Xs(y,_):Qs(y,g.session_id,_,b);"playable"===k.state&&(g.tracks[_].track=E),k.persistentTrack=E}}else console.error("unknown type for custom track")}}catch(g){console.error(g)}}function ta(g){return["video","audio","screenVideo","screenAudio"].includes(g)}function na(g,m,y){var _=y.getState();if(g.local){if(g.audio)try{g.audioTrack=_.local.streams.cam.stream.getAudioTracks()[0],g.audioTrack||(g.audio=!1)}catch(g){}if(g.video)try{g.videoTrack=_.local.streams.cam.stream.getVideoTracks()[0],g.videoTrack||(g.video=!1)}catch(g){}if(g.screen)try{g.screenVideoTrack=_.local.streams.screen.stream.getVideoTracks()[0],g.screenAudioTrack=_.local.streams.screen.stream.getAudioTracks()[0],g.screenVideoTrack||g.screenAudioTrack||(g.screen=!1)}catch(g){}}else{var b=!0;try{var k=_.participants[g.session_id];k&&k.public&&k.public.rtcType&&"peer-to-peer"===k.public.rtcType.impl&&k.private&&!["connected","completed"].includes(k.private.peeringState)&&(b=!1)}catch(g){console.error(g)}if(!b)return g.audio=!1,g.audioTrack=!1,g.video=!1,g.videoTrack=!1,g.screen=!1,void(g.screenTrack=!1);try{if(_.streams,g.audio&&Hs(_,g.session_id,"cam-audio")){var E=Qs(_,g.session_id,"cam","audio");E&&(m&&m.audioTrack&&m.audioTrack.id===E.id?g.audioTrack=E:E.muted||(g.audioTrack=E)),g.audioTrack||(g.audio=!1)}if(g.video&&Hs(_,g.session_id,"cam-video")){var T=Qs(_,g.session_id,"cam","video");T&&(m&&m.videoTrack&&m.videoTrack.id===T.id?g.videoTrack=T:T.muted||(g.videoTrack=T)),g.videoTrack||(g.video=!1)}if(g.screen&&Hs(_,g.session_id,"screen-audio")){var A=Qs(_,g.session_id,"screen","audio");A&&(m&&m.screenAudioTrack&&m.screenAudioTrack.id===A.id?g.screenAudioTrack=A:A.muted||(g.screenAudioTrack=A))}if(g.screen&&Hs(_,g.session_id,"screen-video")){var C=Qs(_,g.session_id,"screen","video");C&&(m&&m.screenVideoTrack&&m.screenVideoTrack.id===C.id?g.screenVideoTrack=C:C.muted||(g.screenVideoTrack=C))}g.screenVideoTrack||g.screenAudioTrack||(g.screen=!1)}catch(g){console.error("unexpected error matching up tracks",g)}}}function ra(g,m){var y="undefined"!=typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=function(g,m){if(g){if("string"==typeof g)return ia(g,m);var y=({}).toString.call(g).slice(8,-1);return"Object"===y&&g.constructor&&(y=g.constructor.name),"Map"===y||"Set"===y?Array.from(g):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?ia(g,m):void 0}}(g))||m&&g&&"number"==typeof g.length){y&&(g=y);var _=0,i=function(){};return{s:i,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(g){throw g},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b,k=!0,E=!1;return{s:function(){y=y.call(g)},n:function(){var g=y.next();return k=g.done,g},e:function(g){E=!0,b=g},f:function(){try{k||null==y.return||y.return()}finally{if(E)throw b}}}}function ia(g,m){(null==m||m>g.length)&&(m=g.length);for(var y=0,_=Array(m);y<m;y++)_[y]=g[y];return _}var n0=new Map,n1=null;function aa(g,m){var y="undefined"!=typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=function(g,m){if(g){if("string"==typeof g)return ca(g,m);var y=({}).toString.call(g).slice(8,-1);return"Object"===y&&g.constructor&&(y=g.constructor.name),"Map"===y||"Set"===y?Array.from(g):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?ca(g,m):void 0}}(g))||m&&g&&"number"==typeof g.length){y&&(g=y);var _=0,i=function(){};return{s:i,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(g){throw g},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b,k=!0,E=!1;return{s:function(){y=y.call(g)},n:function(){var g=y.next();return k=g.done,g},e:function(g){E=!0,b=g},f:function(){try{k||null==y.return||y.return()}finally{if(E)throw b}}}}function ca(g,m){(null==m||m>g.length)&&(m=g.length);for(var y=0,_=Array(m);y<m;y++)_[y]=g[y];return _}var n2=new Map,n3=null;function da(g){ha()?n0.has(g)||(n0.set(g,{}),navigator.mediaDevices.enumerateDevices().then(function(m){var y;n0.has(g)&&(n0.get(g).lastDevicesString=JSON.stringify(m),n1||(y=p(function*(){var g,m=yield navigator.mediaDevices.enumerateDevices(),y=ra(n0.keys());try{for(y.s();!(g=y.n()).done;){var _=g.value,b=JSON.stringify(m);b!==n0.get(_).lastDevicesString&&(n0.get(_).lastDevicesString=b,_(m))}}catch(g){y.e(g)}finally{y.f()}}),n1=function(){return y.apply(this,arguments)},navigator.mediaDevices.addEventListener("devicechange",n1)))}).catch(function(){})):n2.has(g)||(n2.set(g,{}),navigator.mediaDevices.enumerateDevices().then(function(m){n2.has(g)&&(n2.get(g).lastDevicesString=JSON.stringify(m),n3||(n3=setInterval(p(function*(){var g,m=yield navigator.mediaDevices.enumerateDevices(),y=aa(n2.keys());try{for(y.s();!(g=y.n()).done;){var _=g.value,b=JSON.stringify(m);b!==n2.get(_).lastDevicesString&&(n2.get(_).lastDevicesString=b,_(m))}}catch(g){y.e(g)}finally{y.f()}}),3e3)))}))}function pa(g){ha()?n0.has(g)&&(n0.delete(g),0===n0.size&&n1&&(navigator.mediaDevices.removeEventListener("devicechange",n1),n1=null)):n2.has(g)&&(n2.delete(g),0===n2.size&&n3&&(clearInterval(n3),n3=null))}function ha(){var g;return is()||void 0!==(null===(g=navigator.mediaDevices)||void 0===g?void 0:g.ondevicechange)}var n4=new Set;function va(g,m){var y=m.isLocalScreenVideo;return g&&"live"===g.readyState&&(!!y&&"Chrome"===ms()||!g.muted||!!n4.has(g.id))}function ga(g,m){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);m&&(_=_.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),y.push.apply(y,_)}return y}function ma(g){for(var m=1;m<arguments.length;m++){var y=null!=arguments[m]?arguments[m]:{};m%2?ga(Object(y),!0).forEach(function(m){u(g,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):ga(Object(y)).forEach(function(m){Object.defineProperty(g,m,Object.getOwnPropertyDescriptor(y,m))})}return g}var n5=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),n9=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),n6=Object.values(n5),n8=["v","a","sv","sa","cv","ca"];Object.freeze(n6.reduce(function(g,m,y){return g[m]=n8[y],g},{})),Object.freeze(n8.reduce(function(g,m,y){return g[m]=n6[y],g},{}));var n7=[n5.VIDEO,n5.AUDIO,n5.SCREEN_VIDEO,n5.SCREEN_AUDIO],re=Object.values(n9),rt=["p","s","t"];Object.freeze(re.reduce(function(g,m,y){return g[m]=rt[y],g},{})),Object.freeze(rt.reduce(function(g,m,y){return g[m]=re[y],g},{}));var rr=function(){function e(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=g.base,y=g.byUserId,_=g.byParticipantId;t(this,e),this.base=m,this.byUserId=y,this.byParticipantId=_}return o(e,[{key:"clone",value:function(){var g=new e;if(this.base instanceof ri?g.base=this.base.clone():g.base=this.base,void 0!==this.byUserId)for(var m in g.byUserId={},this.byUserId){var y=this.byUserId[m];g.byUserId[m]=y instanceof ri?y.clone():y}if(void 0!==this.byParticipantId)for(var _ in g.byParticipantId={},this.byParticipantId){var b=this.byParticipantId[_];g.byParticipantId[_]=b instanceof ri?b.clone():b}return g}},{key:"toJSONObject",value:function(){var g={};if("boolean"==typeof this.base?g.base=this.base:this.base instanceof ri&&(g.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var m in g.byUserId={},this.byUserId){var y=this.byUserId[m];g.byUserId[m]=y instanceof ri?y.toJSONObject():y}if(void 0!==this.byParticipantId)for(var _ in g.byParticipantId={},this.byParticipantId){var b=this.byParticipantId[_];g.byParticipantId[_]=b instanceof ri?b.toJSONObject():b}return g}},{key:"toMinifiedJSONObject",value:function(){var g={};if(void 0!==this.base&&("boolean"==typeof this.base?g.b=this.base:g.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var m in g.u={},this.byUserId){var y=this.byUserId[m];g.u[m]="boolean"==typeof y?y:y.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var _ in g.p={},this.byParticipantId){var b=this.byParticipantId[_];g.p[_]="boolean"==typeof b?b:b.toMinifiedJSONObject()}return g}},{key:"normalize",value:function(){return this.base instanceof ri&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(g){var m=f(g,2),y=m[0],_=m[1];return[y,_ instanceof ri?_.normalize():_]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(g){var m=f(g,2),y=m[0],_=m[1];return[y,_ instanceof ri?_.normalize():_]}))),this}}],[{key:"fromJSONObject",value:function(g){var m,y,_;if(void 0!==g.base&&(m="boolean"==typeof g.base?g.base:ri.fromJSONObject(g.base)),void 0!==g.byUserId)for(var b in y={},g.byUserId){var k=g.byUserId[b];y[b]="boolean"==typeof k?k:ri.fromJSONObject(k)}if(void 0!==g.byParticipantId)for(var E in _={},g.byParticipantId){var T=g.byParticipantId[E];_[E]="boolean"==typeof T?T:ri.fromJSONObject(T)}return new e({base:m,byUserId:y,byParticipantId:_})}},{key:"fromMinifiedJSONObject",value:function(g){var m,y,_;if(void 0!==g.b&&(m="boolean"==typeof g.b?g.b:ri.fromMinifiedJSONObject(g.b)),void 0!==g.u)for(var b in y={},g.u){var k=g.u[b];y[b]="boolean"==typeof k?k:ri.fromMinifiedJSONObject(k)}if(void 0!==g.p)for(var E in _={},g.p){var T=g.p[E];_[E]="boolean"==typeof T?T:ri.fromMinifiedJSONObject(T)}return new e({base:m,byUserId:y,byParticipantId:_})}},{key:"validateJSONObject",value:function(g){if("object"!==n(g))return[!1,"canReceive must be an object"];for(var m=["base","byUserId","byParticipantId"],y=0,_=Object.keys(g);y<_.length;y++){var b=_[y];if(!m.includes(b))return[!1,"canReceive can only contain keys (".concat(m.join(", "),")")];if("base"===b){var k=f(ri.validateJSONObject(g.base,!0),2),E=k[0],T=k[1];if(!E)return[!1,T]}else{if("object"!==n(g[b]))return[!1,"invalid (non-object) value for field '".concat(b,"' in canReceive")];for(var A=0,C=Object.values(g[b]);A<C.length;A++){var M=C[A],I=f(ri.validateJSONObject(M),2),P=I[0],j=I[1];if(!P)return[!1,j]}}}return[!0]}}])}(),ri=function(){function e(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=g.video,y=g.audio,_=g.screenVideo,b=g.screenAudio,k=g.customVideo,E=g.customAudio;t(this,e),this.video=m,this.audio=y,this.screenVideo=_,this.screenAudio=b,this.customVideo=k,this.customAudio=E}return o(e,[{key:"clone",value:function(){var g=new e;return void 0!==this.video&&(g.video=this.video),void 0!==this.audio&&(g.audio=this.audio),void 0!==this.screenVideo&&(g.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(g.screenAudio=this.screenAudio),void 0!==this.customVideo&&(g.customVideo=ma({},this.customVideo)),void 0!==this.customAudio&&(g.customAudio=ma({},this.customAudio)),g}},{key:"toJSONObject",value:function(){var g={};return void 0!==this.video&&(g.video=this.video),void 0!==this.audio&&(g.audio=this.audio),void 0!==this.screenVideo&&(g.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(g.screenAudio=this.screenAudio),void 0!==this.customVideo&&(g.customVideo=ma({},this.customVideo)),void 0!==this.customAudio&&(g.customAudio=ma({},this.customAudio)),g}},{key:"toMinifiedJSONObject",value:function(){var g={};return void 0!==this.video&&(g.v=this.video),void 0!==this.audio&&(g.a=this.audio),void 0!==this.screenVideo&&(g.sv=this.screenVideo),void 0!==this.screenAudio&&(g.sa=this.screenAudio),void 0!==this.customVideo&&(g.cv=ma({},this.customVideo)),void 0!==this.customAudio&&(g.ca=ma({},this.customAudio)),g}},{key:"normalize",value:function(){function e(g,m){return g&&1===Object.keys(g).length&&g["*"]===m}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(g){return new e({video:g,audio:g,screenVideo:g,screenAudio:g,customVideo:{"*":g},customAudio:{"*":g}})}},{key:"fromJSONObject",value:function(g){return new e({video:g.video,audio:g.audio,screenVideo:g.screenVideo,screenAudio:g.screenAudio,customVideo:void 0!==g.customVideo?ma({},g.customVideo):void 0,customAudio:void 0!==g.customAudio?ma({},g.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(g){return new e({video:g.v,audio:g.a,screenVideo:g.sv,screenAudio:g.sa,customVideo:g.cv,customAudio:g.ca})}},{key:"validateJSONObject",value:function(g,m){if("boolean"==typeof g)return[!0];if("object"!==n(g))return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var y=Object.keys(g),_=0;_<y.length;_++){var b=y[_];if(!n6.includes(b))return[!1,"invalid media type '".concat(b,"' in canReceive")];if(n7.includes(b)){if("boolean"!=typeof g[b])return[!1,"invalid (non-boolean) value for media type '".concat(b,"' in canReceive")]}else{if("object"!==n(g[b]))return[!1,"invalid (non-object) value for media type '".concat(b,"' in canReceive")];for(var k=0,E=Object.values(g[b]);k<E.length;k++)if("boolean"!=typeof E[k])return[!1,"invalid (non-boolean) value for entry within '".concat(b,"' in canReceive")];if(m&&void 0===g[b]["*"])return[!1,'canReceive "base" permission must specify "*" as an entry within \''.concat(b,"'")]}}return m&&y.length!==n6.length?[!1,'canReceive "base" permission must specify all media types: '.concat(n6.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),ro=["result"],rl=["preserveIframe"];function Pa(g,m){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);m&&(_=_.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),y.push.apply(y,_)}return y}function Aa(g){for(var m=1;m<arguments.length;m++){var y=null!=arguments[m]?arguments[m]:{};m%2?Pa(Object(y),!0).forEach(function(m){u(g,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):Pa(Object(y)).forEach(function(m){Object.defineProperty(g,m,Object.getOwnPropertyDescriptor(y,m))})}return g}function ja(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(g){}return(ja=function(){return!!g})()}function Ia(g,m){var y="undefined"!=typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=function(g,m){if(g){if("string"==typeof g)return xa(g,m);var y=({}).toString.call(g).slice(8,-1);return"Object"===y&&g.constructor&&(y=g.constructor.name),"Map"===y||"Set"===y?Array.from(g):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?xa(g,m):void 0}}(g))||m&&g&&"number"==typeof g.length){y&&(g=y);var _=0,i=function(){};return{s:i,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(g){throw g},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b,k=!0,E=!1;return{s:function(){y=y.call(g)},n:function(){var g=y.next();return k=g.done,g},e:function(g){E=!0,b=g},f:function(){try{k||null==y.return||y.return()}finally{if(E)throw b}}}}function xa(g,m){(null==m||m>g.length)&&(m=g.length);for(var y=0,_=Array(m);y<m;y++)_[y]=g[y];return _}var ru={},rd="video",rp=is()?{data:{}}:{data:{},topology:"none"},rh={present:0,hidden:0},rf={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},rv=Object.keys(rf),rg=["state","volume","simulcastEncodings"],rm={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},ry={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},r_={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},rb={customIntegrations:{validate:gc,help:fc()},customTrayButtons:{validate:vc,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(ry))},url:{validate:function(g){return"string"==typeof g},help:"url should be a string"},baseUrl:{validate:function(g){return"string"==typeof g},help:"baseUrl should be a string"},token:{validate:function(g){return"string"==typeof g},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(g,m){try{return m.validateDailyConfig(g),!0}catch(g){console.error("Failed to validate dailyConfig",g)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(g){return mc(g,rm)},help:"reactNativeConfig should look like ".concat(JSON.stringify(rm),", all fields optional")},lang:{validate:function(g){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(g)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(g){try{return oc(g),!0}catch(g){return console.error(g),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(g,m){var y;if("boolean"==typeof g)return m._preloadCache.allowLocalVideo=g,!0;if(g instanceof MediaStreamTrack)m._sharedTracks.videoTrack=g,y={customTrack:nD};else{if(delete m._sharedTracks.videoTrack,"string"!=typeof g)return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;y={deviceId:g}}return m._updatePreloadCacheInputSettings({video:{settings:y}},!1),!0}},audioSource:{validate:function(g,m){var y;if("boolean"==typeof g)return m._preloadCache.allowLocalAudio=g,!0;if(g instanceof MediaStreamTrack)m._sharedTracks.audioTrack=g,y={customTrack:nD};else{if(delete m._sharedTracks.audioTrack,"string"!=typeof g)return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;y={deviceId:g}}return m._updatePreloadCacheInputSettings({audio:{settings:y}},!1),!0}},subscribeToTracksAutomatically:{validate:function(g,m){return m._preloadCache.subscribeToTracksAutomatically=g,!0}},theme:{validate:function(g){var m=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(g){for(var y=0,_=Object.keys(g);y<_.length;y++){var b=_[y];if(!m.includes(b))return console.error('unsupported color "'.concat(b,'". Valid colors: ').concat(m.join(", "))),!1;if(!g[b].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(b,' theme color should be provided in valid hex color format. Received: "').concat(g[b],'"')),!1}return!0};return"object"===n(g)&&("light"in g&&"dark"in g||"colors"in g)?"light"in g&&"dark"in g?"colors"in g.light?"colors"in g.dark?r(g.light.colors)&&r(g.dark.colors):(console.error('Dark theme is missing "colors" property.',g),!1):(console.error('Light theme is missing "colors" property.',g),!1):r(g.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',g),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(g){if("grid"in g){var m=g.grid;if("maxTilesPerPage"in m){if(!Number.isInteger(m.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(m.maxTilesPerPage,".")),!1;if(m.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in m){if(!Number.isInteger(m.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(m.minTilesPerPage,".")),!1;if(m.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in m&&m.minTilesPerPage>m.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(g){return sc(g,{allowAllParticipantsKey:!1})},help:hc({allowAllParticipantsKey:!1})},sendSettings:{validate:function(g,m){return!!function(g,m){try{return m.validateUpdateSendSettings(g),!0}catch(g){return console.error("Failed to validate send settings",g),!1}}(g,m)&&(m._preloadCache.sendSettings=g,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(g,m){var y;return!!ac(g)&&(m._inputSettings||(m._inputSettings={}),cc(g,null===(y=m.properties)||void 0===y?void 0:y.dailyConfig,m._sharedTracks),m._updatePreloadCacheInputSettings(g,!0),!0)},help:pc()},layout:{validate:function(g){return"custom-v1"===g||"browser"===g||"none"===g},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},rS={styles:{validate:function(g){for(var m in g)if("cam"!==m&&"screen"!==m)return!1;if(g.cam){for(var y in g.cam)if("div"!==y&&"video"!==y)return!1}if(g.screen){for(var _ in g.screen)if("div"!==_&&"video"!==_)return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(g,m){if(m._preloadCache.subscribeToTracksAutomatically)return!1;var y=[!0,!1,"staged"];if(y.includes(g)||!is()&&"avatar"===g)return!0;var _=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(g){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var b in g)if("custom"===b){if(!y.includes(g[b])&&!i(g[b],!0))return!1}else{var k=!m&&!_.includes(b),E=!y.includes(g[b]);if(k||E)return!1}return!0};return i(g)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(is()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(g){return!1===g},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(g){for(var m=0,y=Object.entries(g);m<y.length;m++){var _=f(y[m],2),b=_[0],k=_[1];switch(b){case"hasPresence":if("boolean"!=typeof k)return!1;break;case"canSend":if(k instanceof Set||k instanceof Array||Array.isArray(k)){var E,T=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],A=Ia(k);try{for(A.s();!(E=A.n()).done;){var C=E.value;if(!T.includes(C))return!1}}catch(g){A.e(g)}finally{A.f()}}else if("boolean"!=typeof k)return!1;(k instanceof Array||Array.isArray(k))&&(g.canSend=new Set(k));break;case"canReceive":var M=f(rr.validateJSONObject(k),2),I=M[0],P=M[1];if(!I)return console.error(P),!1;break;case"canAdmin":if(k instanceof Set||k instanceof Array||Array.isArray(k)){var j,x=["participants","streaming","transcription"],V=Ia(k);try{for(V.s();!(j=V.n()).done;){var J=j.value;if(!x.includes(J))return!1}}catch(g){V.e(g)}finally{V.f()}}else if("boolean"!=typeof k)return!1;(k instanceof Array||Array.isArray(k))&&(g.canAdmin=new Set(k));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(Y=p(function*(g){return new Promise(function(m,y){var _=[];g.forEach(function(b){return Promise.resolve(b).then(function(g){m(g)}).catch(function(m){_.push(m),_.length===g.length&&y(_)})})})}),function(g){return Y.apply(this,arguments)}));var rk=function(){var g,m,y,_,b,k,E,T,A,C,M,I,P,j,x,V,J,Y,$,z,W,K,Q,X,ee,en,er,eo,es,el,eu,ed,ep,eh,ef,ev,eg,em;function r(g){var m,y,_,b,k,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,r),b=a(b=r),u(_=s(this,ja()?Reflect.construct(b,k||[],a(this).constructor):b.apply(this,k)),"startListeningForDeviceChanges",function(){da(_.handleDeviceChange)}),u(_,"stopListeningForDeviceChanges",function(){pa(_.handleDeviceChange)}),u(_,"handleDeviceChange",function(g){g=g.map(function(g){return JSON.parse(JSON.stringify(g))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:g})}),u(_,"handleNativeAppStateChange",(m=p(function*(g){if("destroyed"===g)return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());_.disableReactNativeAutoDeviceManagement("video")||("active"===g?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))}),function(g){return m.apply(this,arguments)})),u(_,"handleNativeAudioFocusChange",function(g){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=g,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),u(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!fs()&&!is())throw Error("WebRTC not supported or suppressed");if(_.strictMode=void 0===E.strictMode||E.strictMode,_.allowMultipleCallInstances=null!==(y=E.allowMultipleCallInstances)&&void 0!==y&&y,Object.keys(ru).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=N(),ru[_.callClientId]=_,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,E.dailyJsVersion=r.version(),_._iframe=g,_._callObjectMode="none"===E.layout&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==E.showLocalVideo?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!E.showLocalVideo:_._showLocalVideo=!0,void 0!==E.showParticipantsBar?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!E.showParticipantsBar:_._showParticipantsBar=!0,void 0!==E.customIntegrations?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=E.customIntegrations:_._customIntegrations={},void 0!==E.customTrayButtons?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=E.customTrayButtons:_._customTrayButtons={},void 0!==E.activeSpeakerMode?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!E.activeSpeakerMode:_._activeSpeakerMode=!1,E.receiveSettings?_._callObjectMode?_._receiveSettings=E.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(E),_.properties=Aa({},E),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new nG(_.callClientId):null,_._callState=e0,_._isPreparingToJoin=!1,_._accessState={access:to},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=wc(rp,_._callObjectMode),_._nativeInCallAudioMode=rd,_._participants={},_._isScreenSharing=!1,_._participantCounts=rh,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=4096,_._messageChannel=is()?new nY:new nJ,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:ny}),_.sendMessageToCallMachine({action:ny})):(_.emitDailyJSEvent({action:n_}),_.sendMessageToCallMachine({action:n_}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:ny}),_.sendMessageToCallMachine({action:ny})):(_.emitDailyJSEvent({action:n_}),_.sendMessageToCallMachine({action:n_}))})),is()){var T=_.nativeUtils();T.addAudioFocusChangeListener&&T.removeAudioFocusChangeListener&&T.addAppStateChangeListener&&T.removeAppStateChangeListener&&T.addSystemScreenCaptureStopListener&&T.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,T.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),T.addAppStateChangeListener(_.handleNativeAppStateChange),T.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return l(r,H),o(r,[{key:"destroy",value:(em=p(function*(){try{yield this.leave()}catch(g){}var g,m=this._iframe;if(m){var y=m.parentElement;y&&y.removeChild(m)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),is()){var _=this.nativeUtils();_.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),_.removeAppStateChangeListener(this.handleNativeAppStateChange),_.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ru[this.callClientId],(null===(g=window)||void 0===g||null===(g=g._daily)||void 0===g?void 0:g.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return em.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var m=g.bodyClass,y=g.cssFile,_=g.cssText;return rc(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(y),bodyClass:m,cssText:_}),this}},{key:"iframe",value:function(){return rc(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return tc(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return tc(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,m){for(var y in m){if(!rS[y])throw Error("unrecognized updateParticipant property ".concat(y));if(rS[y].validate&&!rS[y].validate(m[y],this,this._participants[g]))throw Error(rS[y].help)}}},{key:"updateParticipant",value:function(g,m){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&m&&(this.validateParticipantProperties(g,m),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:m})),this}},{key:"updateParticipants",value:function(g){var m=this._participants.local&&this._participants.local.session_id;for(var y in g)y===m&&(y="local"),y&&g[y]&&this.validateParticipantProperties(y,g[y]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(eg=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tc(this._callObjectMode,"updateWaitingParticipant()"),Ka(this._callState,"updateWaitingParticipant()"),"string"!=typeof m||"object"!==n(y))throw Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(_,b){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:m,updates:y},function(g){g.error&&b(g.error),g.id||b(Error("unknown error in updateWaitingParticipant()")),_({id:g.id})})})}),function(){return eg.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ev=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(tc(this._callObjectMode,"updateWaitingParticipants()"),Ka(this._callState,"updateWaitingParticipants()"),"object"!==n(m))throw Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(y,_){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:m},function(g){g.error&&_(g.error),g.ids||_(Error("unknown error in updateWaitingParticipants()")),y({ids:g.ids})})})}),function(){return ev.apply(this,arguments)})},{key:"requestAccess",value:(ef=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=m.access,_=void 0===y?{level:ts}:y,b=m.name,k=void 0===b?"":b;return tc(this._callObjectMode,"requestAccess()"),Ka(this._callState,"requestAccess()"),new Promise(function(m,y){g.sendMessageToCallMachine({action:"daily-method-request-access",access:_,name:k},function(g){g.error&&y(g.error),g.access||y(Error("unknown error in requestAccess()")),m({access:g.access,granted:g.granted})})})}),function(){return ef.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"forceDiscardTrack"in m&&(is()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),m={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),m={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:m}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(eh=p(function*(g){var m=this,y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,_=void 0!==y&&y;if(tc(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(n(g)){case"string":return new Promise(function(y){m.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:_},function(g){y(g.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return eh.apply(this,arguments)})},{key:"updateReceiveSettings",value:(ep=p(function*(g){var m=this;if(tc(this._callObjectMode,"updateReceiveSettings()"),!sc(g,{allowAllParticipantsKey:!0}))throw Error(hc({allowAllParticipantsKey:!0}));return Ka(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(y){m.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(g){y({receiveSettings:g.receiveSettings})})})}),function(g){return ep.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,m){if(g){var y={};if(g.audio){g.audio.settings&&(!Object.keys(g.audio.settings).length&&m||(y.audio={settings:Aa({},g.audio.settings)})),m&&null!==(_=y.audio)&&void 0!==_&&null!==(_=_.settings)&&void 0!==_&&_.customTrack&&(y.audio.settings={customTrack:this._sharedTracks.audioTrack});var _,b,k,E="none"===(null===(b=g.audio.processor)||void 0===b?void 0:b.type)&&(null===(k=g.audio.processor)||void 0===k?void 0:k._isDefaultWhenNone);if(g.audio.processor&&!E){var T=Aa({},g.audio.processor);delete T._isDefaultWhenNone,y.audio=Aa(Aa({},y.audio),{},{processor:T})}}if(g.video){g.video.settings&&(!Object.keys(g.video.settings).length&&m||(y.video={settings:Aa({},g.video.settings)})),m&&null!==(A=y.video)&&void 0!==A&&null!==(A=A.settings)&&void 0!==A&&A.customTrack&&(y.video.settings={customTrack:this._sharedTracks.videoTrack});var A,C,M,I="none"===(null===(C=g.video.processor)||void 0===C?void 0:C.type)&&(null===(M=g.video.processor)||void 0===M?void 0:M._isDefaultWhenNone);if(g.video.processor&&!I){var P=Aa({},g.video.processor);delete P._isDefaultWhenNone,y.video=Aa(Aa({},y.video),{},{processor:P})}}return y}}},{key:"getInputSettings",value:function(){var g=this;return rc(),new Promise(function(m){m(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,m,y,_,b,k,E={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=(null===(y=this._inputSettings)||void 0===y?void 0:y.video)||E,m=(null===(_=this._inputSettings)||void 0===_?void 0:_.audio)||E):(g=(null===(b=this._preloadCache)||void 0===b||null===(b=b.inputSettings)||void 0===b?void 0:b.video)||E,m=(null===(k=this._preloadCache)||void 0===k||null===(k=k.inputSettings)||void 0===k?void 0:k.audio)||E);var T={audio:m,video:g};return this._prepInputSettingsForSharing(T,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,m){var y,_,b,k,E,T,A=this._inputSettings||{},C={};g.video?((C.video={},g.video.settings)?(C.video.settings={},m||g.video.settings.customTrack||null===(b=A.video)||void 0===b||!b.settings?C.video.settings=g.video.settings:C.video.settings=Aa(Aa({},A.video.settings),g.video.settings),Object.keys(C.video.settings).length||delete C.video.settings):null!==(y=A.video)&&void 0!==y&&y.settings&&(C.video.settings=A.video.settings),g.video.processor?C.video.processor=g.video.processor:null!==(_=A.video)&&void 0!==_&&_.processor&&(C.video.processor=A.video.processor)):A.video&&(C.video=A.video),g.audio?((C.audio={},g.audio.settings)?(C.audio.settings={},m||g.audio.settings.customTrack||null===(T=A.audio)||void 0===T||!T.settings?C.audio.settings=g.audio.settings:C.audio.settings=Aa(Aa({},A.audio.settings),g.audio.settings),Object.keys(C.audio.settings).length||delete C.audio.settings):null!==(k=A.audio)&&void 0!==k&&k.settings&&(C.audio.settings=A.audio.settings),g.audio.processor?C.audio.processor=g.audio.processor:null!==(E=A.audio)&&void 0!==E&&E.processor&&(C.audio.processor=A.audio.processor)):A.audio&&(C.audio=A.audio),this._maybeUpdateInputSettings(C)}},{key:"_devicesFromInputSettings",value:function(g){var m,y,_=(null==g||null===(m=g.video)||void 0===m||null===(m=m.settings)||void 0===m?void 0:m.deviceId)||null,b=(null==g||null===(y=g.audio)||void 0===y||null===(y=y.settings)||void 0===y?void 0:y.deviceId)||null,k=this._preloadCache.outputDeviceId||null;return{camera:_?{deviceId:_}:{},mic:b?{deviceId:b}:{},speaker:k?{deviceId:k}:{}}}},{key:"updateInputSettings",value:(ed=p(function*(g){var m=this;return rc(),ac(g)?g.video||g.audio?(cc(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(y,_){m.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(b){if(b.error)_(b.error);else{if(b.returnPreloadCache)return m._updatePreloadCacheInputSettings(g,!0),void y(m._getInputSettings());m._maybeUpdateInputSettings(b.inputSettings),y(m._prepInputSettingsForSharing(b.inputSettings,!0))}})})):this._getInputSettings():(console.error(pc()),Promise.reject(pc()))}),function(g){return ed.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var m=g.kbs,y=g.trackConstraints;if(rc(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:m,trackConstraints:y}),this}},{key:"getDailyLang",value:function(){var g=this;if(rc(),this._callMachineInitialized)return new Promise(function(m){g.sendMessageToCallMachine({action:"get-daily-lang"},function(g){delete g.action,delete g.callbackStamp,m(g)})})}},{key:"setDailyLang",value:function(g){return rc(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[e5,e9].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(eu=p(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ka(this._callState,"getMeetingSession()"),new Promise(function(m){g.sendMessageToCallMachine({action:"get-meeting-session"},function(g){delete g.action,delete g.callbackStamp,m(g)})})}),function(){return eu.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ka(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";tc(this._callObjectMode,"setMeetingSessionData()"),Ka(this._callState,"setMeetingSessionData");try{new nW({data:g,mergeStrategy:m})}catch(g){throw console.error(g),g}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:m})}catch(g){throw Error("Error setting meeting session data: ".concat(g))}}},{key:"setUserName",value:function(g,m){var y=this;return this.properties.userName=g,new Promise(function(_){y.sendMessageToCallMachine({action:"set-user-name",name:null!=g?g:"",thisMeetingOnly:is()||!!m&&!!m.thisMeetingOnly},function(g){delete g.action,delete g.callbackStamp,_(g)})})}},{key:"setUserData",value:(el=p(function*(g){var m=this;try{oc(g)}catch(g){throw console.error(g),g}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(y){try{m.sendMessageToCallMachine({action:"set-user-data",userData:g},function(g){delete g.action,delete g.callbackStamp,y(g)})}catch(g){throw Error("Error setting user data: ".concat(g))}})}),function(g){return el.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||"number"!=typeof g))throw Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var m=this;if("undefined"==typeof AudioWorkletNode&&!is())throw Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(y,_){m.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(g){m._isLocalAudioLevelObserverRunning=!g.error,g.error?_({error:g.error}):y()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var m=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(y,_){m.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(g){m._isRemoteParticipantsAudioLevelObserverRunning=!g.error,g.error?_({error:g.error}):y()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(es=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(tc(this._callObjectMode,"startCamera()"),Xa(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(m)}catch(g){return Promise.reject(g)}else{if(this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(m),this.properties=Aa(Aa({},this.properties),m)}return new Promise(function(m){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Qa(g.properties,g.callClientId),preloadCache:Qa(g._preloadCache,g.callClientId)},function(g){m({camera:g.camera,mic:g.mic,speaker:g.speaker})})})}),function(){return es.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,m,y){if(y&&y.length>50)throw Error("Custom track `trackName` must not be more than 50 characters");if(m&&"music"!==m&&"speech"!==m&&!(m instanceof Object))throw Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(y&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(y))throw Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName,ignoreAudioLevel:ignoreAudioLevel};return rc(),Ka(this._callState,"startCustomTrack()"),this.validateCustomTrack(m.track,m.mode,m.trackName),new Promise(function(y,_){g._sharedTracks.customTrack=m.track,m.track=nD,g.sendMessageToCallMachine({action:"start-custom-track",properties:m},function(g){g.error?_({error:g.error}):y(g.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var m=this;return rc(),Ka(this._callState,"stopCustomTrack()"),new Promise(function(y){m.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(g){y(g.mediaTag)})})}},{key:"setCamera",value:function(g){var m=this;return ic(),Za(this._callMachineInitialized,"setCamera()"),new Promise(function(y){m.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(g){y({device:g.device})})})}},{key:"setAudioDevice",value:(eo=p(function*(g){return ic(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return eo.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(y){g.sendMessageToCallMachine({action:"cycle-camera",properties:m},function(g){y({device:g.device})})})}},{key:"cycleMic",value:function(){var g=this;return rc(),new Promise(function(m){g.sendMessageToCallMachine({action:"cycle-mic"},function(g){m({device:g.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return ic(),new Promise(function(m){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(g){m(g.facingMode)})})}},{key:"setInputDevicesAsync",value:(er=p(function*(g){var m=this,y=g.audioDeviceId,_=g.videoDeviceId,b=g.audioSource,k=g.videoSource;if(rc(),void 0!==b&&(y=b),void 0!==k&&(_=k),"boolean"==typeof y&&(this._setAllowLocalAudio(y),y=void 0),"boolean"==typeof _&&(this._setAllowLocalVideo(_),_=void 0),!y&&!_)return yield this.getInputDevices();var E={};return y&&(y instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=y,y=nD,E.audio={settings:{customTrack:y}}):(delete this._sharedTracks.audioTrack,E.audio={settings:{deviceId:y}})),_&&(_ instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=_,_=nD,E.video={settings:{customTrack:_}}):(delete this._sharedTracks.videoTrack,E.video={settings:{deviceId:_}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(E,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(g){m.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:y,videoDeviceId:_},function(y){if(delete y.action,delete y.callbackStamp,y.returnPreloadCache)return m._updatePreloadCacheInputSettings(E,!1),void g(m._devicesFromInputSettings(m._inputSettings));g(y)})})}),function(g){return er.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(en=p(function*(g){var m=this,y=g.outputDeviceId;if(rc(),!y||"string"!=typeof y)throw Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=y,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(g,_){m.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:y},function(y){if(delete y.action,delete y.callbackStamp,y.error){var b=Error(y.error.message);return b.type=y.error.type,void _(b)}y.returnPreloadCache?g(m._devicesFromInputSettings(m._inputSettings)):g(y)})})}),function(g){return en.apply(this,arguments)})},{key:"getInputDevices",value:(ee=p(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(m){g.sendMessageToCallMachine({action:"get-input-devices"},function(y){y.returnPreloadCache?m(g._devicesFromInputSettings(g._inputSettings)):m({camera:y.camera,mic:y.mic,speaker:y.speaker})})})}),function(){return ee.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return ic(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(ic(),[rd,"voice"].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&Ya(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(X=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(tc(this._callObjectMode,"preAuth()"),Xa(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(m)),!m.url)throw Error("preAuth() requires at least a url to be provided");return this.validateProperties(m),this.properties=Aa(Aa({},this.properties),m),new Promise(function(m,y){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Qa(g.properties,g.callClientId),preloadCache:Qa(g._preloadCache,g.callClientId)},function(_){return _.error?y(_.error):_.access?(g._didPreAuth=!0,void m({access:_.access})):y(Error("unknown error in preAuth()"))})})}),function(){return X.apply(this,arguments)})},{key:"load",value:(Q=p(function*(g){var m=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=Aa(Aa({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw Error("can't load iframe meeting because url property isn't set");return this._updateCallState(e1),this.emitDailyJSEvent({action:tN}),this._callObjectMode?new Promise(function(g,y){m._callObjectLoader.cancel();var _=Date.now();m._callObjectLoader.load(m.properties.dailyConfig,function(y){m._bundleLoadTime=y?"no-op":Date.now()-_,m._updateCallState(e2),y&&m.emitDailyJSEvent({action:tR}),g()},function(g,_){if(m.emitDailyJSEvent({action:tj}),!_){m._updateCallState(e9),m.resetMeetingDependentVars();var b={action:nC,errorMsg:g.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:g,bundleUrl:B(m.properties.dailyConfig)}}};m._maybeSendToSentry(b),m.emitDailyJSEvent(b),y(g.msg)}})}):(this._iframe.src=F(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(g,y){m._loadedCallback=function(_){m._callState!==e9?(m._updateCallState(e2),(m.properties.cssFile||m.properties.cssText)&&m.loadCss(m.properties),g()):y(_)}}))}}),function(g){return Q.apply(this,arguments)})},{key:"join",value:(K=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var y=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(m)}catch(g){return this.updateIsPreparingToJoin(!1),Promise.reject(g)}}else{if(y=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(m.url&&!this._callObjectMode&&m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(m.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(m),this.properties=Aa(Aa({},this.properties),m)}return void 0!==m.showLocalVideo&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!m.showLocalVideo),void 0!==m.showParticipantsBar&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!m.showParticipantsBar),this._callState===e4||this._callState===e3?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(e3,!1),this.emitDailyJSEvent({action:tV}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Qa(this.properties,this.callClientId),preloadCache:Qa(this._preloadCache,this.callClientId)}),new Promise(function(m,_){g._joinedCallback=function(b,k){if(g._callState!==e9){if(g._updateCallState(e4),b)for(var E in b){if(g._callObjectMode){var T=g._callMachine().store;Zs(b[E],T),ea(b[E],T),na(b[E],g._participants[E],T)}g._participants[E]=Aa({},b[E]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}y&&g.loadCss(g.properties),m(b)}else _(k)}}))}),function(){return K.apply(this,arguments)})},{key:"leave",value:(W=p(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(m){g._callState===e5||g._callState===e9?m():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(e5),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:e5}),m()):(g._resolveLeave=m,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return W.apply(this,arguments)})},{key:"startScreenShare",value:(z=p(function*(){var g=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Za(this._callMachineInitialized,"startScreenShare()"),m.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",m.screenVideoSendSettings),m.mediaStream&&(this._sharedTracks.screenMediaStream=m.mediaStream,m.mediaStream=nD),"undefined"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var y=this.nativeUtils();if(yield y.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:nO,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});y.setSystemScreenCaptureStartCallback(function(){y.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:nI,captureOptions:m})}),y.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:nI,captureOptions:m})}),function(){return z.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Za(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=g.type;if(m&&"cloud"!==m&&"raw-tracks"!==m&&"local"!==m)throw Error("invalid type: ".concat(m,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Aa({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var m=g.layout,y=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:void 0===m?{preset:"default"}:m,instanceId:y})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Aa({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Aa({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var m=g.layout,y=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:void 0===m?{preset:"default"}:m,instanceId:y})}},{key:"addLiveStreamingEndpoints",value:function(g){var m=g.endpoints,y=g.instanceId;this.sendMessageToCallMachine({action:nP,endpointsOp:"add-endpoints",endpoints:m,instanceId:y})}},{key:"removeLiveStreamingEndpoints",value:function(g){var m=g.endpoints,y=g.instanceId;this.sendMessageToCallMachine({action:nP,endpointsOp:"remove-endpoints",endpoints:m,instanceId:y})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Aa({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),vs()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw Error("encodings must be an Array");if(!_c(g.length,1,3))throw Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var _=0;_<g.length;_++){var b=g[_];for(var k in this._validateEncodingLayerHasValidProperties(b),b)if(rv.includes(k)){if("number"!=typeof b[k])throw Error("".concat(k," must be a number"));if(m){var E=m[k],T=E.min,A=E.max;if(!_c(b[k],T,A))throw Error("".concat(k," value not in range. valid range: ").concat(T," to ").concat(A))}}else if(!["active","scalabilityMode"].includes(k))throw Error("Invalid key ".concat(k,", valid keys are:")+Object.values(rv));if(y&&!b.hasOwnProperty("maxBitrate"))throw Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:($=p(function*(g){var m=this,y=g.url,_=g.settings,b=void 0===_?{state:nR.PLAY}:_;try{(function(g){if("string"!=typeof g)throw Error('url parameter must be "string" type')})(y),bc(b),function(g){for(var m in g)if(!rg.includes(m))throw Error("Invalid key ".concat(m,", valid keys are: ").concat(rg));g.simulcastEncodings&&this.validateSimulcastEncodings(g.simulcastEncodings,rf,!0)}(b)}catch(g){throw console.error("invalid argument Error: ".concat(g)),console.error('startRemoteMediaPlayer arguments must be of the form:\n  { url: "playback url",\n  settings?:\n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'),g}return new Promise(function(g,_){m.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:y,settings:b},function(m){m.error?_({error:m.error,errorMsg:m.errorMsg}):g({session_id:m.session_id,remoteMediaPlayerState:{state:m.state,settings:m.settings}})})})}),function(g){return $.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(Y=p(function*(g){var m=this;if("string"!=typeof g)throw Error(" remotePlayerID must be of type string");return new Promise(function(y,_){m.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(g){g.error?_({error:g.error,errorMsg:g.errorMsg}):y()})})}),function(g){return Y.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(J=p(function*(g){var m=this,y=g.session_id,_=g.settings;try{bc(_)}catch(g){throw console.error("invalid argument Error: ".concat(g)),console.error('updateRemoteMediaPlayer arguments must be of the form:\n  session_id: "participant session",\n  { settings?: {state: "play"|"pause"} }'),g}return new Promise(function(g,b){m.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:y,settings:_},function(m){m.error?b({error:m.error,errorMsg:m.errorMsg}):g({session_id:m.session_id,remoteMediaPlayerState:{state:m.state,settings:m.settings}})})})}),function(g){return J.apply(this,arguments)})},{key:"startTranscription",value:function(g){Ka(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Aa({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(Ka(this._callState,"updateTranscription()"),!g)throw Error("updateTranscription Error: options is mandatory");if("object"!==n(g))throw Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Aa({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(Ka(this._callState,"stopTranscription()"),g&&"object"!==n(g))throw Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw Error('"instanceId" not provided');this.sendMessageToCallMachine(Aa({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(V=p(function*(g){var m=this;Ka(this._callState,"startDialOut()");var n=function(g){if(g){if(!Array.isArray(g))throw Error("Error starting dial out: audio codec must be an array");if(g.length<=0)throw Error("Error starting dial out: audio codec array specified but empty");g.forEach(function(g){if("string"!=typeof g)throw Error("Error starting dial out: audio codec must be a string");if("OPUS"!==g&&"PCMU"!==g&&"PCMA"!==g&&"G722"!==g)throw Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if("string"!=typeof g.sipUri)throw Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&"boolean"!=typeof g.video)throw Error("Error starting dial out: video must be a boolean value");!function(g){if(g&&(n(g.audio),g.video)){if(!Array.isArray(g.video))throw Error("Error starting dial out: video codec must be an array");if(g.video.length<=0)throw Error("Error starting dial out: video codec array specified but empty");g.video.forEach(function(g){if("string"!=typeof g)throw Error("Error starting dial out: video codec must be a string");if("H264"!==g&&"VP8"!==g)throw Error("Error starting dial out: video codec must be H264 or VP8")})}}(g.codecs)}if(g.phoneNumber){if("string"!=typeof g.phoneNumber)throw Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&n(g.codecs.audio)}if(g.callerId){if("string"!=typeof g.callerId)throw Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if("string"!=typeof g.displayName)throw Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if("string"!=typeof g.userId)throw Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw Error("Error starting dial out: userId length must be less than or equal to 36")}if(Ga(g),g.permissions&&g.permissions.canReceive){var y=f(rr.validateJSONObject(g.permissions.canReceive),2),_=y[0],b=y[1];if(!_)throw Error(b)}if(g.provider){if("daily"!==g.provider)throw Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(y,_){m.sendMessageToCallMachine(Aa({action:"dialout-start"},g),function(g){g.error?_(g.error):y(g)})})}),function(g){return V.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var m=this;return Ka(this._callState,"stopDialOut()"),new Promise(function(y,_){m.sendMessageToCallMachine(Aa({action:"dialout-stop"},g),function(g){g.error?_(g.error):y(g)})})}},{key:"sipCallTransfer",value:(x=p(function*(g){var m=this;if(Ka(this._callState,"sipCallTransfer()"),!g)throw Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,yc(g,"sipCallTransfer"),Ga(g),new Promise(function(y,_){m.sendMessageToCallMachine(Aa({action:nF},g),function(g){g.error?_(g.error):y(g)})})}),function(g){return x.apply(this,arguments)})},{key:"sipRefer",value:(j=p(function*(g){var m=this;if(Ka(this._callState,"sipRefer()"),!g)throw Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,yc(g,"sipRefer"),new Promise(function(y,_){m.sendMessageToCallMachine(Aa({action:nF},g),function(g){g.error?_(g.error):y(g)})})}),function(g){return j.apply(this,arguments)})},{key:"sendDTMF",value:(P=p(function*(g){var m=this;return Ka(this._callState,"sendDTMF()"),function(g){var m=g.sessionId,y=g.tones;if(!m||!y)throw Error("sessionId and tones are mandatory parameter");if("string"!=typeof m||"string"!=typeof y)throw Error("sessionId and tones should be of string type");if(y.length>20)throw Error("tones string must be upto 20 characters");var _=y.match(/[^0-9A-D*#]/g);if(_&&_[0])throw Error("".concat(_[0]," is not valid DTMF tone"))}(g),new Promise(function(y,_){m.sendMessageToCallMachine(Aa({action:"send-dtmf"},g),function(g){g.error?_(g.error):y(g)})})}),function(g){return P.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==e4?Promise.resolve(Aa({stats:{latest:{}}},this._network)):new Promise(function(m){g.sendMessageToCallMachine({action:"get-calc-stats"},function(y){m(Aa(Aa({},g._network),{},{stats:y.stats}))})})}},{key:"testWebsocketConnectivity",value:(I=p(function*(){var g=this;if(ec(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(g){return Promise.reject(g)}return new Promise(function(m,y){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(g){g.error?y(g.error):m(g.results)})})}),function(){return I.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!va(g,{isLocalScreenVideo:!1})||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(M=p(function*(){var g=this;rc(),tc(this._callObjectMode,"testCallQuality()"),Za(this._callMachineInitialized,"testCallQuality()",null,!0),Xa(this._callState,this._isPreparingToJoin,"testCallQuality()");var m=this._testCallAlreadyInProgress,r=function(y){m||(g._testCallInProgress=y)};if(r(!0),this.needsLoad())try{var y=this._callState;yield this.load(),this._callState=y}catch(g){return r(!1),Promise.reject(g)}return new Promise(function(m){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(y){var _=y.results,b=_.result,k=e(_,ro);if("failed"===b){var E,T=Aa({},k);null!==(E=k.error)&&void 0!==E&&E.details?(k.error.details=JSON.parse(k.error.details),T.error=Aa(Aa({},T.error),{},{details:Aa({},T.error.details)}),T.error.details.duringTest="testCallQuality"):(T.error=T.error?Aa({},T.error):{},T.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(T)}r(!1),m(Aa({result:b},k))})})}),function(){return M.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(C=p(function*(g){is()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),m=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),m=yield this.testCallQuality());var m,y={result:m.result,secondsElapsed:m.secondsElapsed};return m.data&&(y.data={maxRTT:m.data.maxRoundTripTime,packetLoss:m.data.avgRecvPacketLoss}),y}),function(g){return C.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(A=p(function*(g){var m=this;if(ec(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(g){return Promise.reject(g)}var y=g.videoTrack,_=g.duration;if(!this._validateVideoTrackForNetworkTests(y))throw Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=y,new Promise(function(g,y){m.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:_},function(m){m.error?y(m.error):g(m.results)})})}),function(g){return A.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){is()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(T=p(function*(g){var m=this;if(ec(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(g){return Promise.reject(g)}if(!this._validateVideoTrackForNetworkTests(g))throw Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(g,y){m.sendMessageToCallMachine({action:"test-network-connectivity"},function(m){m.error?y(m.error):g(m.results)})})}),function(g){return T.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(m){g._callState===e4?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(g){m(g.cpuStats)}):m({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var m;if(!((null===(m=Object.keys(g))||void 0===m?void 0:m.length)>0))throw Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(rv))}},{key:"_validateVideoSendSettings",value:function(g,m){var y="screenVideo"===g?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],_="Video send settings should be either an object or one of the supported presets: ".concat(y.join());if("string"==typeof m){if(!y.includes(m))throw Error(_)}else{if("object"!==n(m))throw Error(_);if(!m.maxQuality&&!m.encodings&&void 0===m.allowAdaptiveLayers)throw Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(m.maxQuality&&-1===["low","medium","high"].indexOf(m.maxQuality))throw Error("maxQuality must be either low, medium or high");if(m.encodings){var b=!1;switch(Object.keys(m.encodings).length){case 1:b=!m.encodings.low;break;case 2:b=!m.encodings.low||!m.encodings.medium;break;case 3:b=!m.encodings.low||!m.encodings.medium||!m.encodings.high;break;default:b=!0}if(b)throw Error("Encodings must be defined as: low, low and medium, or low, medium and high.");m.encodings.low&&this._validateEncodingLayerHasValidProperties(m.encodings.low),m.encodings.medium&&this._validateEncodingLayerHasValidProperties(m.encodings.medium),m.encodings.high&&this._validateEncodingLayerHasValidProperties(m.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var m=this;if(!g||0===Object.keys(g).length)throw Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(g){var y=f(g,2),_=y[0],b=y[1];m._validateVideoSendSettings(_,b)})}},{key:"updateSendSettings",value:function(g){var m=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(y,_){m.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(g){g.error?_(g.error):y(g.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return rc(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return rc(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return rc(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return Ka(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(E=p(function*(){var g=this;if(this._callObjectMode){var m=yield navigator.mediaDevices.enumerateDevices();return"Firefox"===ms()&&ys().major>115&&ys().major<123&&(m=m.filter(function(g){return"audiooutput"!==g.kind})),{devices:m.map(function(g){var m=JSON.parse(JSON.stringify(g));if(!is()&&"videoinput"===g.kind&&g.getCapabilities){var y,_=g.getCapabilities();m.facing=(null==_||null===(y=_.facingMode)||void 0===y?void 0:y.length)>=1?_.facingMode[0]:void 0}return m})}}return new Promise(function(m){g.sendMessageToCallMachine({action:"enumerate-devices"},function(g){m({devices:g.devices})})})}),function(){return E.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";if(Ka(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:m}),this}},{key:"addFakeParticipant",value:function(g){return rc(),Ka(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Aa({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return nc(this._callObjectMode,"setShowNamesMode()"),rc(),g&&"always"!==g&&"never"!==g?console.error('setShowNamesMode argument should be "always", "never", or false'):this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return nc(this._callObjectMode,"setShowLocalVideo()"),rc(),Ka(this._callState,"setShowLocalVideo()"),"boolean"!=typeof g?console.error("setShowLocalVideo only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g),this}},{key:"showLocalVideo",value:function(){return nc(this._callObjectMode,"showLocalVideo()"),rc(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return nc(this._callObjectMode,"setShowParticipantsBar()"),rc(),Ka(this._callState,"setShowParticipantsBar()"),"boolean"!=typeof g?console.error("setShowParticipantsBar only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g),this}},{key:"showParticipantsBar",value:function(){return nc(this._callObjectMode,"showParticipantsBar()"),rc(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return rc(),nc(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return rc(),nc(this._callObjectMode,"setCustomIntegrations()"),Ka(this._callState,"setCustomIntegrations()"),gc(g)&&(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g),this}},{key:"startCustomIntegrations",value:function(g){var m=this;if(rc(),nc(this._callObjectMode,"startCustomIntegrations()"),Ka(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(g){return"string"!=typeof g})||!Array.isArray(g)&&"string"!=typeof g)return console.error("startCustomIntegrations() only accepts string | string[]"),this;var y="string"==typeof g?[g]:g,_=y.filter(function(g){return!(g in m._customIntegrations)});return _.length?console.error("Can't find custom integration(s): \"".concat(_.join(", "),'"')):this.sendMessageToCallMachine({action:"start-custom-integrations",ids:y}),this}},{key:"stopCustomIntegrations",value:function(g){var m=this;if(rc(),nc(this._callObjectMode,"stopCustomIntegrations()"),Ka(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(g){return"string"!=typeof g})||!Array.isArray(g)&&"string"!=typeof g)return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var y="string"==typeof g?[g]:g,_=y.filter(function(g){return!(g in m._customIntegrations)});return _.length?console.error("Can't find custom integration(s): \"".concat(_.join(", "),'"')):this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:y}),this}},{key:"customTrayButtons",value:function(){return nc(this._callObjectMode,"customTrayButtons()"),rc(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return nc(this._callObjectMode,"updateCustomTrayButtons()"),rc(),Ka(this._callState,"updateCustomTrayButtons()"),vc(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g):console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(ry))),this}},{key:"theme",value:function(){return nc(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var m=this;return nc(this._callObjectMode,"setTheme()"),new Promise(function(y,_){try{m.validateProperties({theme:g}),m.properties.theme=Aa({},g),m.sendMessageToCallMachine({action:"set-theme",theme:m.properties.theme});try{m.emitDailyJSEvent({action:tD,theme:m.properties.theme})}catch(g){console.log("could not emit 'theme-updated'",g)}y(m.properties.theme)}catch(g){_(g)}})}},{key:"requestFullscreen",value:(k=p(function*(){if(rc(),this._iframe&&!document.fullscreenElement&&as())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return k.apply(this,arguments)})},{key:"exitFullscreen",value:function(){rc(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(b=p(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(m){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(g){m(g.view)})})}),function(){return b.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?console.error("setSidebarView is not available in callObject mode"):this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this}},{key:"room",value:(_=p(function*(){var g=this,m=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,y=void 0===m||m;return this._accessState.access===to||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(m){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:y},function(g){delete g.action,delete g.callbackStamp,m(g)})})}),function(){return _.apply(this,arguments)})},{key:"geo",value:(y=p(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(g){return console.error("geo lookup failed",g),{current:""}}}),function(){return y.apply(this,arguments)})},{key:"setNetworkTopology",value:(m=p(function*(g){var m=this;return rc(),Ka(this._callState,"setNetworkTopology()"),new Promise(function(y,_){m.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(g){g.error?_({error:g.error}):y({workerId:g.workerId})})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkTopology",value:(g=p(function*(){var g=this;return new Promise(function(m,y){g.needsLoad()&&m({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(g){g.error?y({error:g.error}):m({topology:g.topology})})})}),function(){return g.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(rc(),"number"!=typeof g&&!0!==g&&!1!==g)throw Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,m){return H.prototype.on.call(this,g,m)}},{key:"once",value:function(g,m){return H.prototype.once.call(this,g,m)}},{key:"off",value:function(g,m){return H.prototype.off.call(this,g,m)}},{key:"validateProperties",value:function(g){var m,y;if(null!=g&&null!==(m=g.dailyConfig)&&void 0!==m&&m.userMediaAudioConstraints){is()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var _,b,k=g.inputSettings||{};k.audio=(null===(_=g.inputSettings)||void 0===_?void 0:_.audio)||{},k.audio.settings=(null===(b=g.inputSettings)||void 0===b||null===(b=b.audio)||void 0===b?void 0:b.settings)||{},k.audio.settings=Aa(Aa({},k.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=k,delete g.dailyConfig.userMediaAudioConstraints}if(null!=g&&null!==(y=g.dailyConfig)&&void 0!==y&&y.userMediaVideoConstraints){is()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var E,T,A=g.inputSettings||{};A.video=(null===(E=g.inputSettings)||void 0===E?void 0:E.video)||{},A.video.settings=(null===(T=g.inputSettings)||void 0===T||null===(T=T.video)||void 0===T?void 0:T.settings)||{},A.video.settings=Aa(Aa({},A.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=A,delete g.dailyConfig.userMediaVideoConstraints}for(var C in g)if(rb[C]){if(rb[C].validate&&!rb[C].validate(g[C],this))throw Error("property '".concat(C,"': ").concat(rb[C].help))}else console.warn("Ignoring unrecognized property '".concat(C,"'")),delete g[C]}},{key:"assembleMeetingUrl",value:function(){var g,m,y=Aa(Aa({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!==(g=this.properties.dailyConfig)&&void 0!==g&&g.proxyUrl?encodeURIComponent(null===(m=this.properties.dailyConfig)||void 0===m?void 0:m.proxyUrl):void 0}),_=y.url.match(/\?/)?"&":"?";return y.url+_+Object.keys(rb).filter(function(g){return rb[g].queryString&&void 0!==y[g]}).map(function(g){return"".concat(rb[g].queryString,"=").concat(y[g])}).join("&")}},{key:"needsLoad",value:function(){return[e0,e1,e5,e9].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,m){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,m,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case tP:this.sendMessageToCallMachine(Aa({action:tL},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var m={action:nL,level:"log",code:1011,stats:{event:"bundle load",time:"no-op"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:"no-op"===this._bundleLoadTime,url:B(this.properties.dailyConfig)}};this.sendMessageToCallMachine(m),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case tR:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case tU:var y,_=Aa({},g);delete _.internal,this._maxAppMessageSize=(null===(y=g.internal)||void 0===y?void 0:y._maxAppMessageSize)||4096,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(_);break;case tJ:case tY:if(this._callState===e5)return;if(g.participant&&g.participant.session_id){var b=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var k=this._callMachine().store;Zs(g.participant,k),ea(g.participant,k),na(g.participant,this._participants[b],k)}try{this.maybeParticipantTracksStopped(this._participants[b],g.participant),this.maybeParticipantTracksStarted(this._participants[b],g.participant),this.maybeEventRecordingStopped(this._participants[b],g.participant),this.maybeEventRecordingStarted(this._participants[b],g.participant)}catch(g){console.error("track events error",g)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[b])||(this._participants[b]=Aa({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case t$:if(g.participant&&g.participant.session_id){var E=this._participants[g.participant.session_id];E&&this.maybeParticipantTracksStopped(E,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case tq:S(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case tz:var T={access:g.access};g.awaitingAccess&&(T.awaitingAccess=g.awaitingAccess),S(this._accessState,T)||(this._accessState=T,this.emitDailyJSEvent(g));break;case tW:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var A=Aa(Aa({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(A)}break;case nC:this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(e9),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var C,M=e(g,rl);null!=M&&null!==(C=M.error)&&void 0!==C&&C.details&&(M.error.details=JSON.parse(M.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,M),this._joinedCallback=null),this.emitDailyJSEvent(M);break;case tB:this._callState!==e9&&this._updateCallState(e5),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case nf:var I=g.state,P=g.threshold,j=g.quality,x=I.state,V=I.reasons;x===this._network.networkState&&S(V,this._network.networkStateReasons)&&P===this._network.threshold&&j===this._network.quality||(this._network.networkState=x,this._network.networkStateReasons=V,this._network.quality=j,this._network.threshold=P,g.networkState=x,V.length&&(g.networkStateReasons=V),delete g.state,this.emitDailyJSEvent(g));break;case ng:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case nm:g&&void 0!==g.faceCounts&&this.emitDailyJSEvent(g);break;case np:var J=g.activeSpeaker;this._activeSpeaker.peerId!==J.peerId&&(this._activeSpeaker.peerId=J.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Y=g.show;this._showLocalVideo=Y,this.emitDailyJSEvent({action:g.action,show:Y});break;case nh:var $=g.enabled;this._activeSpeakerMode!==$&&(this._activeSpeakerMode=$,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case tH:case tQ:case tX:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case nT:S(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case nA:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":S(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case ni:var z=g.session_id;this._rmpPlayerState[z]=g.playerState,this.emitDailyJSEvent(g);break;case ns:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case no:var W=g.session_id,K=this._rmpPlayerState[W];K&&this.compareEqualForRMPUpdateEvent(K,g.remoteMediaPlayerState)||(this._rmpPlayerState[W]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case tG:var H=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=wc(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||H)&&this.emitDailyJSEvent(g);break;case nl:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case nu:case nd:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case t4:case t5:case t9:case t6:case t8:case t1:case t2:case t3:case tx:case tF:case nn:case nr:case"test-completed":case nv:case t7:case nb:case nS:case nk:case nw:case nO:case nE:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,m){var y="record";g&&(m.local||!1!==m[y]||g[y]===m[y]||this.emitDailyJSEvent({action:t5}))}},{key:"maybeEventRecordingStarted",value:function(g,m){var y="record";g&&(m.local||!0!==m[y]||g[y]===m[y]||this.emitDailyJSEvent({action:t4}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==ti)}},{key:"_trackChanged",value:function(g,m){return(null==g?void 0:g.id)!==(null==m?void 0:m.id)}},{key:"maybeEventTrackStopped",value:function(g,m,y){var _,b,k=null!==(_=null==m?void 0:m.tracks[g])&&void 0!==_?_:null,E=null!==(b=null==y?void 0:y.tracks[g])&&void 0!==b?b:null,T=null==k?void 0:k.track;if(T){var A=this._trackStatePlayable(k),C=this._trackStatePlayable(E),M=this._trackChanged(T,null==E?void 0:E.track);A&&(C&&!M||this.emitDailyJSEvent({action:t0,track:T,participant:null!=y?y:m,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,m,y){var _,b,k=null!==(_=null==m?void 0:m.tracks[g])&&void 0!==_?_:null,E=null!==(b=null==y?void 0:y.tracks[g])&&void 0!==b?b:null,T=null==E?void 0:E.track;if(T){var A=this._trackStatePlayable(k),C=this._trackStatePlayable(E),M=this._trackChanged(null==k?void 0:k.track,T);C&&(A&&!M||this.emitDailyJSEvent({action:tZ,track:T,participant:y,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,m){if(g)for(var y in g.tracks)this.maybeEventTrackStopped(y,g,m)}},{key:"maybeParticipantTracksStarted",value:function(g,m){if(m)for(var y in m.tracks)this.maybeEventTrackStarted(y,g,m)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,m){var y,_;return g.state===m.state&&(null===(y=g.settings)||void 0===y?void 0:y.volume)===(null===(_=m.settings)||void 0===_?void 0:_.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(m){console.log("could not emit",g,m)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,m){return!!S(g,m)&&(!g.videoTrack||!m.videoTrack||g.videoTrack.id===m.videoTrack.id&&g.videoTrack.muted===m.videoTrack.muted&&g.videoTrack.enabled===m.videoTrack.enabled)&&(!g.audioTrack||!m.audioTrack||g.audioTrack.id===m.audioTrack.id&&g.audioTrack.muted===m.audioTrack.muted&&g.audioTrack.enabled===m.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return is()?"undefined"==typeof DailyNativeUtils?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||m!==this._isPreparingToJoin){var y=this._callState,_=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=m;var b=this._callState===e4;this.updateShowAndroidOngoingMeetingNotification(b);var k=Ya(y,_),E=Ya(this._callState,this._isPreparingToJoin);k!==E&&(this.updateKeepDeviceAwake(E),this.updateDeviceAudioMode(E),this.updateNoOpRecordingEnsuringBackgroundContinuity(E))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=rh,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:to},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=wc(rp,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=4096,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){is()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(is()&&!this.disableReactNativeAutoDeviceManagement("audio")){var m=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(m)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(is()&&this.nativeUtils().setShowOngoingMeetingNotification){var m,y,_,b;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var k=this.properties.reactNativeConfig.androidInCallNotification;m=k.title,y=k.subtitle,_=k.iconName,b=k.disableForCustomOverride}b&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,m,y,_,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){is()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(is()){var m=null===(g=this._callMachine())||void 0===g||null===(g=g.store)||void 0===g?void 0:g.getState();for(var y in null==m?void 0:m.streams){var _=m.streams[y];_&&_.pendingTrack&&"audio"===_.pendingTrack.kind&&(_.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(void 0!==g){var m=document.createElement("a");return m.href=g,m.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(ru)[0];if(this.needsLoad()){if(g&&!g.needsLoad()){var m={action:nL,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(m)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.")}else{var y={action:nL,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(y,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,m=Object.values(ru);g<m.length;g++){var y=m[g];y._callMachineInitialized?(y.sendMessageToCallMachine({action:nL,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),y._delayDuplicateInstanceLog=!1):y._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){if(!(null!==(_=g.error)&&void 0!==_&&_.type&&(![tk,tb,ty].includes(g.error.type)||g.error.type===ty&&g.error.msg.includes("deleted")))){var m=null!==(b=this.properties)&&void 0!==b&&b.url?new URL(this.properties.url):void 0,y="production";m&&m.host.includes(".staging.daily")&&(y="staging");var _,b,k,E,T,A,C,M,I,P=new mr({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Ir,stackParser:eX,integrations:(function(g){let m=[Ln(),In(),qr(),Jr(),Kr(),ei(),$n(),Zr()];return!1!==g.autoSessionTracking&&m.push(Qr()),m})({}).filter(function(g){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(g.name)}),environment:y}),j=new eI;if(j.setClient(P),P.init(),this.session_id&&j.setExtra("sessionId",this.session_id),this.properties){var x=Aa({},this.properties);x.userName=x.userName?"[Filtered]":void 0,x.userData=x.userData?"[Filtered]":void 0,x.token=x.token?"[Filtered]":void 0,j.setExtra("properties",x)}if(m){var V=m.searchParams.get("domain");if(!V){var J=m.host.match(/(.*?)\./);V=J&&J[1]||""}V&&j.setTag("domain",V)}g.error&&(j.setTag("fatalErrorType",g.error.type),j.setExtra("errorDetails",g.error.details),(null===(T=g.error.details)||void 0===T?void 0:T.uri)&&j.setTag("serverAddress",g.error.details.uri),(null===(A=g.error.details)||void 0===A?void 0:A.workerGroup)&&j.setTag("workerGroup",g.error.details.workerGroup),(null===(C=g.error.details)||void 0===C?void 0:C.geoGroup)&&j.setTag("geoGroup",g.error.details.geoGroup),(null===(M=g.error.details)||void 0===M?void 0:M.on)&&j.setTag("connectionAttempt",g.error.details.on),null!==(I=g.error.details)&&void 0!==I&&I.bundleUrl&&(j.setTag("bundleUrl",g.error.details.bundleUrl),j.setTag("bundleError",g.error.details.sourceError.type))),j.setTags({callMode:this._callObjectMode?is()?"reactNative":null!==(k=this.properties)&&void 0!==k&&null!==(k=k.dailyConfig)&&void 0!==k&&null!==(k=k.callMode)&&void 0!==k&&k.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:r.version()});var Y=(null===(E=g.error)||void 0===E?void 0:E.msg)||g.errorMsg;j.captureException(Error(Y))}}},{key:"_callMachine",value:function(){var g;return null===(g=window._daily)||void 0===g||null===(g=g.instances)||void 0===g||null===(g=g[this.callClientId])||void 0===g?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!S(this._inputSettings,g)){var m=this._getInputSettings();this._inputSettings=g;var y=this._getInputSettings();S(m,y)||this.emitDailyJSEvent({action:nA,inputSettings:y})}}}],[{key:"supportedBrowser",value:function(){if(is())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=D.getParser(rs());return{supported:!!fs(),mobile:"mobile"===g.getPlatformType(),name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!as(),supportsScreenShare:!!ss(),supportsSfu:!!fs(),supportsVideoProcessing:ps(),supportsAudioProcessing:hs()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g.layout="none",new r(null,g)}},{key:"wrap",value:function(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(rc(),!g||!g.contentWindow||"string"!=typeof g.src)throw Error("DailyIframe::Wrap needs an iframe-like first argument");return m.layout||(m.customLayout?m.layout="custom-v1":m.layout="browser"),new r(g,m)}},{key:"createFrame",value:function(g,m){rc(),g&&m?(y=g,_=m):g&&g.append?(y=g,_={}):(y=document.body,_=g||{});var y,_,b=_.iframeStyle;b||(b=y===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var k=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?k.allow="microphone, camera":k.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",k.style.visibility="hidden",y.appendChild(k),k.style.visibility=null,Object.keys(b).forEach(function(g){return k.style[g]=b[g]}),_.layout||(_.customLayout?_.layout="custom-v1":_.layout="browser");try{return new r(k,_)}catch(g){throw y.removeChild(k),g}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rc();var m=document.createElement("iframe");return m.allow="microphone; camera; autoplay",m.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ",document.body.appendChild(m),g.layout||(g.layout="custom-v1"),r.wrap(m,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return g?ru[g]:Object.values(ru)[0]}}])}();function Ga(g){if(g.extension){if("string"!=typeof g.extension)throw Error("Error starting dial out: extension must be a string");if(g.extension.length>20)throw Error("Error starting dial out: extension length must be less than or equal to 20")}if(g.waitBeforeExtensionDialSec){if("number"!=typeof g.waitBeforeExtensionDialSec)throw Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(g.waitBeforeExtensionDialSec>60)throw Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!g.extension)throw Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Qa(g,m){var y={};for(var _ in g)if(g[_]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",_),y[_]=nD;else if("dailyConfig"===_){if(g[_].modifyLocalSdpHook){var b=window._daily.instances[m].customCallbacks||{};b.modifyLocalSdpHook=g[_].modifyLocalSdpHook,window._daily.instances[m].customCallbacks=b,delete g[_].modifyLocalSdpHook}if(g[_].modifyRemoteSdpHook){var k=window._daily.instances[m].customCallbacks||{};k.modifyRemoteSdpHook=g[_].modifyRemoteSdpHook,window._daily.instances[m].customCallbacks=k,delete g[_].modifyRemoteSdpHook}y[_]=g[_]}else y[_]=g[_];return y}function Ka(g){var m=arguments.length>2?arguments[2]:void 0;if(g!==e4){var y="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," only supported after join.");throw m&&(y+=" ".concat(m)),console.error(y),Error(y)}}function Ya(g,m){return[e3,e4].includes(g)||m}function Xa(g,m){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"This daily-js method",_=arguments.length>3?arguments[3]:void 0;if(Ya(g,m)){var b="".concat(y," not supported after joining a meeting.");throw _&&(b+=" ".concat(_)),console.error(b),Error(b)}}function Za(g){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method",y=arguments.length>2?arguments[2]:void 0;if(!g){var _="".concat(m,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw y&&(_+=" ".concat(y)),console.error(_),Error(_)}}function ec(g){if(g){var m="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(m),Error(m)}}function tc(g){if(!g){var m="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(m),Error(m)}}function nc(g){if(g){var m="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(m),Error(m)}}function rc(){if(is())throw Error("This daily-js method is not currently supported in React Native")}function ic(){if(!is())throw Error("This daily-js method is only supported in React Native")}function oc(g){var m;if(void 0===g)return!0;if("string"==typeof g)m=g;else try{m=JSON.stringify(g),S(JSON.parse(m),g)||console.warn("The userData provided will be modified when serialized.")}catch(g){throw Error("userData must be serializable to JSON: ".concat(g))}if(m.length>4096)throw Error("userData is too large (".concat(m.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function sc(g,m){for(var y=m.allowAllParticipantsKey,i=function(g){return!!(void 0===g.layer||Number.isInteger(g.layer)&&g.layer>=0||"inherit"===g.layer)},_=0,b=Object.entries(g);_<b.length;_++){var k=f(b[_],2),E=k[0],T=k[1];if(!function(g){var m=["local"];return y||m.push("*"),g&&!m.includes(g)}(E)||!(T&&!(T.video&&!i(T.video))&&!(T.screenVideo&&!i(T.screenVideo))))return!1}return!0}function ac(g){if("object"!==n(g))return!1;for(var m=0,y=Object.entries(g);m<y.length;m++){var _=f(y[m],2),b=_[0],k=_[1];switch(b){case"video":if("object"!==n(k))return!1;for(var E=0,T=Object.entries(k);E<T.length;E++){var A=f(T[E],2),C=A[0],M=A[1];switch(C){case"processor":if(!uc(M))return!1;break;case"settings":if(!dc(M))return!1;break;default:return!1}}break;case"audio":if("object"!==n(k))return!1;for(var I=0,P=Object.entries(k);I<P.length;I++){var j=f(P[I],2),x=j[0],V=j[1];switch(x){case"processor":if(!lc(V))return!1;break;case"settings":if(!dc(V))return!1;break;default:return!1}}break;default:return!1}}return!0}function cc(g,m,y){var _,b=[];g.video&&g.video.processor&&(ps(null!==(_=null==m?void 0:m.useLegacyVideoProcessor)&&void 0!==_&&_)||(g.video.settings?delete g.video.processor:delete g.video,b.push("video"))),g.audio&&g.audio.processor&&(hs()||(g.audio.settings?delete g.audio.processor:delete g.audio,b.push("audio"))),b.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(b.join(", "))),g.audio&&g.audio.settings&&(g.audio.settings.customTrack?(y.audioTrack=g.audio.settings.customTrack,g.audio.settings={customTrack:nD}):delete y.audioTrack),g.video&&g.video.settings&&(g.video.settings.customTrack?(y.videoTrack=g.video.settings.customTrack,g.video.settings={customTrack:nD}):delete y.videoTrack)}function lc(g){if(is())return console.warn("Video processing is not yet supported in React Native"),!1;var m,y=["type"];return!!g&&"object"===n(g)&&(Object.keys(g).filter(function(g){return!y.includes(g)}).forEach(function(m){console.warn("invalid key inputSettings -> audio -> processor : ".concat(m)),delete g[m]}),!!("string"==typeof(m=g.type)&&(Object.values(nj).includes(m)||(console.error("inputSettings audio processor type invalid"),0))))}function uc(g){if(is())return console.warn("Video processing is not yet supported in React Native"),!1;var m,y=["type","config"];return!!g&&"object"===n(g)&&!!("string"==typeof(m=g.type)&&(Object.values(nN).includes(m)||(console.error("inputSettings video processor type invalid"),0)))&&(!g.config||"object"===n(g.config)&&!!function(g,m){var y,_=Object.keys(m);if(0===_.length)return!0;var b="invalid object in inputSettings -> video -> processor -> config";switch(g){case nN.BGBLUR:return _.length>1||"strength"!==_[0]?(console.error(b),!1):!("number"!=typeof m.strength||m.strength<=0||m.strength>1||isNaN(m.strength))||(console.error("".concat(b,"; expected: {0 < strength <= 1}, got: ").concat(m.strength)),!1);case nN.BGIMAGE:return!(void 0!==m.source&&!("default"===m.source?(m.type="default",!0):m.source instanceof ArrayBuffer||(U(m.source)?(m.type="url",!!function(g){var m=new URL(g),y=m.pathname;if("data:"===m.protocol)try{var _=y.substring(y.indexOf(":")+1,y.indexOf(";")).split("/")[1];return nx.includes(_)}catch(g){return console.error("failed to deduce blob content type",g),!1}var b=y.split(".").at(-1).toLowerCase().trim();return nx.includes(b)}(m.source)||(console.error("invalid image type; supported types: [".concat(nx.join(", "),"]")),!1)):isNaN(y=Number(m.source))||!Number.isInteger(y)||y<=0||y>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(m.type="daily-preselect",!0))));default:return!0}}(g.type,g.config))&&(Object.keys(g).filter(function(g){return!y.includes(g)}).forEach(function(m){console.warn("invalid key inputSettings -> video -> processor : ".concat(m)),delete g[m]}),!0)}function dc(g){return"object"===n(g)&&(!g.customTrack||g.customTrack instanceof MediaStreamTrack)}function pc(){var g=Object.values(nN).join(" | "),m=Object.values(nj).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(g," ], config?: {} } }, audio?: { processor: {type: [ ").concat(m," ] } } }")}function hc(g){var m=g.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(td).concat(m?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function fc(){return"customIntegrations should be an object of type ".concat(JSON.stringify(r_),".")}function vc(g){if(g&&"object"!==n(g)||Array.isArray(g))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(ry),".")),!1;if(g)for(var m=0,y=Object.entries(g);m<y.length;m++)for(var _=f(y[m],1)[0],b=0,k=Object.entries(g[_]);b<k.length;b++){var E=f(k[b],2),T=E[0],A=E[1],C=ry.id[T];if(!C)return console.error("customTrayButton does not support key ".concat(T)),!1;switch(T){case"iconPath":case"iconPathDarkMode":if(!U(A))return console.error("customTrayButton ".concat(T," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(A))return console.error("customTrayButton ".concat(T," should be ").concat(C,". Got: ").concat(A)),!1;break;default:if(n(A)!==C)return console.error("customTrayButton ".concat(T," should be a ").concat(C,".")),!1}}return!0}function gc(g){if(!g||g&&"object"!==n(g)||Array.isArray(g))return console.error(fc()),!1;for(var t=function(g){return"".concat(g," should be ").concat(r_.id[g])},r=function(g,m){return console.error("customIntegration ".concat(g,": ").concat(m))},m=0,y=Object.entries(g);m<y.length;m++){var _=f(y[m],1)[0];if(!("label"in g[_]))return r(_,"label is required"),!1;if(!("location"in g[_]))return r(_,"location is required"),!1;if(!("src"in g[_])&&!("srcdoc"in g[_]))return r(_,"src or srcdoc is required"),!1;for(var b=0,k=Object.entries(g[_]);b<k.length;b++){var E=f(k[b],2),T=E[0],A=E[1];switch(T){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if("string"!=typeof A)return r(_,t(T)),!1;break;case"iconURL":if(!U(A))return r(_,"".concat(T," should be a url")),!1;break;case"src":if("srcdoc"in g[_])return r(_,"cannot have both src and srcdoc"),!1;if(!U(A))return r(_,'src "'.concat(A,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in g[_])return r(_,"cannot have both src and srcdoc"),!1;if("string"!=typeof A)return r(_,t(T)),!1;break;case"location":if(!["main","sidebar"].includes(A))return r(_,t(T)),!1;break;case"controlledBy":if("*"!==A&&"owners"!==A&&(!Array.isArray(A)||A.some(function(g){return"string"!=typeof g})))return r(_,t(T)),!1;break;case"shared":if((!Array.isArray(A)||A.some(function(g){return"string"!=typeof g}))&&"owners"!==A&&"boolean"!=typeof A)return r(_,t(T)),!1;break;default:if(!r_.id[T])return console.error("customIntegration does not support key ".concat(T)),!1}}}return!0}function mc(g,m){if(void 0===m)return!1;switch(n(m)){case"string":return n(g)===m;case"object":if("object"!==n(g))return!1;for(var y in g)if(!mc(g[y],m[y]))return!1;return!0;default:return!1}}function yc(g,m){var y=g.sessionId,_=g.toEndPoint,b=g.callerId,k=g.useSipRefer;if(!y||!_)throw Error("".concat(m,"() requires a sessionId and toEndPoint"));if("string"!=typeof y||"string"!=typeof _)throw Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(k&&!_.startsWith("sip:"))throw Error('"toEndPoint" must be a "sip" address');if(!_.startsWith("sip:")&&!_.startsWith("+"))throw Error("toEndPoint: ".concat(_,' must starts with either "sip:" or "+"'));if(b&&"string"!=typeof b)throw Error("callerId must be of type string");if(b&&!_.startsWith("+"))throw Error("callerId is only valid when transferring to a PSTN number")}function bc(g){if("object"!==n(g))throw Error('RemoteMediaPlayerSettings: must be "object" type');if(g.state&&!Object.values(nR).includes(g.state))throw Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(nR));if(g.volume){if("number"!=typeof g.volume)throw Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(g.volume<0||g.volume>2)throw Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function _c(g,m,y){return!("number"!=typeof g||g<m||g>y)}function wc(g,m){return g&&!m&&delete g.data,g}}}]);