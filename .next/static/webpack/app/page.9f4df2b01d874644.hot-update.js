"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ChatWidget.tsx":
/*!***********************************!*\
  !*** ./components/ChatWidget.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatWidget; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=MessageCircle,Mic,PhoneOff,RefreshCw,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/phone-off.js\");\n/* harmony import */ var _barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=MessageCircle,Mic,PhoneOff,RefreshCw,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=MessageCircle,Mic,PhoneOff,RefreshCw,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=MessageCircle,Mic,PhoneOff,RefreshCw,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=MessageCircle,Mic,PhoneOff,RefreshCw,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _vapi_ai_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vapi-ai/web */ \"(app-pages-browser)/./node_modules/@vapi-ai/web/dist/vapi.js\");\n/* harmony import */ var _vapi_ai_web__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_vapi_ai_web__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nconst QUICK_REPLIES = [\n    \"Clinic\",\n    \"Coaching\",\n    \"Real Estate\",\n    \"Local Service\"\n];\nfunction uid() {\n    return Math.random().toString(36).slice(2);\n}\nfunction ChatWidget() {\n    let { initialMode } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _s();\n    const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [phase, setPhase] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"choice\");\n    const [leadName, setLeadName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [leadEmail, setLeadEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [leadPhone, setLeadPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [businessInfo, setBusinessInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [showQuickReplies, setShowQuickReplies] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [voiceCallActive, setVoiceCallActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const chatRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const vapiRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize VAPI instance and set up event listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const publicApiKey = \"310c6d76-be7f-4e13-8c49-d14bb7b88c5a\";\n        if (!publicApiKey) {\n            console.warn(\"VAPI public API key not configured\");\n            return;\n        }\n        // Initialize VAPI instance if not already initialized\n        if (!vapiRef.current) {\n            vapiRef.current = new (_vapi_ai_web__WEBPACK_IMPORTED_MODULE_2___default())(publicApiKey);\n            // Set up event listeners\n            vapiRef.current.on(\"call-start\", ()=>{\n                console.log(\"Call started\");\n                setVoiceCallActive(true);\n                setLoading(false);\n                // Show message about voice call\n                const voiceMessage = {\n                    id: uid(),\n                    role: \"assistant\",\n                    content: \"Voice call started! \\uD83C\\uDF99️\\n\\nI'll ask you 3-4 quick questions (under 1 minute). After that, I'll ask for your name and contact details.\\n\\nSpeak naturally—I'm listening!\"\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        voiceMessage\n                    ]);\n            });\n            vapiRef.current.on(\"call-end\", ()=>{\n                console.log(\"Call ended\");\n                setVoiceCallActive(false);\n                // Switch to capture phase after call ends\n                setPhase((currentPhase)=>{\n                    if (currentPhase === \"voice\") {\n                        return \"capture\";\n                    }\n                    return currentPhase;\n                });\n            });\n            vapiRef.current.on(\"message\", (message)=>{\n                if (message.type === \"transcript\") {\n                    console.log(\"\".concat(message.role, \": \").concat(message.transcript));\n                    // Add transcript to messages\n                    const transcriptMessage = {\n                        id: uid(),\n                        role: message.role === \"user\" ? \"user\" : \"assistant\",\n                        content: message.transcript\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            transcriptMessage\n                        ]);\n                }\n            });\n        }\n        return ()=>{\n            // Cleanup: stop call if active when component unmounts\n            if (vapiRef.current) {\n                try {\n                    vapiRef.current.stop();\n                } catch (e) {\n                // Ignore errors if call is not active\n                }\n            }\n        };\n    }, []);\n    async function handleStartVoice() {\n        setPhase(\"voice\");\n        setLoading(true);\n        setError(\"\");\n        try {\n            const assistantId = \"8543c969-a358-4f3d-aaab-7ccd8abaa9d7\";\n            if (!assistantId) {\n                throw new Error(\"Voice assistant is not configured. Please contact support.\");\n            }\n            // Ensure VAPI is initialized (should be done in useEffect, but check just in case)\n            if (!vapiRef.current) {\n                const publicApiKey = \"310c6d76-be7f-4e13-8c49-d14bb7b88c5a\";\n                if (!publicApiKey) {\n                    throw new Error(\"Voice assistant is not configured. Please contact support.\");\n                }\n                vapiRef.current = new (_vapi_ai_web__WEBPACK_IMPORTED_MODULE_2___default())(publicApiKey);\n            }\n            // Start voice conversation (web call - no phone number needed)\n            vapiRef.current.start(assistantId);\n            // Show initial message\n            const voiceMessage = {\n                id: uid(),\n                role: \"assistant\",\n                content: \"Starting voice call… \\uD83C\\uDF99️\\n\\nI'll ask you 3-4 quick questions (under 1 minute). After that, I'll ask for your name and contact details.\\n\\nSpeak naturally—I'm listening!\"\n            };\n            setMessages([\n                voiceMessage\n            ]);\n        } catch (e) {\n            const message = e instanceof Error ? e.message : \"Something went wrong. Please try again.\";\n            setError(message);\n            setPhase(\"choice\");\n            setLoading(false);\n        }\n    }\n    // Listen for voice mode trigger from Hero button\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleVoiceMode = ()=>{\n            if (open) {\n                // If chat is open and in choice phase, start voice\n                if (phase === \"choice\") {\n                    handleStartVoice();\n                } else if (phase === \"chat\") {\n                    // If already in chat, switch to voice\n                    handleStartVoice();\n                }\n            }\n        };\n        window.addEventListener(\"startVoiceMode\", handleVoiceMode);\n        return ()=>{\n            window.removeEventListener(\"startVoiceMode\", handleVoiceMode);\n        };\n    }, [\n        open,\n        phase\n    ]);\n    // Initialize when chat opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open && messages.length === 0) {\n            if (initialMode === \"voice\") {\n                // Auto-start voice mode\n                handleStartVoice();\n            } else {\n                // Show choice screen\n                setPhase(\"choice\");\n                setMessages([]);\n            }\n        }\n    }, [\n        open,\n        messages.length,\n        initialMode\n    ]);\n    // Dispatch events when chat opens/closes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open) {\n            window.dispatchEvent(new CustomEvent(\"chatWidgetOpened\"));\n        } else {\n            window.dispatchEvent(new CustomEvent(\"chatWidgetClosed\"));\n        }\n    }, [\n        open\n    ]);\n    // Check if we should show quick replies (when asking about business type)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (phase !== \"chat\" || messages.length === 0) {\n            setShowQuickReplies(false);\n            return;\n        }\n        const lastMessage = messages[messages.length - 1];\n        if ((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.role) === \"assistant\") {\n            const content = lastMessage.content.toLowerCase();\n            const userMessageCount = messages.filter((m)=>m.role === \"user\").length;\n            const isAskingBusinessType = (content.includes(\"type of business\") || content.includes(\"what kind of business\") || content.includes(\"what business\") || content.includes(\"business do you\") || content.includes(\"business you run\")) && userMessageCount === 0;\n            setShowQuickReplies(isAskingBusinessType);\n        } else {\n            setShowQuickReplies(false);\n        }\n    }, [\n        messages,\n        phase\n    ]);\n    function resetChat() {\n        // Stop active voice call if any\n        if (vapiRef.current && voiceCallActive) {\n            vapiRef.current.stop();\n        }\n        setMessages([]);\n        setInput(\"\");\n        setError(\"\");\n        setPhase(\"choice\");\n        setLeadName(\"\");\n        setLeadEmail(\"\");\n        setLeadPhone(\"\");\n        setBusinessInfo({});\n        setShowQuickReplies(false);\n        setVoiceCallActive(false);\n        setLoading(false);\n    }\n    async function handleTypeChoice() {\n        setPhase(\"chat\");\n        setLoading(true);\n        setError(\"\");\n        try {\n            var _data_reply;\n            // Let AI generate the welcome message\n            const res = await fetch(\"/api/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    messages: []\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Could not reach the chatbot right now.\");\n            }\n            const data = await res.json();\n            const welcomeMessage = ((_data_reply = data.reply) === null || _data_reply === void 0 ? void 0 : _data_reply.trim()) || \"Hi \\uD83D\\uDC4B Looking for help or pricing? I can assist you in under 1 minute.\";\n            const welcome = {\n                id: uid(),\n                role: \"assistant\",\n                content: welcomeMessage\n            };\n            setMessages([\n                welcome\n            ]);\n        } catch (e) {\n            // Fallback to hardcoded message on error\n            const welcome = {\n                id: uid(),\n                role: \"assistant\",\n                content: \"Hi \\uD83D\\uDC4B Looking for help or pricing? I can assist you in under 1 minute.\"\n            };\n            setMessages([\n                welcome\n            ]);\n            setError(\"Could not connect. Please try again.\");\n        } finally{\n            setLoading(false);\n        }\n    }\n    // Extract business information from conversation\n    function extractBusinessInfo(messages) {\n        const info = {};\n        const userMessages = messages.filter((m)=>m.role === \"user\").map((m)=>m.content.trim()).filter((m)=>m.length > 0);\n        if (userMessages.length > 0) {\n            const firstAnswer = userMessages[0];\n            if (firstAnswer.length > 5 && !firstAnswer.toLowerCase().match(/^(yes|no|ok|sure|alright)$/i)) {\n                info.businessType = firstAnswer;\n            }\n        }\n        if (userMessages.length > 1) {\n            const secondAnswer = userMessages[1];\n            if (secondAnswer.length > 3 && !secondAnswer.toLowerCase().match(/^(yes|no|ok|sure|alright)$/i)) {\n                info.contactMethod = secondAnswer;\n            }\n        }\n        if (userMessages.length > 2) {\n            const thirdAnswer = userMessages[2];\n            if (thirdAnswer.length > 3 && !thirdAnswer.toLowerCase().match(/^(yes|no|ok|sure|alright)$/i)) {\n                info.mainChallenge = thirdAnswer;\n            }\n        }\n        if (userMessages.length > 3) {\n            const fourthAnswer = userMessages[3];\n            if (fourthAnswer.includes(\"http\") || fourthAnswer.toLowerCase().includes(\"yes\") || fourthAnswer.toLowerCase().includes(\"no\") || fourthAnswer.toLowerCase().includes(\"don't\") || fourthAnswer.toLowerCase().includes(\"do not\")) {\n                info.website = fourthAnswer;\n            }\n        }\n        const assistantMessages = messages.filter((m)=>m.role === \"assistant\");\n        for(let i = assistantMessages.length - 1; i >= 0; i--){\n            const msg = assistantMessages[i];\n            if (msg.content.includes(\"•\") || msg.content.includes(\"summary\")) {\n                info.summary = msg.content;\n                break;\n            }\n        }\n        return info;\n    }\n    // Check if conversation is ready for lead capture\n    function shouldShowLeadCapture(messages) {\n        const lastMessage = messages[messages.length - 1];\n        if (!lastMessage || lastMessage.role !== \"assistant\") return false;\n        const content = lastMessage.content.toLowerCase();\n        const userMessageCount = messages.filter((m)=>m.role === \"user\").length;\n        const hasSummarySignal = content.includes(\"contact details\") || content.includes(\"share this with\") || content.includes(\"get your\") || content.includes(\"can i get\") || content.includes(\"summary\") && content.includes(\"•\");\n        const hasEnoughAnswers = userMessageCount >= 4;\n        return hasSummarySignal && hasEnoughAnswers;\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open && chatRef.current) {\n            chatRef.current.scrollTop = chatRef.current.scrollHeight;\n        }\n    }, [\n        messages,\n        open,\n        showQuickReplies\n    ]);\n    // Focus input when chat opens on mobile\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open && phase === \"chat\" && inputRef.current) {\n            setTimeout(()=>{\n                var _inputRef_current;\n                (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n            }, 100);\n        }\n    }, [\n        open,\n        phase\n    ]);\n    // Auto-open chat when #chat anchor is clicked\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleHashChange = ()=>{\n            if (window.location.hash === \"#chat\" && !open) {\n                setOpen(true);\n            } else if (window.location.hash !== \"#chat\" && open) {\n            // If hash is removed while chat is open, don't close it\n            // Only close if user explicitly closes it\n            }\n        };\n        // Check on mount\n        if (window.location.hash === \"#chat\" && !open) {\n            setOpen(true);\n        }\n        // Listen for hash changes\n        window.addEventListener(\"hashchange\", handleHashChange);\n        // Also check clicks on links with #chat\n        const handleClick = (e)=>{\n            const target = e.target;\n            const link = target.closest('a[href=\"#chat\"]');\n            if (link && !open) {\n                e.preventDefault();\n                setOpen(true);\n                window.history.pushState(null, \"\", \"#chat\");\n                // Scroll to chat widget\n                setTimeout(()=>{\n                    var _document_getElementById;\n                    (_document_getElementById = document.getElementById(\"chat\")) === null || _document_getElementById === void 0 ? void 0 : _document_getElementById.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"nearest\"\n                    });\n                }, 100);\n            }\n        };\n        document.addEventListener(\"click\", handleClick);\n        return ()=>{\n            window.removeEventListener(\"hashchange\", handleHashChange);\n            document.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        open\n    ]);\n    async function sendMessage(text) {\n        if (!text || loading || phase !== \"chat\") return;\n        const trimmed = text.trim();\n        if (!trimmed) return;\n        const userMessage = {\n            id: uid(),\n            role: \"user\",\n            content: trimmed\n        };\n        const nextMessages = [\n            ...messages,\n            userMessage\n        ];\n        setMessages(nextMessages);\n        setInput(\"\");\n        setError(\"\");\n        setShowQuickReplies(false);\n        setLoading(true);\n        try {\n            var _data_reply;\n            const res = await fetch(\"/api/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    messages: nextMessages.map((param)=>{\n                        let { role, content } = param;\n                        return {\n                            role,\n                            content\n                        };\n                    })\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Could not reach the chatbot right now.\");\n            }\n            const data = await res.json();\n            const reply = ((_data_reply = data.reply) === null || _data_reply === void 0 ? void 0 : _data_reply.trim()) || \"Got it — that helps. Let me ask you another question.\";\n            const assistantMessage = {\n                id: uid(),\n                role: \"assistant\",\n                content: reply\n            };\n            const updatedMessages = [\n                ...nextMessages,\n                assistantMessage\n            ];\n            setMessages(updatedMessages);\n            const extractedInfo = extractBusinessInfo(updatedMessages);\n            setBusinessInfo(extractedInfo);\n            if (shouldShowLeadCapture(updatedMessages)) {\n                if (!extractedInfo.summary) {\n                    const summary = generateSummary(extractedInfo);\n                    setBusinessInfo({\n                        ...extractedInfo,\n                        summary\n                    });\n                }\n                setPhase(\"capture\");\n            }\n        } catch (e) {\n            const message = e instanceof Error ? e.message : \"Something went wrong. Please try again.\";\n            setError(message);\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: uid(),\n                        role: \"assistant\",\n                        content: \"Something didn't go through. Can we try that once more?\"\n                    }\n                ]);\n        } finally{\n            setLoading(false);\n        }\n    }\n    function generateSummary(info) {\n        const parts = [];\n        if (info.businessType) {\n            const businessType = info.businessType.toLowerCase().includes(\"business\") ? info.businessType : \"\".concat(info.businessType, \" business\");\n            parts.push(\"• You run a \".concat(businessType, \".\"));\n        }\n        if (info.contactMethod) {\n            parts.push(\"• Customers reach you via \".concat(info.contactMethod, \".\"));\n        }\n        if (info.mainChallenge) {\n            parts.push(\"• Your main challenge is \".concat(info.mainChallenge, \".\"));\n        }\n        if (info.website) {\n            if (info.website.toLowerCase().includes(\"yes\") || info.website.includes(\"http\")) {\n                parts.push(\"• You have a website\".concat(info.website.includes(\"http\") ? \" (\".concat(info.website, \")\") : \"\", \".\"));\n            } else {\n                parts.push(\"• You don't have a website yet.\");\n            }\n        }\n        return parts.join(\"\\n\");\n    }\n    async function handleLeadSubmit(e) {\n        e.preventDefault();\n        if (!leadName.trim() || !leadEmail.trim() && !leadPhone.trim() || phase === \"submitting\" || phase === \"done\") return;\n        setPhase(\"submitting\");\n        setError(\"\");\n        const finalSummary = businessInfo.summary || generateSummary(businessInfo);\n        const savingMessage = {\n            id: uid(),\n            role: \"assistant\",\n            content: \"Saving this… one second ⏳\"\n        };\n        setMessages((prev)=>[\n                ...prev,\n                savingMessage\n            ]);\n        try {\n            const leadRes = await fetch(\"/api/leads\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    name: leadName.trim(),\n                    email: leadEmail.trim() || undefined,\n                    phone: leadPhone.trim() || undefined,\n                    businessType: businessInfo.businessType || \"\",\n                    contactMethod: businessInfo.contactMethod || \"\",\n                    mainChallenge: businessInfo.mainChallenge || \"\",\n                    website: businessInfo.website || \"\",\n                    aiSummary: finalSummary,\n                    source: voiceCallActive ? \"Intervieway Website Chatbot - Voice\" : \"Intervieway Website Chatbot\"\n                })\n            });\n            if (!leadRes.ok) {\n                throw new Error(\"Lead save failed\");\n            }\n            const successMessage = {\n                id: uid(),\n                role: \"assistant\",\n                content: \"All set \\uD83D\\uDC4D We've shared this with the team.\\n\\nYour details are only shared with the Intervieway team. No spam.\"\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    successMessage\n                ]);\n            setPhase(\"done\");\n        } catch (e) {\n            const failMessage = {\n                id: uid(),\n                role: \"assistant\",\n                content: \"Something didn't go through — let's try once more.\"\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    failMessage\n                ]);\n            setPhase(\"capture\");\n        }\n    }\n    const chatDisabled = loading || phase !== \"chat\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            id: \"chat\",\n            className: \"fixed bottom-4 right-4 z-40 flex flex-col items-end gap-3 md:bottom-6 md:right-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"rounded-full bg-emerald-600 px-5 py-3.5 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200 active:scale-95 touch-manipulation\",\n                    onClick: ()=>{\n                        if (open) {\n                            setOpen(false);\n                            // Clear hash to prevent reopening\n                            if (window.location.hash === \"#chat\") {\n                                window.history.replaceState(null, \"\", window.location.pathname);\n                            }\n                        } else {\n                            setOpen(true);\n                        }\n                    },\n                    \"aria-label\": open ? \"Close chat\" : \"Open chat\",\n                    children: open ? \"Close\" : \"Chat\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 9\n                }, this),\n                open && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex h-[calc(100vh-2rem)] w-[calc(100vw-2rem)] max-w-[420px] flex-col rounded-2xl border-2 border-slate-200 bg-white shadow-2xl sm:h-[600px] sm:w-[420px]\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex shrink-0 items-center justify-between border-b-2 border-slate-100 bg-gradient-to-r from-emerald-50 to-white px-4 py-3 sm:px-5 sm:py-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-base font-bold text-slate-900 sm:text-lg\",\n                                            children: \"Intervieway Assistant\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 639,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-slate-600 sm:text-sm\",\n                                            children: voiceCallActive ? \"Voice call active\" : \"Online now\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 638,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        voiceCallActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>{\n                                                if (vapiRef.current) {\n                                                    vapiRef.current.stop();\n                                                }\n                                                setVoiceCallActive(false);\n                                                setPhase(\"capture\");\n                                            },\n                                            className: \"flex h-10 w-10 items-center justify-center rounded-full border-2 border-rose-200 bg-rose-50 text-rose-700 transition hover:border-rose-300 hover:bg-rose-100 active:scale-95 touch-manipulation sm:h-9 sm:w-9\",\n                                            \"aria-label\": \"End call\",\n                                            title: \"End call\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                className: \"h-5 w-5 sm:h-4 sm:w-4\",\n                                                \"aria-hidden\": true\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 661,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 648,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            href: \"https://wa.me/916303011316\",\n                                            target: \"_blank\",\n                                            rel: \"noreferrer\",\n                                            className: \"flex h-10 w-10 items-center justify-center rounded-full border-2 border-emerald-200 bg-white text-emerald-700 transition hover:bg-emerald-50 active:scale-95 touch-manipulation sm:h-9 sm:w-9\",\n                                            \"aria-label\": \"Chat on WhatsApp\",\n                                            title: \"Chat on WhatsApp\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                className: \"h-5 w-5 sm:h-4 sm:w-4\",\n                                                \"aria-hidden\": true\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 664,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: resetChat,\n                                            className: \"flex h-10 w-10 items-center justify-center rounded-full border-2 border-slate-200 text-slate-700 transition hover:border-emerald-200 hover:bg-emerald-50 hover:text-emerald-700 active:scale-95 touch-manipulation sm:h-9 sm:w-9\",\n                                            \"aria-label\": \"Restart chat\",\n                                            title: \"Restart chat\",\n                                            disabled: loading,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                className: \"h-5 w-5 sm:h-4 sm:w-4\",\n                                                \"aria-hidden\": true\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 685,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 677,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>{\n                                                // End call if active when closing\n                                                if (voiceCallActive && vapiRef.current) {\n                                                    vapiRef.current.stop();\n                                                }\n                                                setOpen(false);\n                                                // Clear hash to prevent reopening\n                                                if (window.location.hash === \"#chat\") {\n                                                    window.history.replaceState(null, \"\", window.location.pathname);\n                                                }\n                                            },\n                                            className: \"flex h-10 w-10 items-center justify-center rounded-full border-2 border-slate-200 text-slate-700 transition hover:border-rose-200 hover:bg-rose-50 hover:text-rose-700 active:scale-95 touch-manipulation sm:h-9 sm:w-9\",\n                                            \"aria-label\": \"Close chat\",\n                                            title: \"Close chat\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                className: \"h-5 w-5 sm:h-5 sm:w-5\",\n                                                \"aria-hidden\": true\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 704,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 687,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 646,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                            lineNumber: 637,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: chatRef,\n                            className: \"flex flex-1 flex-col gap-5 overflow-y-auto bg-gradient-to-b from-slate-50 to-white px-4 py-5 sm:px-5 sm:gap-4\",\n                            style: {\n                                scrollBehavior: \"smooth\"\n                            },\n                            children: [\n                                messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[85%] whitespace-pre-line rounded-2xl px-4 py-3 text-[15px] leading-relaxed shadow-sm sm:text-base \".concat(message.role === \"user\" ? \"bg-emerald-600 text-white\" : \"bg-white text-slate-900 border-2 border-slate-200\"),\n                                            children: message.content\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 722,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, message.id, false, {\n                                        fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 716,\n                                        columnNumber: 17\n                                    }, this)),\n                                loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-start\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center gap-2 rounded-2xl border-2 border-emerald-200 bg-white px-4 py-2.5 text-sm text-slate-700 shadow-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"h-2 w-2 animate-pulse rounded-full bg-emerald-500\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 736,\n                                                columnNumber: 21\n                                            }, this),\n                                            phase === \"voice\" ? \"Starting voice call…\" : \"Typing…\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 735,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 734,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                            lineNumber: 710,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"shrink-0 border-t-2 border-slate-100 bg-slate-50 px-4 py-4 sm:px-5 sm:py-4\",\n                            children: [\n                                phase === \"choice\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-center text-base font-semibold text-slate-900\",\n                                            children: \"How would you like to share your requirement?\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 748,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: handleTypeChoice,\n                                                    className: \"flex items-center justify-center gap-3 rounded-xl border-2 border-emerald-300 bg-white px-5 py-4 text-base font-semibold text-emerald-700 transition hover:border-emerald-400 hover:bg-emerald-50 active:scale-95 touch-manipulation\",\n                                                    disabled: loading,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                            className: \"h-5 w-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 758,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"\\uD83D\\uDCAC Type (Quick chat)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 759,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 752,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: handleStartVoice,\n                                                    className: \"flex items-center justify-center gap-3 rounded-xl border-2 border-blue-300 bg-white px-5 py-4 text-base font-semibold text-blue-700 transition hover:border-blue-400 hover:bg-blue-50 active:scale-95 touch-manipulation\",\n                                                    disabled: loading,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MessageCircle_Mic_PhoneOff_RefreshCw_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"h-5 w-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 767,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"\\uD83C\\uDF99️ Talk (Fastest – under 1 minute)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 768,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 761,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 751,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 747,\n                                    columnNumber: 17\n                                }, this),\n                                phase === \"chat\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        showQuickReplies && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-wrap gap-2\",\n                                            children: QUICK_REPLIES.map((reply)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>{\n                                                        setShowQuickReplies(false);\n                                                        void sendMessage(reply);\n                                                    },\n                                                    className: \"rounded-full border-2 border-emerald-300 bg-white px-4 py-2.5 text-sm font-medium text-emerald-700 transition hover:border-emerald-400 hover:bg-emerald-50 active:scale-95 touch-manipulation disabled:opacity-50\",\n                                                    disabled: chatDisabled,\n                                                    children: reply\n                                                }, reply, false, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 780,\n                                                    columnNumber: 25\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 778,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                            className: \"flex items-end gap-2\",\n                                            onSubmit: (e)=>{\n                                                e.preventDefault();\n                                                if (chatDisabled) return;\n                                                void sendMessage(input);\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    ref: inputRef,\n                                                    className: \"flex-1 min-w-0 rounded-xl border-2 border-slate-300 bg-white px-4 py-3.5 text-base text-slate-900 placeholder-slate-500 outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200 touch-manipulation\",\n                                                    placeholder: \"Type your message…\",\n                                                    value: input,\n                                                    onChange: (e)=>setInput(e.target.value),\n                                                    disabled: chatDisabled,\n                                                    autoComplete: \"off\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 804,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"submit\",\n                                                    className: \"shrink-0 rounded-xl bg-emerald-600 px-5 py-3.5 text-base font-bold text-white shadow-md shadow-emerald-500/30 transition hover:bg-emerald-500 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 touch-manipulation\",\n                                                    disabled: chatDisabled || !input.trim(),\n                                                    children: \"Send\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 813,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 796,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 776,\n                                    columnNumber: 17\n                                }, this),\n                                phase === \"voice\" && !voiceCallActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-slate-600\",\n                                            children: \"Preparing voice call…\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 827,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-slate-500\",\n                                            children: \"Please allow microphone access when prompted.\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 830,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 826,\n                                    columnNumber: 17\n                                }, this),\n                                phase === \"voice\" && voiceCallActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm font-semibold text-slate-900\",\n                                            children: \"\\uD83C\\uDF99️ Voice call is active\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 838,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-slate-600\",\n                                            children: \"Speak naturally. The conversation transcript will appear here.\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 841,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>{\n                                                if (vapiRef.current) {\n                                                    vapiRef.current.stop();\n                                                }\n                                                setPhase(\"capture\");\n                                            },\n                                            className: \"w-full rounded-xl bg-rose-600 px-4 py-3.5 text-base font-bold text-white shadow-md shadow-rose-500/30 transition hover:bg-rose-500 active:scale-95 touch-manipulation\",\n                                            children: \"End call and continue\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 844,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 837,\n                                    columnNumber: 17\n                                }, this),\n                                (phase === \"capture\" || phase === \"submitting\" || phase === \"done\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                    className: \"space-y-4 text-sm text-slate-800\",\n                                    onSubmit: handleLeadSubmit,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-slate-700 bg-emerald-50 border-2 border-emerald-200 rounded-xl px-4 py-3 leading-relaxed\",\n                                            children: \"Can I send this information to you on email or WhatsApp?\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 867,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block text-sm font-bold text-slate-900\",\n                                                    children: [\n                                                        \"Name \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-rose-600\",\n                                                            children: \"*\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 872,\n                                                            columnNumber: 28\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 871,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"w-full rounded-xl border-2 border-slate-300 bg-white px-4 py-3.5 text-base text-slate-900 outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200 touch-manipulation\",\n                                                    placeholder: \"Your name\",\n                                                    value: leadName,\n                                                    onChange: (e)=>setLeadName(e.target.value),\n                                                    required: true,\n                                                    disabled: phase === \"submitting\" || phase === \"done\",\n                                                    autoComplete: \"name\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 874,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 870,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block text-sm font-bold text-slate-900\",\n                                                    children: [\n                                                        \"Email or WhatsApp \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-rose-600\",\n                                                            children: \"*\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 886,\n                                                            columnNumber: 41\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 885,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"w-full rounded-xl border-2 border-slate-300 bg-white px-4 py-3.5 text-base text-slate-900 outline-none transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200 touch-manipulation\",\n                                                    type: \"text\",\n                                                    placeholder: \"your@email.com or your WhatsApp number\",\n                                                    value: leadEmail || leadPhone,\n                                                    onChange: (e)=>{\n                                                        const value = e.target.value;\n                                                        if (value.includes(\"@\")) {\n                                                            setLeadEmail(value);\n                                                            setLeadPhone(\"\");\n                                                        } else {\n                                                            setLeadPhone(value);\n                                                            setLeadEmail(\"\");\n                                                        }\n                                                    },\n                                                    required: true,\n                                                    disabled: phase === \"submitting\" || phase === \"done\",\n                                                    autoComplete: \"email tel\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 888,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 884,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"submit\",\n                                            className: \"w-full rounded-xl bg-emerald-600 px-4 py-4 text-base font-bold text-white shadow-md shadow-emerald-500/30 transition hover:bg-emerald-500 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 touch-manipulation\",\n                                            disabled: phase === \"submitting\" || phase === \"done\" || !leadName.trim() || !leadEmail.trim() && !leadPhone.trim(),\n                                            children: phase === \"submitting\" ? \"Sending...\" : \"Send to Intervieway team\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 908,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-slate-500 text-center leading-relaxed\",\n                                            children: \"Your details are only shared with the Intervieway team. No spam.\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 922,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 863,\n                                    columnNumber: 17\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 rounded-xl bg-rose-50 border-2 border-rose-200 px-4 py-3 text-sm font-semibold text-rose-700\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 930,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                            lineNumber: 744,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 635,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\sunto\\\\OneDrive\\\\Desktop\\\\projects\\\\intervieway\\\\components\\\\ChatWidget.tsx\",\n            lineNumber: 612,\n            columnNumber: 7\n        }, this)\n    }, void 0, false);\n}\n_s(ChatWidget, \"lrSD6smRLzVvMzRt0aGkR970Me8=\");\n_c = ChatWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatWidget\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2hhdFdpZGdldC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUN0QjtBQUNwQjtBQWtCaEMsTUFBTVMsZ0JBQWdCO0lBQUM7SUFBVTtJQUFZO0lBQWU7Q0FBZ0I7QUFFNUUsU0FBU0M7SUFDUCxPQUFPQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxLQUFLLENBQUM7QUFDMUM7QUFNZSxTQUFTQztRQUFXLEVBQUVDLFdBQVcsRUFBbUIsR0FBaEMsaUVBQW1DLENBQUM7O0lBQ3JFLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNZLFVBQVVDLFlBQVksR0FBR2IsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDYyxPQUFPQyxTQUFTLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ2dCLFNBQVNDLFdBQVcsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2tCLE9BQU9DLFNBQVMsR0FBR25CLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ29CLE9BQU9DLFNBQVMsR0FBR3JCLCtDQUFRQSxDQUFRO0lBQzFDLE1BQU0sQ0FBQ3NCLFVBQVVDLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3dCLFdBQVdDLGFBQWEsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzBCLFdBQVdDLGFBQWEsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzRCLGNBQWNDLGdCQUFnQixHQUFHN0IsK0NBQVFBLENBQWUsQ0FBQztJQUNoRSxNQUFNLENBQUM4QixrQkFBa0JDLG9CQUFvQixHQUFHL0IsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDZ0MsaUJBQWlCQyxtQkFBbUIsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1rQyxVQUFVbkMsNkNB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Q0MsOERBQUMySTtvQ0FBSUMsV0FBVTs4Q0FDWjVJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU25CO0dBMzRCd0JWO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQ2hhdFdpZGdldC50c3g/NDg3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IE1lc3NhZ2VDaXJjbGUsIE1pYywgUGhvbmVPZmYsIFJlZnJlc2hDdywgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBWYXBpIGZyb20gXCJAdmFwaS1haS93ZWJcIjtcclxuXHJcbnR5cGUgQ2hhdE1lc3NhZ2UgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCI7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBQaGFzZSA9IFwiY2hvaWNlXCIgfCBcImNoYXRcIiB8IFwidm9pY2VcIiB8IFwiY2FwdHVyZVwiIHwgXCJzdWJtaXR0aW5nXCIgfCBcImRvbmVcIjtcclxuXHJcbnR5cGUgQnVzaW5lc3NJbmZvID0ge1xyXG4gIGJ1c2luZXNzVHlwZT86IHN0cmluZztcclxuICBjb250YWN0TWV0aG9kPzogc3RyaW5nO1xyXG4gIG1haW5DaGFsbGVuZ2U/OiBzdHJpbmc7XHJcbiAgd2Vic2l0ZT86IHN0cmluZztcclxuICBzdW1tYXJ5Pzogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgUVVJQ0tfUkVQTElFUyA9IFtcIkNsaW5pY1wiLCBcIkNvYWNoaW5nXCIsIFwiUmVhbCBFc3RhdGVcIiwgXCJMb2NhbCBTZXJ2aWNlXCJdO1xyXG5cclxuZnVuY3Rpb24gdWlkKCkge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcclxufVxyXG5cclxuaW50ZXJmYWNlIENoYXRXaWRnZXRQcm9wcyB7XHJcbiAgaW5pdGlhbE1vZGU/OiBcInR5cGVcIiB8IFwidm9pY2VcIjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFdpZGdldCh7IGluaXRpYWxNb2RlIH06IENoYXRXaWRnZXRQcm9wcyA9IHt9KSB7XHJcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3BoYXNlLCBzZXRQaGFzZV0gPSB1c2VTdGF0ZTxQaGFzZT4oXCJjaG9pY2VcIik7XHJcbiAgY29uc3QgW2xlYWROYW1lLCBzZXRMZWFkTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbbGVhZEVtYWlsLCBzZXRMZWFkRW1haWxdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW2xlYWRQaG9uZSwgc2V0TGVhZFBob25lXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtidXNpbmVzc0luZm8sIHNldEJ1c2luZXNzSW5mb10gPSB1c2VTdGF0ZTxCdXNpbmVzc0luZm8+KHt9KTtcclxuICBjb25zdCBbc2hvd1F1aWNrUmVwbGllcywgc2V0U2hvd1F1aWNrUmVwbGllc10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3ZvaWNlQ2FsbEFjdGl2ZSwgc2V0Vm9pY2VDYWxsQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBjaGF0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcclxuICBjb25zdCB2YXBpUmVmID0gdXNlUmVmPFZhcGkgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBWQVBJIGluc3RhbmNlIGFuZCBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHB1YmxpY0FwaUtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1ZBUElfUFVCTElDX0FQSV9LRVk7XHJcblxyXG4gICAgaWYgKCFwdWJsaWNBcGlLZXkpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiVkFQSSBwdWJsaWMgQVBJIGtleSBub3QgY29uZmlndXJlZFwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemUgVkFQSSBpbnN0YW5jZSBpZiBub3QgYWxyZWFkeSBpbml0aWFsaXplZFxyXG4gICAgaWYgKCF2YXBpUmVmLmN1cnJlbnQpIHtcclxuICAgICAgdmFwaVJlZi5jdXJyZW50ID0gbmV3IFZhcGkocHVibGljQXBpS2V5KTtcclxuXHJcbiAgICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgdmFwaVJlZi5jdXJyZW50Lm9uKFwiY2FsbC1zdGFydFwiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWxsIHN0YXJ0ZWRcIik7XHJcbiAgICAgICAgc2V0Vm9pY2VDYWxsQWN0aXZlKHRydWUpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNob3cgbWVzc2FnZSBhYm91dCB2b2ljZSBjYWxsXHJcbiAgICAgICAgY29uc3Qgdm9pY2VNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgICAgIGlkOiB1aWQoKSxcclxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgICBjb250ZW50OlxyXG4gICAgICAgICAgICBcIlZvaWNlIGNhbGwgc3RhcnRlZCEg8J+Ome+4j1xcblxcbkknbGwgYXNrIHlvdSAzLTQgcXVpY2sgcXVlc3Rpb25zICh1bmRlciAxIG1pbnV0ZSkuIEFmdGVyIHRoYXQsIEknbGwgYXNrIGZvciB5b3VyIG5hbWUgYW5kIGNvbnRhY3QgZGV0YWlscy5cXG5cXG5TcGVhayBuYXR1cmFsbHnigJRJJ20gbGlzdGVuaW5nIVwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB2b2ljZU1lc3NhZ2VdKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXBpUmVmLmN1cnJlbnQub24oXCJjYWxsLWVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWxsIGVuZGVkXCIpO1xyXG4gICAgICAgIHNldFZvaWNlQ2FsbEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgLy8gU3dpdGNoIHRvIGNhcHR1cmUgcGhhc2UgYWZ0ZXIgY2FsbCBlbmRzXHJcbiAgICAgICAgc2V0UGhhc2UoKGN1cnJlbnRQaGFzZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGN1cnJlbnRQaGFzZSA9PT0gXCJ2b2ljZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcImNhcHR1cmVcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBjdXJyZW50UGhhc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdmFwaVJlZi5jdXJyZW50Lm9uKFwibWVzc2FnZVwiLCAobWVzc2FnZTogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJ0cmFuc2NyaXB0XCIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAke21lc3NhZ2Uucm9sZX06ICR7bWVzc2FnZS50cmFuc2NyaXB0fWApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBBZGQgdHJhbnNjcmlwdCB0byBtZXNzYWdlc1xyXG4gICAgICAgICAgY29uc3QgdHJhbnNjcmlwdE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xyXG4gICAgICAgICAgICBpZDogdWlkKCksXHJcbiAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgPyBcInVzZXJcIiA6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UudHJhbnNjcmlwdCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHRyYW5zY3JpcHRNZXNzYWdlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAvLyBDbGVhbnVwOiBzdG9wIGNhbGwgaWYgYWN0aXZlIHdoZW4gY29tcG9uZW50IHVubW91bnRzXHJcbiAgICAgIGlmICh2YXBpUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgdmFwaVJlZi5jdXJyZW50LnN0b3AoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzIGlmIGNhbGwgaXMgbm90IGFjdGl2ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0Vm9pY2UoKSB7XHJcbiAgICBzZXRQaGFzZShcInZvaWNlXCIpO1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHNldEVycm9yKFwiXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGFzc2lzdGFudElkID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVkFQSV9BU1NJU1RBTlRfSUQ7XHJcblxyXG4gICAgICBpZiAoIWFzc2lzdGFudElkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVm9pY2UgYXNzaXN0YW50IGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LlwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRW5zdXJlIFZBUEkgaXMgaW5pdGlhbGl6ZWQgKHNob3VsZCBiZSBkb25lIGluIHVzZUVmZmVjdCwgYnV0IGNoZWNrIGp1c3QgaW4gY2FzZSlcclxuICAgICAgaWYgKCF2YXBpUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCBwdWJsaWNBcGlLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19WQVBJX1BVQkxJQ19BUElfS0VZO1xyXG4gICAgICAgIGlmICghcHVibGljQXBpS2V5KSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWb2ljZSBhc3Npc3RhbnQgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXBpUmVmLmN1cnJlbnQgPSBuZXcgVmFwaShwdWJsaWNBcGlLZXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTdGFydCB2b2ljZSBjb252ZXJzYXRpb24gKHdlYiBjYWxsIC0gbm8gcGhvbmUgbnVtYmVyIG5lZWRlZClcclxuICAgICAgdmFwaVJlZi5jdXJyZW50LnN0YXJ0KGFzc2lzdGFudElkKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3cgaW5pdGlhbCBtZXNzYWdlXHJcbiAgICAgIGNvbnN0IHZvaWNlTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgaWQ6IHVpZCgpLFxyXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgY29udGVudDpcclxuICAgICAgICAgIFwiU3RhcnRpbmcgdm9pY2UgY2FsbOKApiDwn46Z77iPXFxuXFxuSSdsbCBhc2sgeW91IDMtNCBxdWljayBxdWVzdGlvbnMgKHVuZGVyIDEgbWludXRlKS4gQWZ0ZXIgdGhhdCwgSSdsbCBhc2sgZm9yIHlvdXIgbmFtZSBhbmQgY29udGFjdCBkZXRhaWxzLlxcblxcblNwZWFrIG5hdHVyYWxseeKAlEknbSBsaXN0ZW5pbmchXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHNldE1lc3NhZ2VzKFt2b2ljZU1lc3NhZ2VdKTtcclxuICAgIH0gY2F0Y2ggKGU6IHVua25vd24pIHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9XHJcbiAgICAgICAgZSBpbnN0YW5jZW9mIEVycm9yXHJcbiAgICAgICAgICA/IGUubWVzc2FnZVxyXG4gICAgICAgICAgOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xyXG4gICAgICBzZXRFcnJvcihtZXNzYWdlKTtcclxuICAgICAgc2V0UGhhc2UoXCJjaG9pY2VcIik7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTGlzdGVuIGZvciB2b2ljZSBtb2RlIHRyaWdnZXIgZnJvbSBIZXJvIGJ1dHRvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVWb2ljZU1vZGUgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChvcGVuKSB7XHJcbiAgICAgICAgLy8gSWYgY2hhdCBpcyBvcGVuIGFuZCBpbiBjaG9pY2UgcGhhc2UsIHN0YXJ0IHZvaWNlXHJcbiAgICAgICAgaWYgKHBoYXNlID09PSBcImNob2ljZVwiKSB7XHJcbiAgICAgICAgICBoYW5kbGVTdGFydFZvaWNlKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwaGFzZSA9PT0gXCJjaGF0XCIpIHtcclxuICAgICAgICAgIC8vIElmIGFscmVhZHkgaW4gY2hhdCwgc3dpdGNoIHRvIHZvaWNlXHJcbiAgICAgICAgICBoYW5kbGVTdGFydFZvaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RhcnRWb2ljZU1vZGVcIiwgaGFuZGxlVm9pY2VNb2RlKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RhcnRWb2ljZU1vZGVcIiwgaGFuZGxlVm9pY2VNb2RlKTtcclxuICAgIH07XHJcbiAgfSwgW29wZW4sIHBoYXNlXSk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgd2hlbiBjaGF0IG9wZW5zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvcGVuICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpZiAoaW5pdGlhbE1vZGUgPT09IFwidm9pY2VcIikge1xyXG4gICAgICAgIC8vIEF1dG8tc3RhcnQgdm9pY2UgbW9kZVxyXG4gICAgICAgIGhhbmRsZVN0YXJ0Vm9pY2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBTaG93IGNob2ljZSBzY3JlZW5cclxuICAgICAgICBzZXRQaGFzZShcImNob2ljZVwiKTtcclxuICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbb3BlbiwgbWVzc2FnZXMubGVuZ3RoLCBpbml0aWFsTW9kZV0pO1xyXG5cclxuICAvLyBEaXNwYXRjaCBldmVudHMgd2hlbiBjaGF0IG9wZW5zL2Nsb3Nlc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAob3Blbikge1xyXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGF0V2lkZ2V0T3BlbmVkXCIpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYXRXaWRnZXRDbG9zZWRcIikpO1xyXG4gICAgfVxyXG4gIH0sIFtvcGVuXSk7XHJcblxyXG4gIC8vIENoZWNrIGlmIHdlIHNob3VsZCBzaG93IHF1aWNrIHJlcGxpZXMgKHdoZW4gYXNraW5nIGFib3V0IGJ1c2luZXNzIHR5cGUpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChwaGFzZSAhPT0gXCJjaGF0XCIgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHNldFNob3dRdWlja1JlcGxpZXMoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcclxuICAgIGlmIChsYXN0TWVzc2FnZT8ucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xyXG4gICAgICBjb25zdCBjb250ZW50ID0gbGFzdE1lc3NhZ2UuY29udGVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBjb25zdCB1c2VyTWVzc2FnZUNvdW50ID0gbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnJvbGUgPT09IFwidXNlclwiKS5sZW5ndGg7XHJcblxyXG4gICAgICBjb25zdCBpc0Fza2luZ0J1c2luZXNzVHlwZSA9XHJcbiAgICAgICAgKGNvbnRlbnQuaW5jbHVkZXMoXCJ0eXBlIG9mIGJ1c2luZXNzXCIpIHx8XHJcbiAgICAgICAgICBjb250ZW50LmluY2x1ZGVzKFwid2hhdCBraW5kIG9mIGJ1c2luZXNzXCIpIHx8XHJcbiAgICAgICAgICBjb250ZW50LmluY2x1ZGVzKFwid2hhdCBidXNpbmVzc1wiKSB8fFxyXG4gICAgICAgICAgY29udGVudC5pbmNsdWRlcyhcImJ1c2luZXNzIGRvIHlvdVwiKSB8fFxyXG4gICAgICAgICAgY29udGVudC5pbmNsdWRlcyhcImJ1c2luZXNzIHlvdSBydW5cIikpICYmXHJcbiAgICAgICAgdXNlck1lc3NhZ2VDb3VudCA9PT0gMDtcclxuXHJcbiAgICAgIHNldFNob3dRdWlja1JlcGxpZXMoaXNBc2tpbmdCdXNpbmVzc1R5cGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0U2hvd1F1aWNrUmVwbGllcyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW21lc3NhZ2VzLCBwaGFzZV0pO1xyXG5cclxuICBmdW5jdGlvbiByZXNldENoYXQoKSB7XHJcbiAgICAvLyBTdG9wIGFjdGl2ZSB2b2ljZSBjYWxsIGlmIGFueVxyXG4gICAgaWYgKHZhcGlSZWYuY3VycmVudCAmJiB2b2ljZUNhbGxBY3RpdmUpIHtcclxuICAgICAgdmFwaVJlZi5jdXJyZW50LnN0b3AoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0TWVzc2FnZXMoW10pO1xyXG4gICAgc2V0SW5wdXQoXCJcIik7XHJcbiAgICBzZXRFcnJvcihcIlwiKTtcclxuICAgIHNldFBoYXNlKFwiY2hvaWNlXCIpO1xyXG4gICAgc2V0TGVhZE5hbWUoXCJcIik7XHJcbiAgICBzZXRMZWFkRW1haWwoXCJcIik7XHJcbiAgICBzZXRMZWFkUGhvbmUoXCJcIik7XHJcbiAgICBzZXRCdXNpbmVzc0luZm8oe30pO1xyXG4gICAgc2V0U2hvd1F1aWNrUmVwbGllcyhmYWxzZSk7XHJcbiAgICBzZXRWb2ljZUNhbGxBY3RpdmUoZmFsc2UpO1xyXG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVUeXBlQ2hvaWNlKCkge1xyXG4gICAgc2V0UGhhc2UoXCJjaGF0XCIpO1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHNldEVycm9yKFwiXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIExldCBBSSBnZW5lcmF0ZSB0aGUgd2VsY29tZSBtZXNzYWdlXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9jaGF0XCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBtZXNzYWdlczogW10sXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVhY2ggdGhlIGNoYXRib3QgcmlnaHQgbm93LlwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXMuanNvbigpKSBhcyB7IHJlcGx5Pzogc3RyaW5nIH07XHJcbiAgICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlID1cclxuICAgICAgICBkYXRhLnJlcGx5Py50cmltKCkgfHxcclxuICAgICAgICBcIkhpIPCfkYsgTG9va2luZyBmb3IgaGVscCBvciBwcmljaW5nPyBJIGNhbiBhc3Npc3QgeW91IGluIHVuZGVyIDEgbWludXRlLlwiO1xyXG5cclxuICAgICAgY29uc3Qgd2VsY29tZTogQ2hhdE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgaWQ6IHVpZCgpLFxyXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgY29udGVudDogd2VsY29tZU1lc3NhZ2UsXHJcbiAgICAgIH07XHJcbiAgICAgIHNldE1lc3NhZ2VzKFt3ZWxjb21lXSk7XHJcbiAgICB9IGNhdGNoIChlOiB1bmtub3duKSB7XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBtZXNzYWdlIG9uIGVycm9yXHJcbiAgICAgIGNvbnN0IHdlbGNvbWU6IENoYXRNZXNzYWdlID0ge1xyXG4gICAgICAgIGlkOiB1aWQoKSxcclxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxyXG4gICAgICAgIGNvbnRlbnQ6XHJcbiAgICAgICAgICBcIkhpIPCfkYsgTG9va2luZyBmb3IgaGVscCBvciBwcmljaW5nPyBJIGNhbiBhc3Npc3QgeW91IGluIHVuZGVyIDEgbWludXRlLlwiLFxyXG4gICAgICB9O1xyXG4gICAgICBzZXRNZXNzYWdlcyhbd2VsY29tZV0pO1xyXG4gICAgICBzZXRFcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0LiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRXh0cmFjdCBidXNpbmVzcyBpbmZvcm1hdGlvbiBmcm9tIGNvbnZlcnNhdGlvblxyXG4gIGZ1bmN0aW9uIGV4dHJhY3RCdXNpbmVzc0luZm8obWVzc2FnZXM6IENoYXRNZXNzYWdlW10pOiBCdXNpbmVzc0luZm8ge1xyXG4gICAgY29uc3QgaW5mbzogQnVzaW5lc3NJbmZvID0ge307XHJcbiAgICBjb25zdCB1c2VyTWVzc2FnZXMgPSBtZXNzYWdlc1xyXG4gICAgICAuZmlsdGVyKChtKSA9PiBtLnJvbGUgPT09IFwidXNlclwiKVxyXG4gICAgICAubWFwKChtKSA9PiBtLmNvbnRlbnQudHJpbSgpKVxyXG4gICAgICAuZmlsdGVyKChtKSA9PiBtLmxlbmd0aCA+IDApO1xyXG5cclxuICAgIGlmICh1c2VyTWVzc2FnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBmaXJzdEFuc3dlciA9IHVzZXJNZXNzYWdlc1swXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGZpcnN0QW5zd2VyLmxlbmd0aCA+IDUgJiZcclxuICAgICAgICAhZmlyc3RBbnN3ZXIudG9Mb3dlckNhc2UoKS5tYXRjaCgvXih5ZXN8bm98b2t8c3VyZXxhbHJpZ2h0KSQvaSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgaW5mby5idXNpbmVzc1R5cGUgPSBmaXJzdEFuc3dlcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh1c2VyTWVzc2FnZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICBjb25zdCBzZWNvbmRBbnN3ZXIgPSB1c2VyTWVzc2FnZXNbMV07XHJcbiAgICAgIGlmIChcclxuICAgICAgICBzZWNvbmRBbnN3ZXIubGVuZ3RoID4gMyAmJlxyXG4gICAgICAgICFzZWNvbmRBbnN3ZXIudG9Mb3dlckNhc2UoKS5tYXRjaCgvXih5ZXN8bm98b2t8c3VyZXxhbHJpZ2h0KSQvaSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgaW5mby5jb250YWN0TWV0aG9kID0gc2Vjb25kQW5zd2VyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVzZXJNZXNzYWdlcy5sZW5ndGggPiAyKSB7XHJcbiAgICAgIGNvbnN0IHRoaXJkQW5zd2VyID0gdXNlck1lc3NhZ2VzWzJdO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcmRBbnN3ZXIubGVuZ3RoID4gMyAmJlxyXG4gICAgICAgICF0aGlyZEFuc3dlci50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eKHllc3xub3xva3xzdXJlfGFscmlnaHQpJC9pKVxyXG4gICAgICApIHtcclxuICAgICAgICBpbmZvLm1haW5DaGFsbGVuZ2UgPSB0aGlyZEFuc3dlcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh1c2VyTWVzc2FnZXMubGVuZ3RoID4gMykge1xyXG4gICAgICBjb25zdCBmb3VydGhBbnN3ZXIgPSB1c2VyTWVzc2FnZXNbM107XHJcbiAgICAgIGlmIChcclxuICAgICAgICBmb3VydGhBbnN3ZXIuaW5jbHVkZXMoXCJodHRwXCIpIHx8XHJcbiAgICAgICAgZm91cnRoQW5zd2VyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ5ZXNcIikgfHxcclxuICAgICAgICBmb3VydGhBbnN3ZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm5vXCIpIHx8XHJcbiAgICAgICAgZm91cnRoQW5zd2VyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJkb24ndFwiKSB8fFxyXG4gICAgICAgIGZvdXJ0aEFuc3dlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZG8gbm90XCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGluZm8ud2Vic2l0ZSA9IGZvdXJ0aEFuc3dlcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpO1xyXG4gICAgZm9yIChsZXQgaSA9IGFzc2lzdGFudE1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGNvbnN0IG1zZyA9IGFzc2lzdGFudE1lc3NhZ2VzW2ldO1xyXG4gICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLigKJcIikgfHwgbXNnLmNvbnRlbnQuaW5jbHVkZXMoXCJzdW1tYXJ5XCIpKSB7XHJcbiAgICAgICAgaW5mby5zdW1tYXJ5ID0gbXNnLmNvbnRlbnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5mbztcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGNvbnZlcnNhdGlvbiBpcyByZWFkeSBmb3IgbGVhZCBjYXB0dXJlXHJcbiAgZnVuY3Rpb24gc2hvdWxkU2hvd0xlYWRDYXB0dXJlKG1lc3NhZ2VzOiBDaGF0TWVzc2FnZVtdKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKCFsYXN0TWVzc2FnZSB8fCBsYXN0TWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IGxhc3RNZXNzYWdlLmNvbnRlbnQudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IHVzZXJNZXNzYWdlQ291bnQgPSBtZXNzYWdlcy5maWx0ZXIoKG0pID0+IG0ucm9sZSA9PT0gXCJ1c2VyXCIpLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCBoYXNTdW1tYXJ5U2lnbmFsID1cclxuICAgICAgY29udGVudC5pbmNsdWRlcyhcImNvbnRhY3QgZGV0YWlsc1wiKSB8fFxyXG4gICAgICBjb250ZW50LmluY2x1ZGVzKFwic2hhcmUgdGhpcyB3aXRoXCIpIHx8XHJcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoXCJnZXQgeW91clwiKSB8fFxyXG4gICAgICBjb250ZW50LmluY2x1ZGVzKFwiY2FuIGkgZ2V0XCIpIHx8XHJcbiAgICAgIChjb250ZW50LmluY2x1ZGVzKFwic3VtbWFyeVwiKSAmJiBjb250ZW50LmluY2x1ZGVzKFwi4oCiXCIpKTtcclxuXHJcbiAgICBjb25zdCBoYXNFbm91Z2hBbnN3ZXJzID0gdXNlck1lc3NhZ2VDb3VudCA+PSA0O1xyXG5cclxuICAgIHJldHVybiBoYXNTdW1tYXJ5U2lnbmFsICYmIGhhc0Vub3VnaEFuc3dlcnM7XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG9wZW4gJiYgY2hhdFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNoYXRSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBjaGF0UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgfVxyXG4gIH0sIFttZXNzYWdlcywgb3Blbiwgc2hvd1F1aWNrUmVwbGllc10pO1xyXG5cclxuICAvLyBGb2N1cyBpbnB1dCB3aGVuIGNoYXQgb3BlbnMgb24gbW9iaWxlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvcGVuICYmIHBoYXNlID09PSBcImNoYXRcIiAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcbiAgfSwgW29wZW4sIHBoYXNlXSk7XHJcblxyXG4gIC8vIEF1dG8tb3BlbiBjaGF0IHdoZW4gI2NoYXQgYW5jaG9yIGlzIGNsaWNrZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlSGFzaENoYW5nZSA9ICgpID0+IHtcclxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSBcIiNjaGF0XCIgJiYgIW9wZW4pIHtcclxuICAgICAgICBzZXRPcGVuKHRydWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoICE9PSBcIiNjaGF0XCIgJiYgb3Blbikge1xyXG4gICAgICAgIC8vIElmIGhhc2ggaXMgcmVtb3ZlZCB3aGlsZSBjaGF0IGlzIG9wZW4sIGRvbid0IGNsb3NlIGl0XHJcbiAgICAgICAgLy8gT25seSBjbG9zZSBpZiB1c2VyIGV4cGxpY2l0bHkgY2xvc2VzIGl0XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgb24gbW91bnRcclxuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gXCIjY2hhdFwiICYmICFvcGVuKSB7XHJcbiAgICAgIHNldE9wZW4odHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGlzdGVuIGZvciBoYXNoIGNoYW5nZXNcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCBoYW5kbGVIYXNoQ2hhbmdlKTtcclxuICAgIC8vIEFsc28gY2hlY2sgY2xpY2tzIG9uIGxpbmtzIHdpdGggI2NoYXRcclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSB0YXJnZXQuY2xvc2VzdCgnYVtocmVmPVwiI2NoYXRcIl0nKTtcclxuICAgICAgaWYgKGxpbmsgJiYgIW9wZW4pIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2V0T3Blbih0cnVlKTtcclxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIiwgXCIjY2hhdFwiKTtcclxuICAgICAgICAvLyBTY3JvbGwgdG8gY2hhdCB3aWRnZXRcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNoYXRcIilcclxuICAgICAgICAgICAgPy5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJuZWFyZXN0XCIgfSk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2spO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCBoYW5kbGVIYXNoQ2hhbmdlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrKTtcclxuICAgIH07XHJcbiAgfSwgW29wZW5dKTtcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UodGV4dDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXRleHQgfHwgbG9hZGluZyB8fCBwaGFzZSAhPT0gXCJjaGF0XCIpIHJldHVybjtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcclxuICAgIGlmICghdHJpbW1lZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgaWQ6IHVpZCgpLFxyXG4gICAgICByb2xlOiBcInVzZXJcIixcclxuICAgICAgY29udGVudDogdHJpbW1lZCxcclxuICAgIH07XHJcbiAgICBjb25zdCBuZXh0TWVzc2FnZXM6IENoYXRNZXNzYWdlW10gPSBbLi4ubWVzc2FnZXMsIHVzZXJNZXNzYWdlXTtcclxuICAgIHNldE1lc3NhZ2VzKG5leHRNZXNzYWdlcyk7XHJcbiAgICBzZXRJbnB1dChcIlwiKTtcclxuICAgIHNldEVycm9yKFwiXCIpO1xyXG4gICAgc2V0U2hvd1F1aWNrUmVwbGllcyhmYWxzZSk7XHJcblxyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvY2hhdFwiLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbWVzc2FnZXM6IG5leHRNZXNzYWdlcy5tYXAoKHsgcm9sZSwgY29udGVudCB9KSA9PiAoe1xyXG4gICAgICAgICAgICByb2xlLFxyXG4gICAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgfSkpLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlYWNoIHRoZSBjaGF0Ym90IHJpZ2h0IG5vdy5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSkgYXMgeyByZXBseT86IHN0cmluZyB9O1xyXG4gICAgICBjb25zdCByZXBseSA9XHJcbiAgICAgICAgZGF0YS5yZXBseT8udHJpbSgpIHx8XHJcbiAgICAgICAgXCJHb3QgaXQg4oCUIHRoYXQgaGVscHMuIExldCBtZSBhc2sgeW91IGFub3RoZXIgcXVlc3Rpb24uXCI7XHJcblxyXG4gICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgICBpZDogdWlkKCksXHJcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcclxuICAgICAgICBjb250ZW50OiByZXBseSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IFsuLi5uZXh0TWVzc2FnZXMsIGFzc2lzdGFudE1lc3NhZ2VdO1xyXG4gICAgICBzZXRNZXNzYWdlcyh1cGRhdGVkTWVzc2FnZXMpO1xyXG5cclxuICAgICAgY29uc3QgZXh0cmFjdGVkSW5mbyA9IGV4dHJhY3RCdXNpbmVzc0luZm8odXBkYXRlZE1lc3NhZ2VzKTtcclxuICAgICAgc2V0QnVzaW5lc3NJbmZvKGV4dHJhY3RlZEluZm8pO1xyXG5cclxuICAgICAgaWYgKHNob3VsZFNob3dMZWFkQ2FwdHVyZSh1cGRhdGVkTWVzc2FnZXMpKSB7XHJcbiAgICAgICAgaWYgKCFleHRyYWN0ZWRJbmZvLnN1bW1hcnkpIHtcclxuICAgICAgICAgIGNvbnN0IHN1bW1hcnkgPSBnZW5lcmF0ZVN1bW1hcnkoZXh0cmFjdGVkSW5mbyk7XHJcbiAgICAgICAgICBzZXRCdXNpbmVzc0luZm8oeyAuLi5leHRyYWN0ZWRJbmZvLCBzdW1tYXJ5IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRQaGFzZShcImNhcHR1cmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGU6IHVua25vd24pIHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9XHJcbiAgICAgICAgZSBpbnN0YW5jZW9mIEVycm9yXHJcbiAgICAgICAgICA/IGUubWVzc2FnZVxyXG4gICAgICAgICAgOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xyXG4gICAgICBzZXRFcnJvcihtZXNzYWdlKTtcclxuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcclxuICAgICAgICAuLi5wcmV2LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiB1aWQoKSxcclxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgICBjb250ZW50OiBcIlNvbWV0aGluZyBkaWRuJ3QgZ28gdGhyb3VnaC4gQ2FuIHdlIHRyeSB0aGF0IG9uY2UgbW9yZT9cIixcclxuICAgICAgICB9LFxyXG4gICAgICBdKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2VuZXJhdGVTdW1tYXJ5KGluZm86IEJ1c2luZXNzSW5mbyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBwYXJ0czogc3RyaW5nW10gPSBbXTtcclxuICAgIGlmIChpbmZvLmJ1c2luZXNzVHlwZSkge1xyXG4gICAgICBjb25zdCBidXNpbmVzc1R5cGUgPSBpbmZvLmJ1c2luZXNzVHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYnVzaW5lc3NcIilcclxuICAgICAgICA/IGluZm8uYnVzaW5lc3NUeXBlXHJcbiAgICAgICAgOiBgJHtpbmZvLmJ1c2luZXNzVHlwZX0gYnVzaW5lc3NgO1xyXG4gICAgICBwYXJ0cy5wdXNoKGDigKIgWW91IHJ1biBhICR7YnVzaW5lc3NUeXBlfS5gKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZvLmNvbnRhY3RNZXRob2QpIHtcclxuICAgICAgcGFydHMucHVzaChg4oCiIEN1c3RvbWVycyByZWFjaCB5b3UgdmlhICR7aW5mby5jb250YWN0TWV0aG9kfS5gKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZvLm1haW5DaGFsbGVuZ2UpIHtcclxuICAgICAgcGFydHMucHVzaChg4oCiIFlvdXIgbWFpbiBjaGFsbGVuZ2UgaXMgJHtpbmZvLm1haW5DaGFsbGVuZ2V9LmApO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZm8ud2Vic2l0ZSkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgaW5mby53ZWJzaXRlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ5ZXNcIikgfHxcclxuICAgICAgICBpbmZvLndlYnNpdGUuaW5jbHVkZXMoXCJodHRwXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHBhcnRzLnB1c2goXHJcbiAgICAgICAgICBg4oCiIFlvdSBoYXZlIGEgd2Vic2l0ZSR7XHJcbiAgICAgICAgICAgIGluZm8ud2Vic2l0ZS5pbmNsdWRlcyhcImh0dHBcIikgPyBgICgke2luZm8ud2Vic2l0ZX0pYCA6IFwiXCJcclxuICAgICAgICAgIH0uYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFydHMucHVzaChg4oCiIFlvdSBkb24ndCBoYXZlIGEgd2Vic2l0ZSB5ZXQuYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwYXJ0cy5qb2luKFwiXFxuXCIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlTGVhZFN1Ym1pdChlOiBSZWFjdC5Gb3JtRXZlbnQpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChcclxuICAgICAgIWxlYWROYW1lLnRyaW0oKSB8fFxyXG4gICAgICAoIWxlYWRFbWFpbC50cmltKCkgJiYgIWxlYWRQaG9uZS50cmltKCkpIHx8XHJcbiAgICAgIHBoYXNlID09PSBcInN1Ym1pdHRpbmdcIiB8fFxyXG4gICAgICBwaGFzZSA9PT0gXCJkb25lXCJcclxuICAgIClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHNldFBoYXNlKFwic3VibWl0dGluZ1wiKTtcclxuICAgIHNldEVycm9yKFwiXCIpO1xyXG5cclxuICAgIGNvbnN0IGZpbmFsU3VtbWFyeSA9IGJ1c2luZXNzSW5mby5zdW1tYXJ5IHx8IGdlbmVyYXRlU3VtbWFyeShidXNpbmVzc0luZm8pO1xyXG5cclxuICAgIGNvbnN0IHNhdmluZ01lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xyXG4gICAgICBpZDogdWlkKCksXHJcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgIGNvbnRlbnQ6IFwiU2F2aW5nIHRoaXPigKYgb25lIHNlY29uZCDij7NcIixcclxuICAgIH07XHJcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHNhdmluZ01lc3NhZ2VdKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBsZWFkUmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2xlYWRzXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lOiBsZWFkTmFtZS50cmltKCksXHJcbiAgICAgICAgICBlbWFpbDogbGVhZEVtYWlsLnRyaW0oKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICBwaG9uZTogbGVhZFBob25lLnRyaW0oKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICBidXNpbmVzc1R5cGU6IGJ1c2luZXNzSW5mby5idXNpbmVzc1R5cGUgfHwgXCJcIixcclxuICAgICAgICAgIGNvbnRhY3RNZXRob2Q6IGJ1c2luZXNzSW5mby5jb250YWN0TWV0aG9kIHx8IFwiXCIsXHJcbiAgICAgICAgICBtYWluQ2hhbGxlbmdlOiBidXNpbmVzc0luZm8ubWFpbkNoYWxsZW5nZSB8fCBcIlwiLFxyXG4gICAgICAgICAgd2Vic2l0ZTogYnVzaW5lc3NJbmZvLndlYnNpdGUgfHwgXCJcIixcclxuICAgICAgICAgIGFpU3VtbWFyeTogZmluYWxTdW1tYXJ5LFxyXG4gICAgICAgICAgc291cmNlOiB2b2ljZUNhbGxBY3RpdmVcclxuICAgICAgICAgICAgPyBcIkludGVydmlld2F5IFdlYnNpdGUgQ2hhdGJvdCAtIFZvaWNlXCJcclxuICAgICAgICAgICAgOiBcIkludGVydmlld2F5IFdlYnNpdGUgQ2hhdGJvdFwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghbGVhZFJlcy5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYWQgc2F2ZSBmYWlsZWRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgICBpZDogdWlkKCksXHJcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcclxuICAgICAgICBjb250ZW50OlxyXG4gICAgICAgICAgXCJBbGwgc2V0IPCfkY0gV2UndmUgc2hhcmVkIHRoaXMgd2l0aCB0aGUgdGVhbS5cXG5cXG5Zb3VyIGRldGFpbHMgYXJlIG9ubHkgc2hhcmVkIHdpdGggdGhlIEludGVydmlld2F5IHRlYW0uIE5vIHNwYW0uXCIsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHN1Y2Nlc3NNZXNzYWdlXSk7XHJcbiAgICAgIHNldFBoYXNlKFwiZG9uZVwiKTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICBjb25zdCBmYWlsTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgaWQ6IHVpZCgpLFxyXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgY29udGVudDogXCJTb21ldGhpbmcgZGlkbid0IGdvIHRocm91Z2gg4oCUIGxldCdzIHRyeSBvbmNlIG1vcmUuXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgZmFpbE1lc3NhZ2VdKTtcclxuICAgICAgc2V0UGhhc2UoXCJjYXB0dXJlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgY2hhdERpc2FibGVkID0gbG9hZGluZyB8fCBwaGFzZSAhPT0gXCJjaGF0XCI7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgaWQ9XCJjaGF0XCJcclxuICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCByaWdodC00IHotNDAgZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTMgbWQ6Ym90dG9tLTYgbWQ6cmlnaHQtNlwiXHJcbiAgICAgID5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC02MDAgcHgtNSBweS0zLjUgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1lbWVyYWxkLTUwMC8zMCB0cmFuc2l0aW9uIGhvdmVyOmJnLWVtZXJhbGQtNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1lbWVyYWxkLTIwMCBhY3RpdmU6c2NhbGUtOTUgdG91Y2gtbWFuaXB1bGF0aW9uXCJcclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgaWYgKG9wZW4pIHtcclxuICAgICAgICAgICAgICBzZXRPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgICAvLyBDbGVhciBoYXNoIHRvIHByZXZlbnQgcmVvcGVuaW5nXHJcbiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSBcIiNjaGF0XCIpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZXRPcGVuKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgYXJpYS1sYWJlbD17b3BlbiA/IFwiQ2xvc2UgY2hhdFwiIDogXCJPcGVuIGNoYXRcIn1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7b3BlbiA/IFwiQ2xvc2VcIiA6IFwiQ2hhdFwifVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICB7b3BlbiAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1bY2FsYygxMDB2aC0ycmVtKV0gdy1bY2FsYygxMDB2dy0ycmVtKV0gbWF4LXctWzQyMHB4XSBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHNoYWRvdy0yeGwgc206aC1bNjAwcHhdIHNtOnctWzQyMHB4XVwiPlxyXG4gICAgICAgICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBib3JkZXItYi0yIGJvcmRlci1zbGF0ZS0xMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLWVtZXJhbGQtNTAgdG8td2hpdGUgcHgtNCBweS0zIHNtOnB4LTUgc206cHktNFwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIHNtOnRleHQtbGdcIj5cclxuICAgICAgICAgICAgICAgICAgSW50ZXJ2aWV3YXkgQXNzaXN0YW50XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNtOnRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAge3ZvaWNlQ2FsbEFjdGl2ZSA/IFwiVm9pY2UgY2FsbCBhY3RpdmVcIiA6IFwiT25saW5lIG5vd1wifVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgIHt2b2ljZUNhbGxBY3RpdmUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcGlSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXBpUmVmLmN1cnJlbnQuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0Vm9pY2VDYWxsQWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHNldFBoYXNlKFwiY2FwdHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXJvc2UtMjAwIGJnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1yb3NlLTMwMCBob3ZlcjpiZy1yb3NlLTEwMCBhY3RpdmU6c2NhbGUtOTUgdG91Y2gtbWFuaXB1bGF0aW9uIHNtOmgtOSBzbTp3LTlcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFbmQgY2FsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFbmQgY2FsbFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8UGhvbmVPZmYgY2xhc3NOYW1lPVwiaC01IHctNSBzbTpoLTQgc206dy00XCIgYXJpYS1oaWRkZW4gLz5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vd2EubWUvOTE2MzAzMDExMzE2XCJcclxuICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcclxuICAgICAgICAgICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWVtZXJhbGQtMjAwIGJnLXdoaXRlIHRleHQtZW1lcmFsZC03MDAgdHJhbnNpdGlvbiBob3ZlcjpiZy1lbWVyYWxkLTUwIGFjdGl2ZTpzY2FsZS05NSB0b3VjaC1tYW5pcHVsYXRpb24gc206aC05IHNtOnctOVwiXHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDaGF0IG9uIFdoYXRzQXBwXCJcclxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDaGF0IG9uIFdoYXRzQXBwXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGVcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTUgdy01IHNtOmgtNCBzbTp3LTRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXNldENoYXR9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1lbWVyYWxkLTIwMCBob3ZlcjpiZy1lbWVyYWxkLTUwIGhvdmVyOnRleHQtZW1lcmFsZC03MDAgYWN0aXZlOnNjYWxlLTk1IHRvdWNoLW1hbmlwdWxhdGlvbiBzbTpoLTkgc206dy05XCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJlc3RhcnQgY2hhdFwiXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzdGFydCBjaGF0XCJcclxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC01IHctNSBzbTpoLTQgc206dy00XCIgYXJpYS1oaWRkZW4gLz5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBjYWxsIGlmIGFjdGl2ZSB3aGVuIGNsb3NpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAodm9pY2VDYWxsQWN0aXZlICYmIHZhcGlSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFwaVJlZi5jdXJyZW50LnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgaGFzaCB0byBwcmV2ZW50IHJlb3BlbmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gXCIjY2hhdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1yb3NlLTIwMCBob3ZlcjpiZy1yb3NlLTUwIGhvdmVyOnRleHQtcm9zZS03MDAgYWN0aXZlOnNjYWxlLTk1IHRvdWNoLW1hbmlwdWxhdGlvbiBzbTpoLTkgc206dy05XCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIGNoYXRcIlxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkNsb3NlIGNoYXRcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTUgdy01IHNtOmgtNSBzbTp3LTVcIiBhcmlhLWhpZGRlbiAvPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIE1lc3NhZ2VzIEFyZWEgKi99XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICByZWY9e2NoYXRSZWZ9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgZmxleC1jb2wgZ2FwLTUgb3ZlcmZsb3cteS1hdXRvIGJnLWdyYWRpZW50LXRvLWIgZnJvbS1zbGF0ZS01MCB0by13aGl0ZSBweC00IHB5LTUgc206cHgtNSBzbTpnYXAtNFwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgc2Nyb2xsQmVoYXZpb3I6IFwic21vb3RoXCIgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLmlkfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwianVzdGlmeS1lbmRcIiA6IFwianVzdGlmeS1zdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXctWzg1JV0gd2hpdGVzcGFjZS1wcmUtbGluZSByb3VuZGVkLTJ4bCBweC00IHB5LTMgdGV4dC1bMTVweF0gbGVhZGluZy1yZWxheGVkIHNoYWRvdy1zbSBzbTp0ZXh0LWJhc2UgJHtcclxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWVtZXJhbGQtNjAwIHRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctd2hpdGUgdGV4dC1zbGF0ZS05MDAgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5jb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIHtsb2FkaW5nICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtMnhsIGJvcmRlci0yIGJvcmRlci1lbWVyYWxkLTIwMCBiZy13aGl0ZSBweC00IHB5LTIuNSB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHNoYWRvdy1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImgtMiB3LTIgYW5pbWF0ZS1wdWxzZSByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwaGFzZSA9PT0gXCJ2b2ljZVwiID8gXCJTdGFydGluZyB2b2ljZSBjYWxs4oCmXCIgOiBcIlR5cGluZ+KAplwifVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIElucHV0IEFyZWEgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hyaW5rLTAgYm9yZGVyLXQtMiBib3JkZXItc2xhdGUtMTAwIGJnLXNsYXRlLTUwIHB4LTQgcHktNCBzbTpweC01IHNtOnB5LTRcIj5cclxuICAgICAgICAgICAgICB7LyogQ2hvaWNlIFNjcmVlbiAqL31cclxuICAgICAgICAgICAgICB7cGhhc2UgPT09IFwiY2hvaWNlXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICBIb3cgd291bGQgeW91IGxpa2UgdG8gc2hhcmUgeW91ciByZXF1aXJlbWVudD9cclxuICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVR5cGVDaG9pY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyByb3VuZGVkLXhsIGJvcmRlci0yIGJvcmRlci1lbWVyYWxkLTMwMCBiZy13aGl0ZSBweC01IHB5LTQgdGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1lbWVyYWxkLTQwMCBob3ZlcjpiZy1lbWVyYWxkLTUwIGFjdGl2ZTpzY2FsZS05NSB0b3VjaC1tYW5pcHVsYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7wn5KsIFR5cGUgKFF1aWNrIGNoYXQpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3RhcnRWb2ljZX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zIHJvdW5kZWQteGwgYm9yZGVyLTIgYm9yZGVyLWJsdWUtMzAwIGJnLXdoaXRlIHB4LTUgcHktNCB0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtNzAwIHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLWJsdWUtNDAwIGhvdmVyOmJnLWJsdWUtNTAgYWN0aXZlOnNjYWxlLTk1IHRvdWNoLW1hbmlwdWxhdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8TWljIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+8J+Ome+4jyBUYWxrIChGYXN0ZXN0IOKAkyB1bmRlciAxIG1pbnV0ZSk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgey8qIENoYXQgUGhhc2UgKi99XHJcbiAgICAgICAgICAgICAge3BoYXNlID09PSBcImNoYXRcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICB7c2hvd1F1aWNrUmVwbGllcyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge1FVSUNLX1JFUExJRVMubWFwKChyZXBseSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtyZXBseX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UXVpY2tSZXBsaWVzKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgc2VuZE1lc3NhZ2UocmVwbHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1lbWVyYWxkLTMwMCBiZy13aGl0ZSBweC00IHB5LTIuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZW1lcmFsZC03MDAgdHJhbnNpdGlvbiBob3Zlcjpib3JkZXItZW1lcmFsZC00MDAgaG92ZXI6YmctZW1lcmFsZC01MCBhY3RpdmU6c2NhbGUtOTUgdG91Y2gtbWFuaXB1bGF0aW9uIGRpc2FibGVkOm9wYWNpdHktNTBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjaGF0RGlzYWJsZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwbHl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICA8Zm9ybVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGF0RGlzYWJsZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgIHZvaWQgc2VuZE1lc3NhZ2UoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMCByb3VuZGVkLXhsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0zMDAgYmctd2hpdGUgcHgtNCBweS0zLjUgdGV4dC1iYXNlIHRleHQtc2xhdGUtOTAwIHBsYWNlaG9sZGVyLXNsYXRlLTUwMCBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbiBmb2N1czpib3JkZXItZW1lcmFsZC00MDAgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZW1lcmFsZC0yMDAgdG91Y2gtbWFuaXB1bGF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2XigKZcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y2hhdERpc2FibGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hyaW5rLTAgcm91bmRlZC14bCBiZy1lbWVyYWxkLTYwMCBweC01IHB5LTMuNSB0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtd2hpdGUgc2hhZG93LW1kIHNoYWRvdy1lbWVyYWxkLTUwMC8zMCB0cmFuc2l0aW9uIGhvdmVyOmJnLWVtZXJhbGQtNTAwIGFjdGl2ZTpzY2FsZS05NSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCB0b3VjaC1tYW5pcHVsYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2NoYXREaXNhYmxlZCB8fCAhaW5wdXQudHJpbSgpfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIFNlbmRcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgey8qIFZvaWNlIFBoYXNlICovfVxyXG4gICAgICAgICAgICAgIHtwaGFzZSA9PT0gXCJ2b2ljZVwiICYmICF2b2ljZUNhbGxBY3RpdmUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFByZXBhcmluZyB2b2ljZSBjYWxs4oCmXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFBsZWFzZSBhbGxvdyBtaWNyb3Bob25lIGFjY2VzcyB3aGVuIHByb21wdGVkLlxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7cGhhc2UgPT09IFwidm9pY2VcIiAmJiB2b2ljZUNhbGxBY3RpdmUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAg8J+Ome+4jyBWb2ljZSBjYWxsIGlzIGFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICBTcGVhayBuYXR1cmFsbHkuIFRoZSBjb252ZXJzYXRpb24gdHJhbnNjcmlwdCB3aWxsIGFwcGVhciBoZXJlLlxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFwaVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcGlSZWYuY3VycmVudC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQaGFzZShcImNhcHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC14bCBiZy1yb3NlLTYwMCBweC00IHB5LTMuNSB0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtd2hpdGUgc2hhZG93LW1kIHNoYWRvdy1yb3NlLTUwMC8zMCB0cmFuc2l0aW9uIGhvdmVyOmJnLXJvc2UtNTAwIGFjdGl2ZTpzY2FsZS05NSB0b3VjaC1tYW5pcHVsYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgRW5kIGNhbGwgYW5kIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgey8qIExlYWQgQ2FwdHVyZSBGb3JtICovfVxyXG4gICAgICAgICAgICAgIHsocGhhc2UgPT09IFwiY2FwdHVyZVwiIHx8XHJcbiAgICAgICAgICAgICAgICBwaGFzZSA9PT0gXCJzdWJtaXR0aW5nXCIgfHxcclxuICAgICAgICAgICAgICAgIHBoYXNlID09PSBcImRvbmVcIikgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGZvcm1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3BhY2UteS00IHRleHQtc20gdGV4dC1zbGF0ZS04MDBcIlxyXG4gICAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlTGVhZFN1Ym1pdH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBiZy1lbWVyYWxkLTUwIGJvcmRlci0yIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLXhsIHB4LTQgcHktMyBsZWFkaW5nLXJlbGF4ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICBDYW4gSSBzZW5kIHRoaXMgaW5mb3JtYXRpb24gdG8geW91IG9uIGVtYWlsIG9yIFdoYXRzQXBwP1xyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBOYW1lIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcm9zZS02MDBcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC14bCBib3JkZXItMiBib3JkZXItc2xhdGUtMzAwIGJnLXdoaXRlIHB4LTQgcHktMy41IHRleHQtYmFzZSB0ZXh0LXNsYXRlLTkwMCBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbiBmb2N1czpib3JkZXItZW1lcmFsZC00MDAgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZW1lcmFsZC0yMDAgdG91Y2gtbWFuaXB1bGF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiWW91ciBuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsZWFkTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TGVhZE5hbWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwaGFzZSA9PT0gXCJzdWJtaXR0aW5nXCIgfHwgcGhhc2UgPT09IFwiZG9uZVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBFbWFpbCBvciBXaGF0c0FwcCA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJvc2UtNjAwXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTMwMCBiZy13aGl0ZSBweC00IHB5LTMuNSB0ZXh0LWJhc2UgdGV4dC1zbGF0ZS05MDAgb3V0bGluZS1ub25lIHRyYW5zaXRpb24gZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNDAwIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWVtZXJhbGQtMjAwIHRvdWNoLW1hbmlwdWxhdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInlvdXJAZW1haWwuY29tIG9yIHlvdXIgV2hhdHNBcHAgbnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsZWFkRW1haWwgfHwgbGVhZFBob25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhcIkBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMZWFkRW1haWwodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExlYWRQaG9uZShcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMZWFkUGhvbmUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExlYWRFbWFpbChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGhhc2UgPT09IFwic3VibWl0dGluZ1wiIHx8IHBoYXNlID09PSBcImRvbmVcIn1cclxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cImVtYWlsIHRlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC14bCBiZy1lbWVyYWxkLTYwMCBweC00IHB5LTQgdGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdy1tZCBzaGFkb3ctZW1lcmFsZC01MDAvMzAgdHJhbnNpdGlvbiBob3ZlcjpiZy1lbWVyYWxkLTUwMCBhY3RpdmU6c2NhbGUtOTUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAgdG91Y2gtbWFuaXB1bGF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICBwaGFzZSA9PT0gXCJzdWJtaXR0aW5nXCIgfHxcclxuICAgICAgICAgICAgICAgICAgICAgIHBoYXNlID09PSBcImRvbmVcIiB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIWxlYWROYW1lLnRyaW0oKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgKCFsZWFkRW1haWwudHJpbSgpICYmICFsZWFkUGhvbmUudHJpbSgpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwaGFzZSA9PT0gXCJzdWJtaXR0aW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgID8gXCJTZW5kaW5nLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIDogXCJTZW5kIHRvIEludGVydmlld2F5IHRlYW1cIn1cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDAgdGV4dC1jZW50ZXIgbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgWW91ciBkZXRhaWxzIGFyZSBvbmx5IHNoYXJlZCB3aXRoIHRoZSBJbnRlcnZpZXdheSB0ZWFtLiBOb1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW0uXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHJvdW5kZWQteGwgYmctcm9zZS01MCBib3JkZXItMiBib3JkZXItcm9zZS0yMDAgcHgtNCBweS0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtlcnJvcn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJNZXNzYWdlQ2lyY2xlIiwiTWljIiwiUGhvbmVPZmYiLCJSZWZyZXNoQ3ciLCJYIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJWYXBpIiwiUVVJQ0tfUkVQTElFUyIsInVpZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiQ2hhdFdpZGdldCIsImluaXRpYWxNb2RlIiwib3BlbiIsInNldE9wZW4iLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInBoYXNlIiwic2V0UGhhc2UiLCJsZWFkTmFtZSIsInNldExlYWROYW1lIiwibGVhZEVtYWlsIiwic2V0TGVhZEVtYWlsIiwibGVhZFBob25lIiwic2V0TGVhZFBob25lIiwiYnVzaW5lc3NJbmZvIiwic2V0QnVzaW5lc3NJbmZvIiwic2hvd1F1aWNrUmVwbGllcyIsInNldFNob3dRdWlja1JlcGxpZXMiLCJ2b2ljZUNhbGxBY3RpdmUiLCJzZXRWb2ljZUNhbGxBY3RpdmUiLCJjaGF0UmVmIiwiaW5wdXRSZWYiLCJ2YXBpUmVmIiwicHVibGljQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1ZBUElfUFVCTElDX0FQSV9LRVkiLCJjb25zb2xlIiwid2FybiIsImN1cnJlbnQiLCJvbiIsImxvZyIsInZvaWNlTWVzc2FnZSIsImlkIiwicm9sZSIsImNvbnRlbnQiLCJwcmV2IiwiY3VycmVudFBoYXNlIiwibWVzc2FnZSIsInR5cGUiLCJ0cmFuc2NyaXB0IiwidHJhbnNjcmlwdE1lc3NhZ2UiLCJzdG9wIiwiZSIsImhhbmRsZVN0YXJ0Vm9pY2UiLCJhc3Npc3RhbnRJZCIsIk5FWFRfUFVCTElDX1ZBUElfQVNTSVNUQU5UX0lEIiwiRXJyb3IiLCJzdGFydCIsImhhbmRsZVZvaWNlTW9kZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGVuZ3RoIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwibGFzdE1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsInVzZXJNZXNzYWdlQ291bnQiLCJmaWx0ZXIiLCJtIiwiaXNBc2tpbmdCdXNpbmVzc1R5cGUiLCJpbmNsdWRlcyIsInJlc2V0Q2hhdCIsImhhbmRsZVR5cGVDaG9pY2UiLCJkYXRhIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJ3ZWxjb21lTWVzc2FnZSIsInJlcGx5IiwidHJpbSIsIndlbGNvbWUiLCJleHRyYWN0QnVzaW5lc3NJbmZvIiwiaW5mbyIsInVzZXJNZXNzYWdlcyIsIm1hcCIsImZpcnN0QW5zd2VyIiwibWF0Y2giLCJidXNpbmVzc1R5cGUiLCJzZWNvbmRBbnN3ZXIiLCJjb250YWN0TWV0aG9kIiwidGhpcmRBbnN3ZXIiLCJtYWluQ2hhbGxlbmdlIiwiZm91cnRoQW5zd2VyIiwid2Vic2l0ZSIsImFzc2lzdGFudE1lc3NhZ2VzIiwiaSIsIm1zZyIsInN1bW1hcnkiLCJzaG91bGRTaG93TGVhZENhcHR1cmUiLCJoYXNTdW1tYXJ5U2lnbmFsIiwiaGFzRW5vdWdoQW5zd2VycyIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImhhbmRsZUhhc2hDaGFuZ2UiLCJsb2NhdGlvbiIsImhhc2giLCJoYW5kbGVDbGljayIsInRhcmdldCIsImxpbmsiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsInNlbmRNZXNzYWdlIiwidGV4dCIsInRyaW1tZWQiLCJ1c2VyTWVzc2FnZSIsIm5leHRNZXNzYWdlcyIsImFzc2lzdGFudE1lc3NhZ2UiLCJ1cGRhdGVkTWVzc2FnZXMiLCJleHRyYWN0ZWRJbmZvIiwiZ2VuZXJhdGVTdW1tYXJ5IiwicGFydHMiLCJwdXNoIiwiam9pbiIsImhhbmRsZUxlYWRTdWJtaXQiLCJmaW5hbFN1bW1hcnkiLCJzYXZpbmdNZXNzYWdlIiwibGVhZFJlcyIsIm5hbWUiLCJlbWFpbCIsInVuZGVmaW5lZCIsInBob25lIiwiYWlTdW1tYXJ5Iiwic291cmNlIiwic3VjY2Vzc01lc3NhZ2UiLCJmYWlsTWVzc2FnZSIsImNoYXREaXNhYmxlZCIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJyZXBsYWNlU3RhdGUiLCJwYXRobmFtZSIsImFyaWEtbGFiZWwiLCJwIiwidGl0bGUiLCJhcmlhLWhpZGRlbiIsImEiLCJocmVmIiwicmVsIiwiZGlzYWJsZWQiLCJyZWYiLCJzdHlsZSIsInNjcm9sbEJlaGF2aW9yIiwic3BhbiIsImZvcm0iLCJvblN1Ym1pdCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImF1dG9Db21wbGV0ZSIsImxhYmVsIiwicmVxdWlyZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ChatWidget.tsx\n"));

/***/ })

});